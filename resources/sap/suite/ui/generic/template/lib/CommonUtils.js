sap.ui.define(["jquery.sap.global","sap/ui/base/Object","sap/ui/Device","sap/ui/model/Context","sap/ui/model/json/JSONModel","sap/m/Table","sap/m/ListBase","sap/m/MessageBox","sap/ui/generic/app/navigation/service/NavigationHandler","sap/ui/generic/app/navigation/service/NavError","sap/suite/ui/generic/template/lib/testableHelper"],function(q,B,D,C,J,R,L,M,N,a,t){"use strict";function b(o,p){var F=sap.ui.require(p);return typeof F==="function"&&(o instanceof F);}function c(o){return b(o,"sap/ui/comp/smarttable/SmartTable");}function d(o){return b(o,"sap/ui/comp/smartchart/SmartChart");}function e(o){return b(o,"sap/ui/table/Table");}function f(o){return b(o,"sap/ui/table/AnalyticalTable");}function g(o){return b(o,"sap/ui/table/TreeTable");}function h(o){if(d(o)||c(o)){return o.getEntitySet();}else if(c(o.getParent())){return o.getParent().getEntitySet();}}var c=t.testableStatic(c,"CommonUtils_isSmartTable");function l(o,s,m){var n;function A(i){s.oApplication.attachControlToParent(i,o.getView());}function p(i,j,k,r1){return s.oApplication.getDialogFragmentForView(o.getView(),i,j,k,r1);}var r;function u(){r=r||o.getOwnerComponent().getModel("i18n").getResourceBundle();return r.getText.apply(r,arguments);}function v(i){var j=i.getSelectionBehavior();if(j==="DATAPOINT"){return{"dataPoints":i.getSelectedDataPoints().dataPoints,"count":i.getSelectedDataPoints().count};}else if(j==="CATEGORY"){return{"dataPoints":i.getSelectedCategories().categories,"count":i.getSelectedCategories().count};}else if(j==="SERIES"){return{"dataPoints":i.getSelectedSeries().series,"count":i.getSelectedSeries().count};}}function w(j){var k=[];if(c(j)){j=j.getTable();}else if(d(j)){j=j.getChart();if(j&&j.getMetadata().getName()==="sap.chart.Chart"){var r1,s1=false;r1=v(j);if(r1&&r1.count>0){if(j.getSelectionBehavior()==="DATAPOINT"){s1=true;}var t1=r1.dataPoints;var u1=[];for(var i=0;i<t1.length;i++){if(s1){if(t1[i].context){k.push(t1[i].context);}}else{u1.push(t1[i].dimensions);}}if(!s1){k[0]=u1;}}}}if(j instanceof L){k=j.getSelectedContexts();}else if(e(j)){var v1=j.getSelectedIndices();for(var i=0;i<v1.length;i++){k.push(j.getContextByIndex(v1[i]));}}return k;}function x(i){var j={};if(i instanceof sap.ui.core.Element){i.getCustomData().forEach(function(k){j[k.getKey()]=k.getValue();});}return j;}function S(j){var k,r1,s1,t1,u1,v1;var w1=P(j);if(!c(w1)&&!d(w1)){w1=w1.getParent();}var x1=w(w1);var y1=w1.getModel();var z1=y1.getMetaModel();var A1=o.getView();if(c(w1)){k=w1.getCustomToolbar()&&w1.getCustomToolbar().getContent();r1=I(w1);H(r1,x1,y1,w1);}else if(d(w1)){k=w1.getToolbar()&&w1.getToolbar().getContent();var B1=o.getOwnerComponent().getAppComponent();var C1=B1.getConfig();if(o.getMetadata().getName()==='sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage'){r1=I(w1);H(r1,x1,y1,w1);}else if(C1&&C1.pages[0]&&C1.pages[0].component&&C1.pages[0].component.settings&&C1.pages[0].component.settings.quickVariantSelectionX){r1=I(w1);H(r1,x1,y1);}}if(k&&k.length>0){for(var i=0;i<k.length;i++){u1=undefined;s1=k[i];if(s1.getMetadata().getName()==="sap.m.Button"&&s1.getVisible()){v1=x(s1);if(v1&&v1.Type){t1=A1.getLocalId(s1.getId());if(v1.Type==="CRUDActionDelete"){u1=F(y1,z1,x1,w1);w1.getModel("_templPriv").setProperty("/listReport/deleteEnabled",u1);}else if(v1.Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||v1.Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){u1=E(y1,z1,x1,v1.Type,v1.Action,w1);}}if(/generic\/controlProperties/.test(s1.getBindingPath("enabled"))&&u1!==undefined){z(t1,"enabled",u1);}}}}}function y(i){var j;var k=P(i);var r1=w(k);var s1=i.getModel();j=K();H(j,r1,s1,k);}function z(i,j,k){var r1=o.getView().getModel("_templPriv");var s1=r1.getProperty("/generic/controlProperties/"+i);if(!s1){s1={};s1[j]=k;r1.setProperty("/generic/controlProperties/"+i,s1);}else{r1.setProperty("/generic/controlProperties/"+i+"/"+j,k);}}function E(i,k,r1,s1,t1,u1){var v1,w1,x1,y1;var z1=false;if(s1==="com.sap.vocabularies.UI.v1.DataFieldForAction"){v1=k.getODataFunctionImport(t1);x1=v1&&v1["sap:action-for"];if(x1&&x1!==""&&x1!==" "){if(r1.length>0){y1=v1["sap:applicable-path"];if(y1&&y1!==""&&y1!==" "){for(var j=0;j<r1.length;j++){if(!r1[j]){continue;}w1=i.getObject(r1[j].getPath());if(w1&&w1[y1]===true){z1=true;break;}}}else{z1=true;}}}else{z1=true;}}else if(s1==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(r1.length>0||(d(u1)&&u1.getDrillStackFilters().length>0)){z1=true;}}return z1;}function F(j,k,r1,s1){var t1=G(s1);var u1=false;var v1;var w1=k.getODataEntitySet(s1.getEntitySet());if(sap.suite.ui.generic.template.js.AnnotationHelper.areDeleteRestrictionsValid(k,w1.entityType,t1)){if(r1.length>0){var x1=t1&&t1.Deletable&&t1.Deletable.Path;for(var i=0;i<r1.length;i++){v1=j.getObject(r1[i].getPath());if(!v1){break;}if(x1){if(r1[i]&&j.getProperty(x1,r1[i])){if(!(v1.IsActiveEntity&&v1.HasDraftEntity&&v1.DraftAdministrativeData&&j.getProperty("DraftAdministrativeData/InProcessByUser",r1[i]))){u1=true;break;}}}else{if(!(v1.IsActiveEntity&&v1.HasDraftEntity&&v1.DraftAdministrativeData&&j.getProperty("DraftAdministrativeData/InProcessByUser",r1[i]))){u1=true;break;}}}}}return u1;}function G(i){var j=i.getModel()&&i.getModel().getMetaModel();var k=j&&j.getODataEntitySet(i.getEntitySet());var r1=k&&k["Org.OData.Capabilities.V1.DeleteRestrictions"];return r1;}function H(i,j,k,r1){var s1=O(r1);var t1=o.getView().getModel("_templPriv");var u1=t1.getProperty("/generic/listCommons/breakoutActionsEnabled");if(s1){var v1=o.byId("template::IconTabBar");var w1="";if(v1){w1=v1.getSelectedKey();}U(u1,s1,i,j,k,w1,r1);}t1.setProperty("/generic/listCommons/breakoutActionsEnabled",u1);}function U(i,j,k,r1,s1,t1,u1){var v1;for(var w1 in j){v1=true;if(j[w1].requiresSelection){if(r1.length>0){if(j[w1].applicablePath!==undefined&&j[w1].applicablePath!==""){v1=false;for(var x1=0;x1<r1.length;x1++){var y1="";var z1=j[w1].applicablePath.split("/");if(z1.length>1){for(var A1=0;A1<z1.length-1;A1++){y1+="/"+z1[A1];}}var B1=s1.getObject(r1[x1].getPath()+y1);var C1=z1[z1.length-1];if(B1[C1]===true){v1=true;break;}}}}else if(d(u1)&&u1.getDrillStackFilters().length>0){v1=true;}else{v1=false;}}var D1=j[w1].id+((t1&&!j[w1].determining)?"-"+t1:"");i[D1]={enabled:v1};}}function I(i){var j=[];var k=O(i);for(var r1 in k){j.push(k[r1].id);}return j;}function K(){var i=[];var j=O();for(var k in j){if(j[k].determining){i.push(k);}}return i;}function O(i){var j=o.getOwnerComponent().getAppComponent().getManifestEntry("sap.ui5");var k=j.extends&&j.extends.extensions&&j.extends.extensions["sap.ui.controllerExtensions"];k=k&&k[o.getOwnerComponent().getTemplateName()];k=k&&k["sap.ui.generic.app"];var r1=o.getOwnerComponent().getEntitySet();var s1=(c(i)?i.getTableBindingPath():"");s1=s1||(d(i)?i.getChartBindingPath():"");if(!s1){return k&&k[r1]&&k[r1]["Actions"];}else{var t1=k&&k[r1]&&k[r1]["Sections"];var u1=s1+(c(i)?"::com.sap.vocabularies.UI.v1.LineItem":"::com.sap.vocabularies.UI.v1.Chart");return t1&&t1[u1]&&t1[u1].Actions;}}function P(i){var j=i;while(j){if(j instanceof R||e(j)||c(j)||d(j)){return j;}j=j.getParent&&j.getParent();}return null;}function Q(i){if(c(i)){i=i.getTable();}if(e(i)){return i.getBindingInfo("rows");}else if(i instanceof R){return i.getBindingInfo("items");}return null;}function T(i){var j=Q(i);if(j&&j.binding){j.binding.refresh();}else{i.rebindTable();}}function V(i){var j=o.getOwnerComponent();var k=j.getModel();var r1,s1;var t1=!s.oApplication.checkEtags();if(t1){s1=Q(i);if(s1){r1=s1.path;var u1=i.getEntitySet();var v1=k.getMetaModel();var w1=v1.getODataEntitySet(u1);if(o.getMetadata().getName()==='sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage'&&W(k,w1)){k.invalidateEntityType(w1.entityType);}else{k.invalidate(X.bind(null,r1));}var x1=j.getId();var y1=Object.create(null);y1[x1]=true;s.oApplication.refreshAllComponents(y1);}}}function W(i,j){q.sap.require("sap.ui.model.analytics.odata4analytics");var k=new sap.ui.model.analytics.odata4analytics.Model(sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(i));var r1=k.findQueryResultByName(j.name);var s1=r1.getParameterization();return!!s1;}function X(i,k,j){var r1=i[0]==="/"?i.substr(1):i;if(k.split("(")[0]===r1){return true;}else{return false;}}function Y(i,j){var k=i.getPath();var r1=o.getOwnerComponent();var s1=r1.getComponentContainer().getElementBinding();var t1=s1?s1.getPath():"";var u1=null;if(k.indexOf(t1)!==0){u1=Q(j).path;}var v1=!s.oApplication.isNewHistoryEntryRequired(i,u1);var w1;if(m.isDraftEnabled()){w1=s.oDraftController.isActiveEntity(i)?1:6;}else{w1=r1.getModel("ui").getProperty("/editable")?6:1;}var x1=m.getViewLevel();if(x1===0){var y1=s.oApplication.getForwardNavigationProperty(x1);}if(y1){var z1=new Promise(function(B1){i.getModel().createBindingContext(y1,i,null,function(C1){if(C1){s.oNavigationController.navigateToContext(C1,u1,v1,w1);B1();}else{m.navigateToDataLoadedFailedPage();B1();}});});var A1=s.oApplication.getBusyHelper();A1.setBusy(z1);}else{s.oNavigationController.navigateToContext(i,u1,v1,w1);}}function Z(i,j){if(i instanceof C){s.oNavigationController.navigateToContext(i,j&&j.navigationProperty,j&&j.replaceInHistory);return;}var k=j&&j.routeName;if(k){m.navigateRoute(k,i,null,j&&j.replaceInHistory);return;}q.sap.log.warning("navigateToContext called without context or route");}function $(i){if(i instanceof a){if(i.getErrorCode()==="NavigationHandler.isIntentSupported.notSupported"){M.show(u("ST_NAV_ERROR_NOT_AUTHORIZED_DESC"),{title:u("ST_GENERIC_ERROR_TITLE")});}else{M.show(i.getErrorCode(),{title:u("ST_GENERIC_ERROR_TITLE")});}}}function _(i,j){h1(function(){n=o1();var k={semanticObject:i.semanticObject,action:i.action};var r1=n.mixAttributesAndSelectionVariant(i.parameters);o.adaptNavigationParameterExtension(r1,k);n.navigate(i.semanticObject,i.action,r1.toJSONString(),null,$);},q.noop,j,"LeavePage");}function a1(r1){var s1=[],t1,u1,v1;var w1=o.getOwnerComponent();var x1=w1.getModel().getMetaModel();if(!r1){return{};}var y1=w1.getAppComponent().getConfig().pages[0];if(!y1){return{};}var z1=function(i){v1=x1.getODataEntitySet(i.entitySet).entityType;u1=x1.getODataEntityType(v1);t1={};t1={entitySet:i.entitySet,aKeys:x1.getODataEntityType(v1).key.propertyRef,navigationProperty:i.navigationProperty};for(var j=0,B1=t1.aKeys.length;j<B1;j++){var k=0,C1=u1.property.length;for(k;k<C1;k++){if(t1.aKeys[j].name===u1.property[k].name){t1.aKeys[j].type=u1.property[k].type;break;}}}};var A1=function(r1,y1){if(!y1.pages){return s1;}for(var i=0,j=y1.pages.length;i<j;i++){if(!y1.pages[i]){break;}if(r1===y1.pages[i].entitySet){z1(y1.pages[i]);s1.splice(0,0,t1);break;}s1=A1(r1,y1.pages[i]);if(s1.length>0){z1(y1.pages[i]);s1.splice(0,0,t1);}}return s1;};return A1(r1,y1);}function b1(k,r1){var s1,t1,i,u1;for(i=0,u1=k.length;i<u1;i++){if(k[i].navigationProperty){t1+="/"+k[i].navigationProperty;}else{t1="/"+k[i].entitySet;}for(var j=0,v1=k[i].aKeys.length;j<v1;j++){if(j===0){t1+="(";s1="";}else{s1=",";}switch(k[i].aKeys[j].type){case"Edm.Guid":if(r1.DraftAdministrativeData&&r1.DraftAdministrativeData.DraftIsCreatedByMe){t1+=s1+k[i].aKeys[j].name+"="+"guid'"+r1.DraftAdministrativeData[k[i].aKeys[j].name]+"'";}else{t1+=s1+k[i].aKeys[j].name+"="+"guid'"+r1[k[i].aKeys[j].name]+"'";}break;case"Edm.Boolean":if(r1.DraftAdministrativeData&&r1.DraftAdministrativeData.DraftIsCreatedByMe){t1+=s1+k[i].aKeys[j].name+"="+false;}else{t1+=s1+k[i].aKeys[j].name+"="+r1[k[i].aKeys[j].name];}break;default:if(typeof r1[k[i].aKeys[j].name]==="string"){t1+=s1+k[i].aKeys[j].name+"="+"'"+r1[k[i].aKeys[j].name]+"'";}else{t1+=s1+k[i].aKeys[j].name+"="+r1[k[i].aKeys[j].name];}break;}if(j===(v1-1)){t1+=")";}}}return t1;}function c1(k,r1,o){var s1,t1,u1,v1,w1,x1,y1;var z1={semanticObject:"",action:""};n=o1();for(v1 in k.semanticAttributesOfSemanticObjects){s1=n.mixAttributesAndSelectionVariant({},r1);for(u1 in k.semanticAttributesOfSemanticObjects[v1]){if(!s1.getSelectOption(u1)){s1.addParameter(u1,"");}}w1=s1.getPropertyNames();z1.semanticObject=v1;o.adaptNavigationParameterExtension(s1,z1);x1=s1.getSelectOptionsPropertyNames();y1=s1.getParameterNames();for(var i=0,A1=w1.length;i<A1;i++){if(x1.indexOf(w1[i])<0&&y1.indexOf(w1[i])<0){delete k.semanticAttributesOfSemanticObjects[v1][w1[i]];s1.removeSelectOption(w1[i]);}}if(v1===k.semanticObject){var B1=k.semanticAttributesOfSemanticObjects[""];for(var j=0,A1=y1.length;j<A1;j++){if(y1[j]in B1){s1.removeParameter(y1[j]);}else{s1.removeParameter(y1[j]);s1.addParameter(y1[j],k.semanticAttributesOfSemanticObjects[k.semanticObject][y1[j]]);}}s1=n.mixAttributesAndSelectionVariant(k.semanticAttributesOfSemanticObjects[v1],r1);t1=s1.toJSONString();}}delete k.semanticAttributes;n.processBeforeSmartLinkPopoverOpens(k,t1);}function d1(i,j,k){if(!i){return u("DRAFT_OBJECT");}else if(j){return u(k?"LOCKED_OBJECT":"UNSAVED_CHANGES");}else{return"";}}function e1(){var i=p("sap.suite.ui.generic.template.fragments.DraftAdminDataPopover",{formatText:function(){var j=Array.prototype.slice.call(arguments,1);var k=arguments[0];if(!k){return"";}if(j.length>0&&(j[0]===null||j[0]===undefined||j[0]==="")){if(j.length>3&&(j[3]===null||j[3]===undefined||j[3]==="")){return(j.length>2&&(j[1]===null||j[1]===undefined||j[1]===""))?"":j[2];}else{return u(k,j[3]);}}else{return u(k,j[0]);}},closeDraftAdminPopover:function(){i.close();},formatDraftLockText:d1},"admin");return i;}function f1(i,j,k,r1,s1,t1){var u1=s.oApplication.getBusyHelper();if(!s1&&u1.isBusy()){return;}if(!m.isDraftEnabled()){var v1=false;if(k&&k.aUnsavedDataCheckFunctions){v1=k.aUnsavedDataCheckFunctions.some(function(z1){return z1();});}var w1=o.getView();var x1=w1.getModel();if(v1||x1.hasPendingChanges()){var y1;j1(function(){w1.setBindingContext(null);x1.resetChanges();w1.setBindingContext();m.fire(o,"AfterCancel",{});y1=i();},function(){y1=j();},r1,t1);return y1;}}return i();}function g1(i,j,k,r1){var s1=false;if(k&&k.aUnsavedDataCheckFunctions){s1=k.aUnsavedDataCheckFunctions.some(function(u1){return u1();});}if(s1||o.getView().getModel().hasPendingChanges()){var t1;l1(function(){o.getView().getModel().resetChanges();m.fire(o,"AfterCancel",{});t1=i();},function(){t1=j();},r1);return t1;}return i();}function h1(i,j,k,r1,s1,t1){if(s1){return f1(i,j,k,r1,true,t1);}s.oApplication.performAfterSideEffectExecution(f1.bind(null,i,j,k,r1,false,t1));}var i1;function j1(i,j,k,r1){var s1;i1=i;if(!k||!r1){var t1=p("sap.suite.ui.generic.template.fragments.DataLoss",{onDataLossOK:function(){t1.close();i1();},onDataLossCancel:function(){t1.close();j();}},"dataLoss");if(!k){k="LeavePage";}s1=t1.getModel("dataLoss");s1.setProperty("/mode",k);t1.open();}else{var u1=p("sap.suite.ui.generic.template.fragments.DiscardDraftPopover",{onDiscardConfirm:function(){i1();}},"discard");s1=u1.getModel("discard");s1.setProperty("/placement",sap.m.PlacementType.Top);if(k!=="Proceed"){s1.setProperty("/isCreateDraft",true);}else{s1.setProperty("/isCreateDraft",false);}s1.setProperty("/mode",k);u1.openBy(r1.getSource());}}var k1;function l1(i,j,k){k1=i;if(!k){k="LeavePage";}var r1=p("sap.suite.ui.generic.template.fragments.DataLossTechnicalError",{onDataLossOK:function(){r1.close();k1();},onDataLossCancel:function(){r1.close();j();}},"dataLoss");var s1=r1.getModel("dataLoss");s1.setProperty("/mode",k);r1.open();}function m1(i,j,k,r1,s1,t1){if(j.busy.check&&r1.isBusy()){t1();return;}var u1=j.busy.set?function(){r1.setBusy(Promise.resolve(),false,{actionLabel:j.sActionLabel});return i();}:i;var v1=j.mConsiderObjectsAsDeleted?function(x1){s.oApplication.prepareDeletion(j.mConsiderObjectsAsDeleted);return u1();}:u1;var w1=(j.dataloss.popup?h1(v1,t1,k,(j.dataloss.navigation?"LeavePage":"Proceed"),true):v1());if(w1 instanceof Promise){w1.then(s1,t1);}else{s1();}}function n1(i,j,k){j=q.extend(true,{busy:{set:true,check:true},dataloss:{popup:true,navigation:false}},j);var r1=s.oApplication.getBusyHelper();var s1=new Promise(function(t1,u1){s.oApplication.performAfterSideEffectExecution(m1.bind(null,i,j,k,r1,t1,u1));});if(j.busy.set){r1.setBusy(s1,false,{actionLabel:j.sActionLabel});}return s1;}function o1(){n=n||new N(o);return n;}function p1(j){var k;var r1=m.getTemplatePrivateModel();var s1,t1,u1,v1,w1,x1=[],y1=[],i,z1,A1,B1,C1,D1,E1;var F1,G1;s1=o.getOwnerComponent().getAppComponent();t1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService&&sap.ushell.Container.getService("CrossApplicationNavigation");u1=r1.getProperty("/generic/supportedIntents/");if(d(j)){k=j.getToolbar();}else if(c(j)){k=j.getCustomToolbar();}v1=k.getContent();w1=v1.length;for(i=0;i<w1;i++){z1=x(v1[i]);if(z1.hasOwnProperty("SemanticObject")&&z1.hasOwnProperty("Action")){A1=z1.SemanticObject;B1=z1.Action;C1={semanticObject:A1,action:B1,ui5Component:s1};x1.push([C1]);D1=q.extend({},C1);D1.bLinkIsSupported=false;y1.push(D1);}}if(x1.length>0&&t1){E1=t1.getLinks(x1);E1.done(function(H1){u1=r1.getProperty("/generic/supportedIntents/");F1=H1.length;for(i=0;i<F1;i++){if(H1[i][0].length>0){y1[i].bLinkIsSupported=true;}A1=y1[i].semanticObject;B1=y1[i].action;G1=r1.getProperty("/generic/supportedIntents/"+A1);if(!G1){u1[A1]={};u1[A1][B1]={"visible":y1[i].bLinkIsSupported};}else if(!G1[B1]){G1[B1]={"visible":y1[i].bLinkIsSupported};}else{G1[B1]["visible"]=y1[i].bLinkIsSupported;}}r1.updateBindings();});}}function q1(k,r1){var s1=[],t1;var u1=x(k).variantAnnotationPath;if(!u1&&r1){u1=x(r1).variantAnnotationPath;}if(u1){var v1=k.getModel();var w1=v1.getMetaModel();var x1=k.getEntitySet();var y1=w1.getODataEntitySet(x1);var z1=w1.getODataEntityType(y1.entityType);var A1=z1[u1];if(!A1){return;}if(!A1.SelectOptions&&A1.SelectionVariant){A1=A1.SelectionVariant;if(A1.Path){var u1=A1.Path.split("@")[1];A1=u1&&z1[u1];}}if(A1.AnnotationPath){t1=A1.AnnotationPath.split("@")[1];A1=z1[t1];}for(var i in A1.SelectOptions){if(A1.SelectOptions[i].PropertyName){var B1=A1.SelectOptions[i].PropertyName.PropertyPath;for(var j in A1.SelectOptions[i].Ranges){var C1=A1.SelectOptions[i].Ranges[j].Option;C1.EnumMember=C1.EnumMember.replace("com.sap.vocabularies.UI.v1.SelectionRangeOptionType/","");var D1=A1.SelectOptions[i].Ranges[j].Low;var E1=A1.SelectOptions[i].Ranges[j].High;var F1=Object.keys(D1)[0];if(E1){var G1=Object.keys(E1)[0];s1.push(new sap.ui.model.Filter(B1,C1.EnumMember,D1[F1],E1[G1]));}else{s1.push(new sap.ui.model.Filter(B1,C1.EnumMember,D1[F1]));}}}}}return s1;}var o1=t.testable(o1,"getNavigationHandler");var H=t.testable(H,"fillEnabledMapForBreakoutActions");var I=t.testable(I,"getBreakoutActionIds");var P=t.testable(P,"getOwnerControl");var w=t.testable(w,"getSelectedContexts");return{isSmartTable:c,isSmartChart:d,isUiTable:e,isAnalyticalTable:f,isTreeTable:g,getCurrentEntitySetName:h,getText:u,getNavigationHandler:o1,getNavigationKeyProperties:a1,mergeNavigationKeyPropertiesWithValues:b1,executeGlobalSideEffect:function(){if(m.isDraftEnabled()){var i=o.getView();i.attachBrowserEvent("keydown",function(j){var k=(j.target.type==="search")?true:false;var r1=(j.target.type==="textarea")?true:false;if(j.keyCode===13&&j.ctrlKey!==true&&i.getModel("ui").getProperty("/editable")&&!k&&!r1){var s1=o.getOwnerComponent().getAppComponent().getConfig();var t1=s1.settings&&s1.settings.forceGlobalRefresh;var u1;s.oApplication.addSideEffectPromise(new Promise(function(v1){u1=v1;}));setTimeout(function(){var v1=s.oApplicationController.executeSideEffects(i.getBindingContext(),null,null,t1);v1.then(function(){u1();setTimeout(function(){document.getElementById(j.target.id).focus();});});});}});}},setEnabledToolbarButtons:S,setEnabledFooterButtons:y,fillEnabledMapForBreakoutActions:H,getBreakoutActions:O,getSelectedContexts:w,getSelectionPoints:v,getDeleteRestrictions:G,setPrivateModelControlProperty:z,navigateFromListItem:Y,navigateToContext:Z,navigateExternal:_,semanticObjectLinkNavigation:c1,getSelectionVariantFilters:q1,getCustomData:function(j){var k=j.getSource().getCustomData();var r1={};for(var i=0;i<k.length;i++){r1[k[i].getKey()]=k[i].getValue();}return r1;},formatDraftLockText:d1,showDraftPopover:function(i,j){var k=e1();var r1=k.getModel("admin");r1.setProperty("/IsActiveEntity",i.getProperty("IsActiveEntity"));r1.setProperty("/HasDraftEntity",i.getProperty("HasDraftEntity"));k.bindElement({path:i.getPath()+"/DraftAdministrativeData"});if(k.getBindingContext()){k.openBy(j);}else{k.getObjectBinding().attachDataReceived(function(){k.openBy(j);});}},getContentDensityClass:function(){return s.oApplication.getContentDensityClass();},attachControlToView:A,getDialogFragment:p,processDataLossConfirmationIfNonDraft:h1,processDataLossTechnicalErrorConfirmation:g1,securedExecution:n1,getOwnerControl:P,getTableBindingInfo:Q,refreshSmartTable:T,refreshModel:V,getElementCustomData:x,triggerAction:function(i,j,k,r1,s1){h1(function(){s.oCRUDManager.callAction({functionImportPath:k.Action,contexts:i,sourceControl:r1,label:k.Label,operationGrouping:"",navigationProperty:""}).then(function(t1){if(t1&&t1.length>0){var u1=t1[0];if(u1.response&&u1.response.context&&(!u1.actionContext||u1.actionContext&&u1.response.context.getPath()!==u1.actionContext.getPath())){s.oApplication.getBusyHelper().getUnbusy().then(s.oViewDependencyHelper.setMeToDirty.bind(null,o.getOwnerComponent(),j));}}});},q.noop,s1,"Proceed");},checkToolbarIntentsSupported:p1};}return B.extend("sap.suite.ui.generic.template.lib.CommonUtils",{constructor:function(o,s,i){q.extend(this,l(o,s,i));}});});
