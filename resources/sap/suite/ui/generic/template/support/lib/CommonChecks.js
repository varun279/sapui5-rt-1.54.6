sap.ui.define(["sap/suite/ui/generic/template/support/lib/CommonMethods"],function(C){"use strict";var f={UNKNOWN:"Unknown",LISTREPORT:"sap.suite.ui.generic.template.ListReport",ANALYTICALLISTPAGE:"sap.suite.ui.generic.template.AnalyticalListPage",OVERVIEWPAGE:"sap.ovp"};var t={UNKNOWN:"CA-UI5-ST",LISTREPORT:"CA-UI5-ST",ANALYTICALLISTPAGE:"CA-UI5-ST-ALP",OVERVIEWPAGE:"CA-UI5-ST-OVP"};var g=function(){return sap.ui.getVersionInfo();};var G=function(M){return(M&&M["sap.app"]&&M["sap.app"].ach)?M["sap.app"].ach:"";};var a=function(M){if(M&&M["sap.app"]&&M["sap.app"].id){if(M["sap.app"].id==="${project"+".artifactId}"){return e();}return M["sap.app"].id;}return"";};var b=function(M){return(M&&M["sap.fiori"]&&M["sap.fiori"].registrationIds&&M["sap.fiori"].registrationIds.length>0)?M["sap.fiori"].registrationIds:[];};function c(v,P){for(var i=0;i<v.length;i++){if(v[i]&&v[i].id&&v[i].id.includes(P)){return v[i].id.split("::")[0];}}return"";}var d=function(){var x=jQuery(".sapUiXMLView"),O=jQuery(".ovpWrapper"),P="::sap.suite.ui.generic.template",M;if(O&&O.length&&O.length>0){x=O.closest(".sapUiXMLView");if(x&&x.length&&x.length>0&&x[0]&&x[0].id&&sap.ui.getCore().byId(x[0].id)&&sap.ui.getCore().byId(x[0].id).getController()&&sap.ui.getCore().byId(x[0].id).getController().getOwnerComponent()&&sap.ui.getCore().byId(x[0].id).getController().getOwnerComponent().getMetadata()&&sap.ui.getCore().byId(x[0].id).getController().getOwnerComponent().getMetadata().getManifest()){M=sap.ui.getCore().byId(x[0].id).getController().getOwnerComponent().getMetadata().getManifest();}else{return undefined;}}else if(x&&x.length&&x.length>0){for(var i=0;i<x.length;i++){if(x[i].id.includes(P)){if(sap.ui.getCore().byId(x[i].id)&&sap.ui.getCore().byId(x[i].id).getController()&&sap.ui.getCore().byId(x[i].id).getController().getOwnerComponent()&&sap.ui.getCore().byId(x[i].id).getController().getOwnerComponent().getAppComponent()&&sap.ui.getCore().byId(x[i].id).getController().getOwnerComponent().getAppComponent().getMetadata()&&sap.ui.getCore().byId(x[i].id).getController().getOwnerComponent().getAppComponent().getMetadata().getManifest()){M=sap.ui.getCore().byId(x[i].id).getController().getOwnerComponent().getAppComponent().getMetadata().getManifest();break;}}}if(!M||!C.hasObjectContent(M)){return undefined;}if(M&&C.hasObjectContent(M)&&M["sap.app"]&&M["sap.app"].id&&M["sap.app"].id==="${project"+".artifactId}"){M["sap.app"].id=c(x,P);}}else{return undefined;}return M;};var e=function(){var M=d(),x,O,P="::sap.suite.ui.generic.template";if(M&&C.hasObjectContent(M)&&M["sap.app"]&&M["sap.app"].id){x=jQuery(".sapUiXMLView");O=jQuery(".ovpWrapper");if(O&&O.length&&O.length>0){x=O.closest(".sapUiXMLView");}if(x&&x.length&&x.length>0){return c(x,P);}}return"";};var h=function(A){if(!A){return"";}return jQuery.sap.getModulePath(A,"/manifest.json");};var j=function(O,P,M){if(!O||!M){return"";}if(M.startsWith("./")||M.startsWith("../")){if(!P){return"";}return O+P.substring(0,P.lastIndexOf("/")+1)+M;}if(M.startsWith("/")){return O+M;}return"";};var k=function(M){if(M){return M.replace("manifest.json","");}return"";};var I=function(F){if(!F){return false;}for(var K in f){if(!f.hasOwnProperty(K)){continue;}if(f[K]===F){return true;}}return false;};var l=function(F){if(F===f.UNKNOWN){return t.UNKNOWN;}else if(F===f.LISTREPORT){return t.LISTREPORT;}else if(F===f.ANALYTICALLISTPAGE){return t.ANALYTICALLISTPAGE;}else if(F===f.OVERVIEWPAGE){return t.OVERVIEWPAGE;}else{return t.UNKNOWN;}};var m=function(M){return M&&M.hasOwnProperty("sap.ovp")&&Object.keys(M["sap.ovp"]).length!==0;};var n=function(M){if(!(M&&M["sap.ui.generic.app"]&&M["sap.ui.generic.app"].pages&&M["sap.ui.generic.app"].pages!==[])){return false;}var P=M["sap.ui.generic.app"].pages;for(var K in P){if(P.hasOwnProperty(K)){if(P[K]&&P[K].component&&P[K].component.name&&P[K].component.name==="sap.suite.ui.generic.template.ListReport"){return true;}}}return false;};var o=function(M){if(!(M&&M["sap.ui.generic.app"]&&M["sap.ui.generic.app"].pages&&M["sap.ui.generic.app"].pages!==[])){return false;}var P=M["sap.ui.generic.app"].pages;for(var K in P){if(P.hasOwnProperty(K)){if(P[K]&&P[K].component&&P[K].component.name&&P[K].component.name==="sap.suite.ui.generic.template.AnalyticalListPage"){return true;}}}return false;};var p=function(M){if(M){if(m(M)){return f.OVERVIEWPAGE;}else if(n(M)){return f.LISTREPORT;}else if(o(M)){return f.ANALYTICALLISTPAGE;}}return f.UNKNOWN;};var q=function(){return m(d());};var r=function(){return n(d());};var s=function(){return o(d());};var u=function(){var M=d();if(m(M)){return f.OVERVIEWPAGE;}else if(n(M)){return f.LISTREPORT;}else if(o(M)){return f.ANALYTICALLISTPAGE;}return f.UNKNOWN;};return{mFloorplans:f,mTicketComponents:t,getUI5VersionInfo:g,getApplicationComponentByManifest:G,getApplicationIDByManifest:a,getRegistrationIDsByManifest:b,getComponentIDByStructure:e,getManifestByStructure:d,getManifestPath:h,getManifestURL:j,getRootPath:k,isValidFloorplan:I,getTicketComponentForFloorplan:l,isOverviewPageByManifest:m,isListReportByManifest:n,isAnalyticalListPageByManifest:o,getFloorplanByManifest:p,isOverviewPageByStructure:q,isListReportByStructure:r,isAnalyticalListPageByStructure:s,getFloorplanByStructure:u};});
