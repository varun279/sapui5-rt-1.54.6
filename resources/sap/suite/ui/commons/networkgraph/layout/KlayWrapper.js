sap.ui.define(["jquery.sap.global","sap/ui/base/ObjectPool"],function(q,O){var k="sap.ui.thirdparty";function P(){var p=q.sap.getModulePath(k,"/klay.js");this._worker=new Worker(p);}P.prototype.getWorker=function(){return this._worker;};P.prototype.init=function(){};P.prototype.reset=function(){this._worker.onmessage=null;this._worker.onerror=null;};var K={};K._pool=new O(P);K.layout=function(p){if(typeof(Worker)!=="undefined"){try{var o=K._pool.borrowObject(),w=o.getWorker();w.postMessage({graph:p.graph,options:p.options});w.onmessage=function(d){if(d.data.stacktrace){p.error(d.data);}else{p.success(d.data);}K._pool.returnObject(o);};w.onerror=function(E){p.error(E);K._pool.returnObject(o);};}catch(e){K.run(p);}}else{K.run(p);}};K.run=function(p){var o=K.getKlay();o.layout(p);};K.getKlay=function(){if(typeof($klay)==="undefined"){q.sap.require(k+".klay");}return $klay;};return K;},true);
