sap.ui.predefine('sap/ovp/app/Component',["sap/ui/core/UIComponent","sap/ui/model/odata/AnnotationHelper","sap/ovp/cards/rta/SettingsDialogConstants","sap/ui/rta/RuntimeAuthoring"],function(U,A,S){"use strict";return U.extend("sap.ovp.app.Component",{metadata:{routing:{config:{routerClass:sap.ui.core.routing.Router},targets:{},routes:[]},properties:{"cardContainerFragment":{"type":"string","defaultValue":"sap.ovp.app.CardContainer"},"dashboardLayoutUtil":{"type":"sap.ovp.ui.DashboardLayoutUtil"}},version:"1.54.4",library:"sap.ovp.app",dependencies:{libs:[],components:[]},config:{fullWidth:true,hideLightBackground:true}},_addModelsMeasurements:function(){var m=this.oModels;var M,s;for(s in m){M=this.getModel(s);if(M.getMetaModel()){this._addModelMeasurements(M,s);}}},_addModelMeasurements:function(m,M){var i="ovp:ModelLoading-"+M;var I="ovp:ModelBatchCall-"+M+":";jQuery.sap.measure.start(i,"Component createContent -> MetaData loaded","ovp");var g=m.getMetaModel().loaded();g.then(function(){jQuery.sap.measure.end(i);});m.attachBatchRequestSent(function(e){jQuery.sap.measure.start(I+e.getParameter("ID"),"BatchRequestSent -> BatchRequestCompleted","ovp");});m.attachBatchRequestCompleted(function(e){jQuery.sap.measure.end(I+e.getParameter("ID"));});},_getOvpCardOriginalConfig:function(c){var o=this.getOvpConfig();return o.cards[c];},getOvpConfig:function(){var o;var e=[];var m=this.getMetadata();while(m&&m.getComponentName()!=="sap.ovp.app"){o=m.getManifestEntry("sap.ovp");if(o){e.unshift(o);}m=m.getParent();}e.unshift({});e.unshift(true);o=jQuery.extend.apply(jQuery,e);return o;},_checkIfTextProperty:function(p){var a=S.allTexts,f=false;for(var i=0;i<a.length;i++){if(a[i]===p){f=true;break;}}return f;},_isEquivalent:function(o,O){var f=true;if((!o&&O)||(o&&!O)){return false;}for(var p in o){if(o.hasOwnProperty(p)){var v=o[p];if(typeof v=="object"){f=f&&this._isEquivalent(v,O[p]);}else{f=f&&((O[p]==v)||this._checkIfTextProperty(p));}}}return f;},_removeExtraArrayElements:function(s,c){var a=s["staticContent"],C=c["staticContent"],b=s["tabs"],d=c["tabs"];if(a&&C){if(a.length>C.length){s["staticContent"].splice(C.length,a.length-C.length);}}if(b&&d){if(b.length>d.length){s["tabs"].splice(d.length,b.length-d.length);}}},_emptyAllArrayElements:function(s){var a=s["staticContent"],b=s["tabs"],i;if(a){for(i=0;i<a.length;i++){s["staticContent"][i]={};}}if(b){for(i=0;i<b.length;i++){s["tabs"][i]={};}}},_mergeObjects:function(o,O){for(var p in O){if(O.hasOwnProperty(p)){var v=O[p];if(typeof v=="object"&&o[p]){if(v.operation==="DELETE"){delete o[p];}else{this._mergeObjects(o[p],v);}}else{o[p]=v;}}}return o;},_mergeKeyUserChanges:function(c){if(!(c.hasOwnProperty("customer.settings")&&c.hasOwnProperty("vendor.settings"))){return c;}if(!this._isEquivalent(c["settings"],c["vendor.settings"])){delete c["customer.settings"];delete c["vendor.settings"];return c;}var s=jQuery.extend(true,{},c["settings"]),C=jQuery.extend(true,{},c["customer.settings"]);this._removeExtraArrayElements(s,C);this._emptyAllArrayElements(s);c["settings"]=this._mergeObjects(s,C);return c;},_getFullyQualifiedNameForEntity:function(e,f){var n,r;if(!e){return"";}if(e.indexOf(".")>-1){return e;}var d=f&&f.getODataEntityContainer();n=d&&d.namespace;if(n&&!(e.indexOf(n)>-1)){r=n+"."+e;}else{r=e;}return r;},createXMLView:function(o){jQuery.sap.measure.start("ovp:AppCreateContent","OVP app Component createContent","ovp");this._addModelsMeasurements();if(this.getRouter()){this.getRouter().initialize();}var a=this.getMetadata().getManifestEntry("sap.app");var u=this.getMetadata().getManifestEntry("sap.ui");var i=jQuery.sap.getObject("icons.icon",undefined,u);var c=this.getMetadata().getComponentName();o.baseUrl=jQuery.sap.getModulePath(c);if(o.smartVariantRequired===undefined||o.smartVariantRequired===null){o.smartVariantRequired=true;}if(o.enableLiveFilter===undefined||o.enableLiveFilter===null){o.enableLiveFilter=true;}if(o.showDateInRelativeFormat===undefined||o.showDateInRelativeFormat===null){o.showDateInRelativeFormat=true;}if(o.useDateRangeType||o.useDateRangeType===undefined||o.useDateRangeType===null){o.useDateRangeType=false;}var f=this.getModel(o.globalFilterModel);var F=f&&f.getMetaModel();this.setModel(f);if(o.globalFilterEntitySet&&o.globalFilterEntitySet!==" "){var e=F&&F.getODataEntitySet(o.globalFilterEntitySet);o.globalFilterEntityType=e&&e.entityType;}if(o.globalFilterEntityType&&o.globalFilterEntityType!==" "&&o.globalFilterEntityType.length>0){o.globalFilterEntityType=this._getFullyQualifiedNameForEntity(o.globalFilterEntityType,F);o.globalFilterEntityTypeNQ=o.globalFilterEntityType.split(".").pop();}var b=new sap.ui.model.json.JSONModel(o);b.setProperty("/applicationId",jQuery.sap.getObject("id",undefined,a));b.setProperty("/title",jQuery.sap.getObject("title",undefined,a));b.setProperty("/description",jQuery.sap.getObject("description",undefined,a));if(i){if(i.indexOf("sap-icon")<0&&i.charAt(0)!=='/'){i=o.baseUrl+"/"+i;}b.setProperty("/icon",i);}var C=o.cards;var d=[];var g;for(var h in C){if(C.hasOwnProperty(h)&&C[h]){g=this._mergeKeyUserChanges(C[h]);g.id=h;d.push(g);}}d.sort(function(k,l){if(k.id<l.id){return-1;}else if(k.id>l.id){return 1;}else{return 0;}});b.setProperty("/cards",d);if(this.inResizableTestMode()===true){o.containerLayout="resizable";}if(o.containerLayout&&o.containerLayout==="resizable"){jQuery.sap.require("sap.ovp.ui.DashboardLayoutUtil");b.setProperty("/cardContainerFragment","sap.ovp.app.DashboardCardContainer");b.setProperty("/dashboardLayout",o.resizableLayout);var D=new sap.ovp.ui.DashboardLayoutUtil(b);this.setDashboardLayoutUtil(D);}else{b.setProperty("/cardContainerFragment",this.getCardContainerFragment());}var v=this.createMapForValueHelpEntity(o);b.setProperty("/ValueHelpEntityMap",v);this.setModel(b,"ui");var j=this._getOvpLibResourceBundle();this.setModel(j,"ovplibResourceBundle");var E=F&&F.getODataEntityType(o.globalFilterEntityType,true);var V=sap.ui.view("mainView",{height:"100%",preprocessors:{xml:{bindingContexts:{ui:b.createBindingContext("/"),meta:F.createBindingContext(E)},models:{ui:b,meta:F}}},type:sap.ui.core.mvc.ViewType.XML,viewName:"sap.ovp.app.Main"});jQuery.sap.measure.end("ovp:AppCreateContent");return V;},_showErrorPage:function(){var v=sap.ui.view({height:"100%",type:sap.ui.core.mvc.ViewType.XML,viewName:"sap.ovp.app.Error"});var o=this._getOvpLibResourceBundle();v.setModel(o,"ovplibResourceBundle");this.setAggregation("rootControl",v);this.oContainer.invalidate();},_formParamString:function(p){var k=Object.keys(p);var i;var P="?";for(i=0;i<k.length;i++){P=P+k[i]+"="+p[k[i]]+"&";}return P.slice(0,-1);},_checkForAuthorizationForLineItems:function(){return new Promise(function(r,a){var b=[],c=[];var o=this.getOvpConfig();var C=o["cards"];for(var s in C){if(C.hasOwnProperty(s)&&C[s]){var d=C[s];var e=d.settings;if(d.template==="sap.ovp.cards.linklist"&&e.listFlavor==="standard"&&e.staticContent){var f=e.staticContent;for(var i=0;i<f.length;i++){if(f[i].semanticObject||f[i].action){var I="#"+f[i].semanticObject+"-"+f[i].action;if(f[i].params){var p=this._formParamString(f[i].params);I=I+p;}if(c.indexOf(s)===-1){c.push(s);}if(b.indexOf(I)===-1){b.push(I);}}}}}}this._oCardsWithStaticContent=c;sap.ushell.Container.getService('CrossApplicationNavigation').isIntentSupported(b).done(function(R){var o=this.getOvpConfig();for(var k in R){if(R.hasOwnProperty(k)&&R[k].supported===false){for(var i=0;i<this._oCardsWithStaticContent.length;i++){var f=o["cards"][this._oCardsWithStaticContent[i]].settings.staticContent;for(var j=f.length-1;j>=0;j--){var I="#"+f[j].semanticObject+"-"+f[j].action;if(f[j].params){var p=this._formParamString(f[j].params);I=I+p;}if(k===I){f.splice(j,1);}}o["cards"][this._oCardsWithStaticContent[i]].settings.staticContent=f;}}}delete this._oCardsWithStaticContent;r(o);}.bind(this)).fail(function(E){jQuery.sap.log.error(E);});}.bind(this));},setContainer:function(){var o=this.getOvpConfig();var f=this.getModel(o.globalFilterModel);U.prototype.setContainer.apply(this,arguments);if(f&&!this.getAggregation("rootControl")){Promise.all([f.getMetaModel().loaded(),this._checkForAuthorizationForLineItems(o)]).then(function(r){this.oOvpConfig=r[1];this.runAsOwner(function(){var v=this.createXMLView(this.oOvpConfig);this.setAggregation("rootControl",v);this.oContainer.invalidate();}.bind(this));}.bind(this));f.attachMetadataFailed(function(){this._showErrorPage();}.bind(this));}},_getOvpLibResourceBundle:function(){if(!this.ovplibResourceBundle){var r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");this.ovplibResourceBundle=r?new sap.ui.model.resource.ResourceModel({bundleUrl:r.oUrlInfo.url,bundle:r}):null;}return this.ovplibResourceBundle;},createMapForEntityContainer:function(e){var E={};var o=e.entitySet;for(var i=0;i<o.length;i++){E[o[i].name]=o[i].entityType;}return E;},createMapForValueHelpEntity:function(o){var f=this.getModel(o.globalFilterModel);var v=[];var F=f.getMetaModel().getODataEntityType(o.globalFilterEntityType);if(!F){return v;}var e=[];e.push(F);var c=0;var n=false;var E=this.createMapForEntityContainer(f.getMetaModel().getODataEntityContainer());if(F.navigationProperty){n=true;}while(e.length!=0){var a=e.shift();for(var i=0;i<a.property.length;i++){var p=a.property[i];if(p["com.sap.vocabularies.Common.v1.ValueList"]){v.push(E[p["com.sap.vocabularies.Common.v1.ValueList"].CollectionPath.String]);}}if(!n||!(F.navigationProperty[c])){break;}var s=f.getMetaModel().getODataAssociationEnd(F,F.navigationProperty[c].name).type;var N=f.getMetaModel().getODataEntityType(s);e.push(N);c++;}return v;},inResizableTestMode:function(){return this._getQueryParamUpToTop('resizableTest')=='true';},_getQueryParamUpToTop:function(n){var w=window;var v=this.getQueryParam(w.location.search,n);if(v!=null){return v;}if(w==w.parent){return null;}w=w.parent;return null;},getQueryParam:function(q,n){var v=null;if(!q){return v;}if(q.indexOf('?')!=-1){q=q.substring(q.indexOf('?'));}if(q.length>1&&q.indexOf(n)!=-1){q=q.substring(1);var p=q.split('&');for(var i=0;i<p.length;i++){var a=p[i].split('=');if(a[0]==n){v=a[1];break;}}}return v;}});});
sap.ui.predefine('sap/ovp/app/Main.controller',["sap/ui/core/mvc/Controller","sap/ui/model/odata/ODataUtils","sap/ovp/cards/generic/Component","sap/ui/generic/app/navigation/service/NavigationHandler","sap/m/MessageBox","sap/ovp/cards/CommonUtils","sap/ovp/cards/PersonalizationUtils","sap/ovp/cards/charts/VizAnnotationManager","sap/ushell/ui/footerbar/AddBookmarkButton","sap/m/BusyDialog","sap/ui/model/resource/ResourceModel","sap/ui/model/Filter","sap/ui/comp/smartvariants/SmartVariantManagement","sap/ui/comp/smartvariants/PersonalizableInfo","sap/ui/generic/app/navigation/service/SelectionVariant","sap/ui/comp/state/UIState","sap/m/ColumnListItem","sap/m/Text","sap/m/Switch","sap/m/Table","sap/m/Column","sap/m/Button","sap/m/Dialog","sap/ui/model/json/JSONModel"],function(C,O,a,N,M,b,P,V,A,B,R,F,S,c,d,U,f,T,g,h,m,n,D,J){"use strict";return C.extend("sap.ovp.app.Main",{getCustomAppStateDataExtension:function(o){},restoreCustomAppStateDataExtension:function(o){},getCustomFilters:function(){},onCustomActionPress:function(s){},onCustomParams:function(s){},oRefreshTimer:null,nRefreshInterval:0,filterItemInFocus:null,storeIncomingDeltaChanges:function(e){this.deltaCardsInfo=e?e:[];},appendIncomingDeltaChange:function(o){this.deltaChanges.push(o);},onInit:function(){this.oContainer=sap.ushell.Container;this.bDeltaChangesEnabled=false;this.deltaChanges=[];this.oCardsModels={};this.aFilters=[];this.errorHandlingObject={atLeastOneRequestSuccess:false,errorLoadingTimeout:{}};this.sPreviousEntityType="";this.sCurrentEntityType="";this.oLoadedComponents={};this.bGlobalFilterLoaded=false;this.bGoButtonPressed=false;jQuery.sap.measure.start("ovp:GlobalFilter","Main Controller init -> Global Filter loaded","ovp");jQuery.sap.measure.start("ovp:Personalization","Main Controller init -> Personalization loaded","ovp");this.isInitialLoading=true;var u=this.getUIModel();this.oValueHelpMap=u&&u.getProperty("/ValueHelpEntityMap");this.bDisableErrorPage=u&&u.getProperty("/disableErrorPage");this.oNavigationHandler=this.oNavigationHandler||new N(this);this._initFlexibilityPersonalization();this.getLayout().addStyleClass("ovpLayoutElement");this.oState={};this.oState.oSmartFilterbar=this.byId("ovpGlobalFilter");this._initGlobalFilter();this._createModelForTile();this._checkJamAuth();sap.ovp.cards.CommonUtils.enable(this,this.oNavigationHandler);},performRecreationOfCard:function(o){this.createLoadingCard(o);o.settings.baseUrl=this._getBaseUrl();this._clearStoredEntities();this._initCardModel(o.model);this._loadCardComponent(o.template);this._createModelViewMap(o);jQuery.when(this.createCard(o)).then(function(){if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){var e=this.getLayout().getDashboardLayoutUtil();if(e){var i=e.getDashboardLayoutModel();var j=i.getCardById(o.id);j.dashboardLayout.autoSpan=false;e._sizeCard(j);i.extractCurrentLayoutVariant();}}}.bind(this));},recreateCard:function(s){var o=this._getCardFromManifest(s.cardId);if(o.template=="sap.ovp.cards.charts.analytical"){o.settings.chartAnnotationPath=s.chartAnnotationPath;o.settings.navigation=s.navigation;}o.settings.annotationPath=s.annotationPath;o.settings.dynamicSubtitleAnnotationPath=s.dynamicSubtitleAnnotationPath;o.settings.presentationAnnotationPath=s.presentationAnnotationPath;o.settings.selectionAnnotationPath=s.selectionAnnotationPath;o.settings.selectionPresentationAnnotationPath=s.selectionPresentationAnnotationPath;o.settings.kpiAnnotationPath=s.kpiAnnotationPath;o.settings.dataPointAnnotationPath=s.dataPointAnnotationPath;o.settings.identificationAnnotationPath=s.identificationAnnotationPath;o.settings.headerAnnotationPath=s.headerAnnotationPath;var e=o.settings.selectedKey;o.settings.selectedKey=s.selectedKey;if(o){this.performRecreationOfCard(o);}var i={changeType:"viewSwitch",content:{cardId:s.cardId,selectedKey:s.selectedKey,oldKey:e},isUserDependent:true};this.savePersonalization(i);},recreateRTAClonedCard:function(o){var e=this._getCardFromManifest(o.id);if(e){e.settings=o.settings;this.performRecreationOfCard(e);}},onBeforeRendering:function(){},onAfterRendering:function(){this.oModelViewMap={};this.oAppStatePromise=null;if(this.getView().getModel("ui").getProperty("/refreshIntervalInMinutes")){this.nRefreshInterval=this.getView().getModel("ui").getProperty("/refreshIntervalInMinutes");this.nRefreshInterval=(this.nRefreshInterval<=1?1:this.nRefreshInterval)*60000;}if(this.getView()&&this.getView().byId('ovpErrorPage')){jQuery(this.getView().byId('ovpErrorPage').getDomRef()).hide();}if(this.initialized){return;}this.initialized=true;this.oFlexibilityPersonalizationPromise.then(function(){jQuery.sap.measure.end("ovp:Personalization");this.persistencyVariantLoaded=true;var o;var e=[],i=[];this.aManifestOrderedCards=this._getCardArrayAsVariantFormat(this.getLayout().getContent());for(var j=0;j<this.aManifestOrderedCards.length;j++){o=this._getCardFromManifest(this.aManifestOrderedCards[j].id);if(o&&o.settings&&o.settings.requireAppAuthorization){e.push({id:o.id,cardIntent:o.settings.requireAppAuthorization});i.push(o.settings.requireAppAuthorization);}}if(i.length>0){this._checkForAuthorization(e,i);}else{this.aOrderedCards=this._mergeLREPContent(this.aManifestOrderedCards);this.organizeCards(this.aOrderedCards);}}.bind(this),function(e){jQuery.sap.log.error("Could not load information from LREP Persistency");jQuery.sap.log.error(e);});if(sap.ui.Device.system.phone){jQuery.sap.require("sap.ovp.ui.SmartphoneHeaderToggle");sap.ovp.ui.SmartphoneHeaderToggle.enable(this);}setTimeout(function(){if(!this.persistencyVariantLoaded){this.busyDialog=new B({text:this._getLibraryResourceBundle().getText("loading_dialog_text")});this.busyDialog.open();this.busyDialog.addStyleClass('sapOVPBusyDialog');}}.bind(this),500);},organizeCards:function(o){var e;var v=[];this._updateLayoutWithOrderedCards();this._updateDashboardLayoutCards(o);if(this.isDragAndDropEnabled()){this._initShowHideCardsButton();}this._clearStoredEntities();for(var i=0;i<this.aOrderedCards.length;i++){if(this.aOrderedCards[i].visibility){e=this._getCardFromManifest(this.aOrderedCards[i].id);if(e){v.push(e);}}}for(var i=0;i<v.length;i++){this._initCardModel(v[i].model);if(v[i].template==="sap.ovp.cards.charts.smart.chart"){v[i].template=v[i].settings.tabs?"sap.ovp.cards.charts.analytical":this._getTemplateForChart(v[i]);}this._loadCardComponent(v[i].template);this._createModelViewMap(v[i]);}jQuery.sap.measure.start("ovp:CreateLoadingCards","Create Loading cards","ovp");for(var i=0;i<v.length;i++){this.createLoadingCard(v[i]);}jQuery.sap.measure.end("ovp:CreateLoadingCards");setTimeout(function(){this.getLayout().addStyleClass("ovpLayoutElementShow");}.bind(this),0);setTimeout(function(){jQuery.sap.measure.start("ovp:CreateCards","Create cards loop","ovp");for(var i=0,j=0;j<v.length;i++,j++){while(v[j].id!==o[i].id){i++;}e=v[j];if(!e.settings.title){jQuery.sap.log.error("title is mandatory for card ID : "+e.id);}if(e.settings.tabs){var I=0;if(this.aOrderedCards[i].selectedKey){I=this.aOrderedCards[i].selectedKey-1;}this.initializeTabbedCard(e,I);}e.settings.baseUrl=this._getBaseUrl();this.createCard(e);}jQuery.sap.measure.end("ovp:CreateCards");}.bind(this),10);if(this.busyDialog){this.busyDialog.close();}},_getTemplateForChart:function(o){var v=this.getView();var e=v.getModel(o.model);var i=e.getMetaModel();var E=i.getODataEntitySet(o.settings.entitySet);var j=i.getODataEntityType(E.entityType);var k;var l;var s;var t;var p;if(o&&o.settings){if(o.settings.kpiAnnotationPath){var K=j[o.settings.kpiAnnotationPath];p=K.Detail.DefaultPresentationVariant&&K.Detail.DefaultPresentationVariant.Path;if(p){t=this._getTemplateForChartFromVisualization(p,o,e,E,j);}}if(!t&&o.settings.selectionPresentationAnnotationPath){var q=j[o.settings.selectionPresentationAnnotationPath];if(q){p=q.PresentationVariant&&q.PresentationVariant.Path;if(p){t=this._getTemplateForChartFromVisualization(p,o,e,E,j);}}}if(!t&&o.settings.chartAnnotationPath){k=j[o.settings.chartAnnotationPath];l=k&&k.ChartType&&k.ChartType.EnumMember;if(l&&l.split("/")[1]==="Donut"){t="sap.ovp.cards.charts.analytical";}else{var r=sap.ovp.cards.charts.VizAnnotationManager.getConfig(k.ChartType);s=sap.ovp.cards.charts.VizAnnotationManager.hasTimeSemantics(k.DimensionAttributes,r,e,E.name);if(s){t="sap.ovp.cards.charts.analytical";}else{t="sap.ovp.cards.charts.smart.chart";}}}return t;}},_getTemplateForChartFromVisualization:function(p,o,e,E,i){if(/^@/.test(p)){p=p.slice(1);}o.settings.presentationAnnotationPath=p;var v=i[p].Visualizations;var j;var k;var l;var s;var t;for(j=0;j<v.length;j++){var q=v[j].AnnotationPath;if(!q){return;}if(!q.startsWith("@")){return;}q=q.slice(1);if(q.indexOf("Chart")!=-1){k=i[q];l=k&&k.ChartType&&k.ChartType.EnumMember;if(l&&l.split("/")[1]==="Donut"){t="sap.ovp.cards.charts.analytical";}else{var r=sap.ovp.cards.charts.VizAnnotationManager.getConfig(k.ChartType);s=sap.ovp.cards.charts.VizAnnotationManager.hasTimeSemantics(k.DimensionAttributes,r,e,E.name);if(s){t="sap.ovp.cards.charts.analytical";}else{t="sap.ovp.cards.charts.smart.chart";}}}return t;}},_createModelViewMap:function(o){if(!o||!o.settings||!o.model){return;}if(!o.settings.entitySet||o.settings.entitySet===""){return;}if(!(o.template.startsWith("sap.ovp.cards"))){return;}var s=o.model;if(!this.oModelViewMap[s]){this.oModelViewMap[s]={};}this.oModelViewMap[s][o.id]=true;},initializeTabbedCard:function(o,i){if(o.template=="sap.ovp.cards.charts.analytical"){o.settings.chartAnnotationPath=o.settings.tabs[i].chartAnnotationPath;o.settings.navigation=o.settings.tabs[i].navigation;}o.settings.annotationPath=o.settings.tabs[i].annotationPath;o.settings.dynamicSubtitleAnnotationPath=o.settings.tabs[i].dynamicSubtitleAnnotationPath;o.settings.presentationAnnotationPath=o.settings.tabs[i].presentationAnnotationPath;o.settings.selectionAnnotationPath=o.settings.tabs[i].selectionAnnotationPath;o.settings.selectionPresentationAnnotationPath=o.settings.tabs[i].selectionPresentationAnnotationPath;o.settings.kpiAnnotationPath=o.settings.tabs[i].kpiAnnotationPath;o.settings.dataPointAnnotationPath=o.settings.tabs[i].dataPointAnnotationPath;o.settings.identificationAnnotationPath=o.settings.tabs[i].identificationAnnotationPath;o.settings.params=o.settings.tabs[i].params;o.settings.selectedKey=i+1;},_getLibraryResourceBundle:function(){if(!this.oLibraryResourceBundle){this.oLibraryResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");}return this.oLibraryResourceBundle;},_getOvplibResourceBundle:function(){return this.getOwnerComponent()._getOvpLibResourceBundle();},_getCardsModel:function(){if(!this.oCards){var u=this.getUIModel();this.oCards=u.getProperty("/cards");}return this.oCards;},_getBaseUrl:function(){var u=this.getUIModel();if(!this.sBaseUrl){this.sBaseUrl=u.getProperty("/baseUrl");}return this.sBaseUrl;},_getApplicationId:function(){var u=this.getUIModel();return u.getProperty("/applicationId");},_getCardFromManifest:function(s){var e=this._getCardsModel();for(var i=0;i<e.length;i++){if(e[i].id===s){return e[i];}}return null;},_getCardArrayAsVariantFormat:function(e){var j=[];for(var i=0;i<e.length;i++){var I=this._getCardId(e[i].getId());j.push({id:I,visibility:e[i].getVisible()});var s;if(this.getView()&&this.getView().byId){if(this.getView().byId(I).getComponentInstance()){s=this.getView().byId(I).getComponentInstance().getComponentData().settings.selectedKey;}}if(s){j[j.length-1].selectedKey=s;}}return j;},_checkForAuthorization:function(e,o){if(!this.oContainer){return;}var t=this;var u=[];var p=sap.ovp.cards.CommonUtils.getNavigationHandler();if(p&&p.oCrossAppNavService){p.oCrossAppNavService.isIntentSupported(o).done(function(r){for(var i=0;i<e.length;i++){if(r[e[i].cardIntent].supported===false){u.push(e[i].id);for(var j=0;j<t.aManifestOrderedCards.length;j++){if(e[i].id===t.aManifestOrderedCards[j].id){t.aManifestOrderedCards.splice(j,1);break;}}}}t.aOrderedCards=t._mergeLREPContent(t.aManifestOrderedCards);function q(s,v,w){if(s.id===u[this.unsupportedCardIndex]){w.splice(v,1);}}for(var k=0;k<u.length;k++){for(var l=0;l<t.aOrderedCards.length;l++){if(t.aOrderedCards[l].id==u[k]){t.aOrderedCards.splice(l,1);if(t.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){t.getLayout().dashboardLayoutUtil.aCards.map(q,{unsupportedCardIndex:k});t.getLayout().dashboardLayoutUtil.dashboardLayoutModel.oLayoutVars.map(q,{unsupportedCardIndex:k});}break;}}}t.organizeCards(t.aOrderedCards);}).fail(function(){jQuery.sap.log.error("Could not get authorization from isIntentSupported");t.aOrderedCards=t._mergeLREPContent(t.aOrderedCards);t.organizeCards(t.aOrderedCards);});}},_mergeLREPContent:function(l){var e=[];var i=false;if(this.bDeltaChangesEnabled&&Array.isArray(this.deltaCardsInfo)&&this.deltaCardsInfo.length>0){l=P.addMissingCardsFromManifest(l,this.deltaCardsInfo);i=true;}if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){if(!i){l=this.getLayout().getLayoutDataJSON();}e=P.mergeChanges(l,this.deltaChanges);this._bDashboardLayoutLrepActive=true;this.getLayout().getDashboardLayoutModel().setLayoutVars(e);}else{e=P.mergeChanges(l,this.deltaChanges);}return e?e:[];},_updateLayoutWithOrderedCards:function(){var l=this.getLayout();var o=this.aOrderedCards;l.removeAllContent();var e,k=false;if(this.getView().getModel("ui")&&this.getView().getModel("ui").getProperty("/cards")){e=this.getView().getModel("ui").getProperty("/cards");for(var i=0;i<e.length;i++){k=false;for(var j=0;j<o.length;j++){if(e[i].id==o[j].id){k=true;break;}}if(!k&&this.getView().byId(e[i].id)){this.getView().byId(e[i].id).destroy();}}}for(var i=0;i<o.length;i++){var p=this.getView().byId(o[i].id);if(p){p.setVisible(o[i].visibility);l.addContent(p);}}},_updateDashboardLayoutCards:function(e){if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){if(this.getLayout().getDashboardLayoutUtil()){this.getLayout().getDashboardLayoutUtil().updateCardVisibility(e);}}},_resetDashboardLayout:function(){if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){if(this.getLayout().getDashboardLayoutUtil()){this.getLayout().getDashboardLayoutUtil().resetToManifest();}this.getLayout().rerender();}},_getCardArrayAsVariantFormatDashboard:function(){var e=[];var l=this.getLayout();var i=l.dashboardLayoutUtil.aCards;l.dashboardLayoutUtil.dashboardLayoutModel._sortCardsByRow(i);i.forEach(function(j){e.push({id:j.id,visibility:j.dashboardLayout.visible});});return e;},verifyGlobalFilterLoaded:function(){var G=this.getGlobalFilter();if(G.search()){if(G.validateMandatoryFields()){return true;}}this.getView().byId("ovpMain").setHeaderExpanded(true);return false;},onGlobalFilterChange:function(){this.filterChanged=true;},onGlobalFilterSearch:function(){if(this.filterChanged||this.bGoButtonPressed){var G=this.getGlobalFilter();if(G&&!G.isDialogOpen()){this._storeCurrentAppStateAndAdjustURL();}this._clearStoredEntities();var e=[];if(this.oGlobalFilter['_aFields'].length>0){e=this.oGlobalFilter["_aFields"];}else{var k=this.oGlobalFilter['_aFilterBarViewMetadata'];for(var i=0;i<k.length;i++){var l=k[i];for(var j=0;j<l.fields.length;j++){e.push(l.fields[j]);}}}for(var i=0;i<e.length;i++){if(e[i].control){var o=document.getElementById(e[i].control.sId);if(jQuery(o).hasClass('sapMFocus')){this.filterItemInFocus=e[i].control;break;}}}var s="ovp-"+new Date().getTime();for(var p in this.oCardsModels){if(this.oCardsModels.hasOwnProperty(p)){try{this.oCardsModels[p].refresh(false,false,s);}catch(q){jQuery.sap.log.warning(q);}}}this.filterChanged=false;this.bGoButtonPressed=false;this._clearStoredEntities();}},_clearStoredEntities:function(){if(this.sPreviousEntityType){this.sPreviousEntityType="";}if(this.sCurrentEntityType){this.sCurrentEntityType="";}},_processFilters:function(){this.aFilters=[];var G=this.getGlobalFilter();if(!G){return;}var e=G.getFilters();var o=this.getCustomFilters();if(o&&(o instanceof sap.ui.model.Filter)){if(o){var i=[];if(e&&e.length>0){i.push(new F([e[0],o],true));}else{i.push(o);}if(i.length>0){e=i;}}}this.aFilters=e;},_initGlobalFilter:function(){var G=this.getGlobalFilter();if(!G){this.bGlobalFilterLoaded=true;this._parseNavigationVariant();jQuery.sap.measure.end("ovp:GlobalFilter");return;}G.attachFiltersDialogClosed(this._storeCurrentAppStateAndAdjustURL.bind(this));var v=G.getVariantManagement();if(v){v.attachAfterSave(function(e){this._storeCurrentAppStateAndAdjustURL();}.bind(this));}this.oGlobalFilterLoadedPromise=new Promise(function(r,e){G.attachInitialized(function(){this._parseNavigationVariant();if(this.oParseNavigationPromise){this.oParseNavigationPromise.done(function(o,u,s){if(o){this._setNavigationVariantToGlobalFilter(o,u,s);this.filterChanged=false;}}.bind(this));this.oParseNavigationPromise.fail(function(){jQuery.sap.log.error("Could not parse navigation variant from URL");});this.oParseNavigationPromise.always(function(){if(G&&this.verifyGlobalFilterLoaded()){r();}}.bind(this));}else{if(G&&this.verifyGlobalFilterLoaded()){r();}}},this);G.attachSearch(function(){if(!this.bGlobalFilterLoaded){r();this.bGlobalFilterLoaded=true;if(!G.isDialogOpen()){this._storeCurrentAppStateAndAdjustURL();}return;}this.onGlobalFilterSearch();},this);G.attachFilterChange(this.onGlobalFilterChange,this);G._oSearchButton&&G._oSearchButton.attachPress(function(){this.bGoButtonPressed=true;}.bind(this));}.bind(this));this.oGlobalFilterLoadedPromise.then(function(o){this.bGlobalFilterLoaded=true;jQuery.sap.measure.end("ovp:GlobalFilter");}.bind(this));},onShareButtonPress:function(e){var l=this._getLibraryResourceBundle();var u=this.getUIModel();var t=u&&u.getProperty("/title");if(!this._oShareActionButton){this._oShareActionButton=sap.ui.xmlfragment("sap.ovp.app.SharePage",{shareEmailPressed:function(){sap.m.URLHelper.triggerEmail(null,l.getText("Email_Subject",[t]),document.URL);},shareJamPressed:function(){var s=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:document.URL,share:t}}});s.open();}});this.getView().addDependent(this._oShareActionButton);}this._oShareActionButton.openBy(e.getSource());},_checkJamAuth:function(){var G=jQuery.sap.getObject("sap.ushell.Container.getUser");var u=this.getUIModel();if(u){u.setProperty("/jamVisible",!!G&&G().isJamActive());}},_createModelForTile:function(){var u=this.getUIModel();var H,t=u&&u.getProperty("/title");var o={tileTitle:t,tileCustomURL:function(){H=hasher.getHash();return H?("#"+H):window.location.href;}};if(u){u.setProperty("/tileInfo",o);}},_loadCardComponent:function(s){if(!this.oLoadedComponents[s]){jQuery.sap.measure.start("ovp:CardComponentLoad:"+s,"Card Component load","ovp");this.oLoadedComponents[s]=sap.ui.component.load({name:s,url:jQuery.sap.getModulePath(s),async:true});this.oLoadedComponents[s].then(function(){jQuery.sap.measure.end("ovp:CardComponentLoad:"+s);});}},_initCardModel:function(s){var e=false;if(this.oCardsModels[s]||!s){return;}this.oCardsModels[s]=this.getView().getModel(s);if(!this.oCardsModels[s].bUseBatch){this.oCardsModels[s].setUseBatch(false);}else{this.oCardsModels[s].setUseBatch(true);}if(this.getGlobalFilter()){e=true;}this._overrideCardModelRead(this.oCardsModels[s],e);},toggleFilterBar:function toggleFilterBar(){var G=this.getGlobalFilter();function t(k,l,o){l.height(o);k.css('top',0);}function i(k,l,o){l.height(0);k.css("top","-"+o+"px");}var j=G.getVisible();if((sap.ui.Device.system.phone)||(sap.ui.Device.system.tablet)){G.setVisible(!j);return;}if(toggleFilterBar.animationInProcess){return;}toggleFilterBar.animationInProcess=true;if(j){var k=jQuery(G.getDomRef());var l=jQuery(this.getView().byId("ovpGlobalFilterWrapper").getDomRef());var o=l.height();t(k,l,o);l.height();l.one('transitionend',function(e){G.setVisible(false);toggleFilterBar.animationInProcess=false;});i(k,l,o);}else{G.setVisible(true);setTimeout(function(){var k=jQuery(G.getDomRef());var l=jQuery(this.getView().byId("ovpGlobalFilterWrapper").getDomRef());var o=k.outerHeight();i(k,l,o);l.height();l.one('transitionend',function(e){l.css("height","auto");toggleFilterBar.animationInProcess=false;});t(k,l,o);}.bind(this));}},getVisibleCustomFields:function(){var G=this.getGlobalFilter();var e=G.getAllFilterItems(true);var l,i,v=[];if(e){l=e.length;while(l--){i=e[l];if(i&&i.getVisibleInFilterBar()){v.push(i.getName());}}}var j,k,o,p=G.getFilterBarViewMetadata();var q=[];if(p){j=p.length;while(j--){o=p[j].fields;if(o){k=o.length;while(k--){if(o[k].isCustomFilterField&&v.indexOf(o[k].fieldName)>-1){q.push({name:o[k].fieldName});}}}}}return q;},_showErrorPage:function(s){if(this.bDisableErrorPage){return;}if(this.getView()&&this.getView().byId&&this.getView().byId('ovpErrorPage')){var o=jQuery(this.getView().byId('ovpErrorPage').getDomRef());var e=jQuery(this.getView().byId('ovpMain').getDomRef());if(s){o.show();e.hide();return;}o.hide();e.show();}},_overrideCardModelRead:function(o,s){var e=o.read;var t=this;o.read=function(){if(s){t._processFilters();var G=t.getGlobalFilter();if(!t.aFilters){t.aFilters=[];}var j=false;var p=arguments[1];if(!p){p={};Array.prototype.push.call(arguments,p);}var E=t._getEntityTypeFromPath(o,arguments[0],p.context,false);t.sCurrentEntityType=E.entityType;if(t.sPreviousEntityType!==t.sCurrentEntityType){t.sPreviousEntityType=t.sCurrentEntityType;j=true;}if(!t.aRelevantFilters){t.aRelevantFilters=[];j=true;}if(j){t.aRelevantFilters=[];var v=false;if(t.oValueHelpMap){if(t.oValueHelpMap.indexOf(E.entityType)!=-1){v=true;}}if(E&&!v){t.aRelevantFilters=t._getEntityRelevantFilters(E,t.aFilters,o,G.getModel());}}if(t.aRelevantFilters&&t.aRelevantFilters.length>0){var k=-1;var u=p.urlParameters;if(u){for(var l=0;l<u.length;l++){if((u[l]).lastIndexOf("$filter=",0)===0){k=l;break;}}}if(k>=0){u[k]=u[k]+"%20and%20"+sap.ui.model.odata.ODataUtils.createFilterParams(t.aRelevantFilters,o.oMetadata,E).substr(8);}else{p.filters=t.aRelevantFilters;}}if(G&&G.getConsiderAnalyticalParameters()){var q=G.getAnalyticBindingPath();var I,r,w;if(q&&q.length>0){if(E.entityType===G.getEntityType()){r=arguments[0];I=arguments[0].indexOf('$');if(I>0){r=arguments[0].substring(0,I-1);}w=q;if(r!==w){arguments[0]=arguments[0].replace(r,w);}}else{var x=t._getParametersFromEntityPath(arguments[0]);var y=t._getParametersFromEntityPath(q);var z,H,K;if(x&&x.length>0){var L=t._getEntityTypeFromPath(o,arguments[0],p.context,true);for(var i=0;i<y.length;i++){z=t._getPropertyMapping(x,y[i].name,L.name,G.getEntityType(),o,G.getModel());if(z){H=z+"=.*?,|"+z+"=.*?\\)";K=arguments[0].match(new RegExp(H));if(K&&K.length>0){r=K[0].slice(0,-1);w=z+"="+y[i].sValue;if(r!==w){arguments[0]=arguments[0].replace(r,w);}}}}}}}}}var Q=arguments[1].success;arguments[1].success=(function(X,t){return function(){if(!t.errorHandlingObject.atLeastOneRequestSuccess){t.errorHandlingObject.atLeastOneRequestSuccess=true;t._showErrorPage(false);}if(t.filterItemInFocus!=null){t.filterItemInFocus.focus();t.filterItemInFocus=null;}if(t.nRefreshInterval!==0){if(t.oRefreshTimer!==null){clearTimeout(t.oRefreshTimer);}t.attachRefreshInterval(t.nRefreshInterval);}return X.apply(this,arguments);};})(Q,t);var W=arguments[1].error;arguments[1].error=(function(X,t){return function(){if(!t.errorHandlingObject.atLeastOneRequestSuccess){clearTimeout(t.errorHandlingObject.errorLoadingTimeout);t.errorHandlingObject.errorLoadingTimeout=setTimeout(function(){if(!t.errorHandlingObject.atLeastOneRequestSuccess){t._showErrorPage(true);}},9000);}return X.apply(this,arguments);};})(W,t);return e.apply(o,arguments);};},attachRefreshInterval:function(e){this.oRefreshTimer=setTimeout(function(){for(var i in this.oCardsModels){this.oCardsModels[i].refresh(false,false);}}.bind(this),e);},_getEntityTypeFromPath:function(o,p,e,i){var s=sap.ui.model.odata.v2.ODataModel.prototype._normalizePath.apply(o,[p,e]);if(i){s=p.replace(/^\/|\/$/g,"").split("/")[0];if(s.indexOf("(")!=-1){s=s.substring(0,s.indexOf("("));}}var E=sap.ui.model.odata.ODataMetadata.prototype._getEntityTypeByPath.apply(o.oMetadata,[s]);return E;},_getPropertyMapping:function(e,t,E,s,o,j){var i,k;for(i=0;i<e.length;i++){if(e[i].name===t){k=e[i].name;return k;}if((("P_"+e[i].name)===t)||(e[i].name===("P_"+t))){k=e[i].name;return k;}}if(!E||!s||!o||!j){return;}var l=o.oMetadata._getEntityTypeByName(E);var p=j.oMetadata._getEntityTypeByName(s);if(!l||!p){return;}var q="com.sap.vocabularies.Common.v1.SemanticObject";var r="com.sap.vocabularies.Common.v1.SemanticObjectMapping";var u=o.oAnnotations.getAnnotationsData();if(!u||!u.propertyAnnotations){return;}var v=u.propertyAnnotations[l.namespace+"."+l.name];var w=j.oAnnotations.getAnnotationsData();if(!w||!w.propertyAnnotations){return;}var x=w.propertyAnnotations[p.namespace+"."+p.name];var y=x&&x[t];if(!y||!y[q]){return;}var z,G,H,I,L;for(z in v){G=v[z];if(G[q]&&G[q].String===y[q].String){H=G[r];if(!H){continue;}I=H.length;L="";while(I--){if(H[I].SemanticObjectProperty.String===t){L=H[I].LocalProperty.PropertyPath;break;}}if(L!==""){for(i=0;i<e.length;i++){if(e[i].name===L){k=e[i].name;return k;}}}}}return k;},_getParametersFromEntityPath:function(e){e=e.split("?")[0];var j=e.match(/\(.*=.*\)/);var E=[];if(!j){return E;}var p=j[0].slice(1,-1).trim().split(/\=|\,/);for(var i=0;i<p.length;i=i+2){E.push({name:p[i],sValue:p[i+1]});}return E;},_checkRelevantFiltersRecursive:function(e,o,E,t,j,k){if(!o._bMultiFilter){o.sPath=o.sPath.split('/').pop();var s=this._getPropertyMapping(e,o.sPath,E,t,j,k);if(s){o.sPath=s;return o;}}else{var l=o.aFilters;var p,q=[];if(l){for(var i=0;i<l.length;i++){p=this._checkRelevantFiltersRecursive(e,l[i],E,t,j,k);if(p){q.push(p);}}if(q.length>0){return(new F(q,o.bAnd));}}}},_getEntityRelevantFilters:function(e,i,E,o){var r=[];if(i.length>0&&e){var j=this._checkRelevantFiltersRecursive(e.property,i[0],e.name,this.getGlobalFilter().getEntityType(),E,o);if(j){r.push(j);}}return r;},_checkIsCardValid:function(s){var e=s+".Component";var o,i;jQuery.sap.require(e);var j=jQuery.sap.getObject(e);if(!j){return false;}if((j!==sap.ovp.cards.generic.Component)&&!(j.prototype instanceof sap.ovp.cards.generic.Component)){return false;}if((o=j.getMetadata())&&(i=o.getCustomizing())){if(i["sap.ui.viewReplacements"]&&i["sap.ui.viewReplacements"]["sap.ovp.cards.generic.Card"]){return false;}}if(j.prototype.createContent!=sap.ovp.cards.generic.Component.prototype.createContent){return false;}if(j.prototype.getPreprocessors!=sap.ovp.cards.generic.Component.prototype.getPreprocessors){return false;}return true;},_createCardComponent:function(v,o,e){var i="ovp:CreateCard-"+e.template+":"+e.id;jQuery.sap.measure.start(i,"Create Card","ovp");var j=v.getModel("@i18n");if(e.template&&this._checkIsCardValid(e.template)){var k={async:true,name:e.template,componentData:{model:o,modelName:e.model,i18n:j,cardId:e.id,settings:e.settings,appComponent:this.getOwnerComponent(),mainComponent:this}};var G=this.getGlobalFilter();if(G){k.componentData.globalFilter={getUiState:G.getUiState.bind(G)};}var t=v;sap.ui.component(k).then(function(l){var p=t.byId(l.getComponentData().cardId);p.setPropagateModel(true);var q=p.getComponentInstance();p.setComponent(l);if(q){setTimeout(function(){q.destroy();},0);}});}else{jQuery.sap.log.error("Could not create Card from '"+e.template+"' template. Card is not valid.");}jQuery.sap.measure.end(i);},createLoadingCard:function(e){var l=jQuery.extend(true,{},e,{template:"sap.ovp.cards.loading"});this._createCardComponent(this.getView(),undefined,l);},createCard:function(e){var v=this.getView();var o=v.getModel(e.model);Promise.all([o.getMetaModel().loaded(),this.oGlobalFilterLoadedPromise,this.oLoadedComponents[e.template]]).then(function(){this._createCardComponent(v,o,e);}.bind(this),function(r){jQuery.sap.log.error("Can't load card with id:'"+e.id+"' and type:'"+e.template+"', reason:"+r);});},_getCardId:function(e){var i=this.getView().getId()+"--";if(e.indexOf(i)!=-1){var s=e.indexOf(i)+i.length;return e.substr(s);}return e;},_initFlexibilityPersonalization:function(){this.oFlexibilityPersonalizationPromise=new Promise(function(r,e){var l=this.getLayout();var o=sap.ui.fl.FlexControllerFactory;this.oFlexController=o.createForControl(l);this.oFlexController.getComponentChanges().then(function(i){if(i.length>0){this.bDeltaChangesEnabled=true;}r();}.bind(this),function(E){r();});}.bind(this));},_initSmartVariantManagement:function(){if(!this.bDeltaChangesEnabled){var p=this._createPersistencyControlForSmartVariantManagement();var o=new c({type:"OVPVariant",keyName:"persistencyKey",control:p});this.oPersistencyVariantPromise=new Promise(function(r,e){this.smartVariandManagement=new S({personalizableControls:o,initialise:function(E){var k=E.getParameters().variantKeys;if(k.length){r(this.smartVariandManagement.getVariantContent(p,k[0]));}else{r(null);}}.bind(this)});this.smartVariandManagement.initialise();}.bind(this));}else{this.oPersistencyVariantPromise=Promise.resolve();}},layoutChanged:function(e){var j=e.getParameter("positionChanges");var k=[],l=[];var o,s;if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){var p=this.getLayout().dashboardLayoutUtil.dashboardLayoutModel.iColCount;if(j){for(var i=j.length-1;i>=0;i--){o=j[i];s=o.content.cardId;if(o.content.dashboardLayout.oldRow&&o.content.dashboardLayout.oldRow===o.content.dashboardLayout.row&&o.content.dashboardLayout.oldColumn&&o.content.dashboardLayout.oldColumn===o.content.dashboardLayout.column){continue;}if(l[s]){if(o.content.dashboardLayout.oldRow){l[s].content.dashboardLayout.oldRow=o.content.dashboardLayout.oldRow;}continue;}l[s]=o;}Object.keys(l).forEach(function(K){var o=l[K];if(o.content.dashboardLayout.oldRow&&o.content.dashboardLayout.oldRow===o.content.dashboardLayout.row&&o.content.dashboardLayout.oldColumn&&o.content.dashboardLayout.oldColumn===o.content.dashboardLayout.column){return;}k.push(l[K]);});k.forEach(function(o){var t=o.content.dashboardLayout;o.content.dashboardLayout={};o.content.dashboardLayout["C"+p]=t;});}}else{var q=this.getLayout().getContent();this.aOrderedCards=this._getCardArrayAsVariantFormat(q);k=j;}this.savePersonalization(k);},saveVariant:function(e){var t=this;this.smartVariandManagement.getVariantsInfo(function(v){var p=null;if(v&&v.length>0){p=v[0].key;}var o=p!==null;var i={name:"Personalisation",global:false,overwrite:o,key:p,def:true};t.smartVariandManagement.fireSave(i);});},savePersonalization:function(o){var l=this.getLayout();if(l){if(o){if(!Array.isArray(o)){this.oFlexController.createAndApplyChange(o,l);}else{o.forEach(function(i){this.oFlexController.createAndApplyChange(i,l);}.bind(this));}this.oFlexController.saveAll();return;}var e,s;if(l.getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){e={cards:l.getLayoutDataJSON()};s="manageCardsForDashboardLayout";}else{e=this._getCardArrayAsVariantFormat(l.getContent());s="manageCardsForEasyScanLayout";}this.oFlexController.createAndApplyChange({changeType:s,content:e,isUserDependent:true},l);this.oFlexController.saveAll();}},getLayout:function(){return this.getView()?this.getView().byId("ovpLayout"):null;},_createPersistencyControlForSmartVariantManagement:function(){var t=this;sap.ui.core.Control.extend("sap.ovp.app.PersistencyControl",{metadata:{properties:{persistencyKey:{type:"string",group:"Misc",defaultValue:null}}}});var p=new sap.ovp.app.PersistencyControl({persistencyKey:"ovpVariant"});p.fetchVariant=function(){if(t.isInitialLoading){t.isInitialLoading=false;return{};}var l=this.getLayout();if(!l){jQuery.sap.log.error("Could not save persistency variant - 'ovpLayout' does not exists");return;}if(this.getLayout().getMetadata().getName()==="sap.ovp.ui.DashboardLayout"){var v=this.getLayout().getLayoutDataJSON();return{cards:v};}else{var L=l.getContent();var e=this._getCardArrayAsVariantFormat(L);this.oOrderedCards=e;return{cards:e};}}.bind(this);return p;},_initShowHideCardsButton:function(){var r=sap.ushell.Container.getRenderer("fiori2"),e={controlType:"sap.ushell.ui.launchpad.ActionItem",bCurrentState:false,oControlProperties:{icon:"sap-icon://dimension",text:this._getLibraryResourceBundle().getText("hideCardsBtn_title"),tooltip:this._getLibraryResourceBundle().getText("hideCardsBtn_tooltip"),press:this._onCardMenuButtonPress.bind(this)},bIsVisible:true,aStates:["app"]};r.addUserAction(e);},_onCardMenuButtonPress:function(){var o,l=this.getLayout().getMetadata().getName();this.visibilityChanges=[];function e(w,x){for(var i=0;i<w.length;i++){if(w[i].id==x){return i;}}return-1;}function j(w,x,y){var z=-1;for(var i=0;i<x.length;i++){if(w[i].id==x[i].id){z=i;}else{z=e(w,x[i].id);}var E=this.getView().byId(x[i].id);var G=E.getComponentInstance();if(y){if(G){G.destroy();}}if(x[i].visibility!=w[z].visibility||y){if(x[i].visibility===true){var H=this._getCardFromManifest(x[i].id);if(H){this.createLoadingCard(H);H.settings.baseUrl=this._getBaseUrl();this._clearStoredEntities();this._initCardModel(H.model);this._loadCardComponent(H.template);this._createModelViewMap(H);if(H.settings.tabs){var I=0;if(this.aOrderedCards[i].selectedKey){I=this.aOrderedCards[i].selectedKey-1;}this.initializeTabbedCard(H,I);}this.createCard(H);}}else{if(G){G.destroy();}}}}}function k(i){var w=this._getCardFromManifest(i);if(w){var x=w.settings;if(x.title){return x.title;}else if(x.category){return(x.category);}else if(x.subTitle){return x.subTitle;}return i;}else{jQuery.sap.log.error("Card id "+i+" is not available in the manifest");return"";}}var p=new f({cells:[new T({text:{path:"id",formatter:k.bind(this)}}),new g({state:"{visibility}",customTextOff:" ",customTextOn:" ",change:function(i){var w=i.oSource.getParent();w.toggleStyleClass('sapOVPHideCardsTableItem');w.getCells()[0].toggleStyleClass('sapOVPHideCardsDisabledCell');var x=i.getSource().getBindingContext().getObject();var I=this.visibilityChanges.findIndex(function(y,z,E){return y.content.cardId===x.id;});if(I>-1){this.visibilityChanges.splice(I,1);}else{this.visibilityChanges.push({changeType:"visibility",content:{cardId:x.id,visibility:i.getParameter("state")},isUserDependent:true});}}.bind(this),tooltip:this._getLibraryResourceBundle().getText("hideCards_switchTooltip")})]});var q=new h("sapOVPHideCardsTable",{backgroundDesign:sap.m.BackgroundDesign.Transparent,showSeparators:sap.m.ListSeparators.Inner,columns:[new m({vAlign:"Middle"}),new m({hAlign:sap.ui.core.TextAlign.Right,vAlign:"Middle",width:"4.94rem"})]});q.addStyleClass('sapOVPHideCardsTable');q.bindItems({path:"/cards",template:p});var r=q.onAfterRendering;q.onAfterRendering=function(w){r.apply(q,arguments);var x=w.srcControl.mAggregations.items;if(x){for(var i=0;i<x.length;i++){if(!x[i].getCells()[1].getState()){x[i].addStyleClass('sapOVPHideCardsTableItem');x[i].getCells()[0].addStyleClass('sapOVPHideCardsDisabledCell');}}}setTimeout(function(){jQuery('.sapMListTblRow').first().focus();},200);};var s=new n("manageCardsokBtn",{text:this._getLibraryResourceBundle().getText("okBtn"),type:"Emphasized",press:function(){var i=this.oDialog.getModel().getProperty('/cards');j.apply(this,[this.aOrderedCards,i,false]);this.aOrderedCards=i;this._updateDashboardLayoutCards(this.aOrderedCards);this._updateLayoutWithOrderedCards();this.savePersonalization(this.visibilityChanges);this.oDialog.close();}.bind(this)});var t=new n("manageCardsCancelBtn",{text:this._getLibraryResourceBundle().getText("cancelBtn"),press:function(){this.oDialog.close();}.bind(this)});var u=new n("manageCardsResetBtn",{text:this._getLibraryResourceBundle().getText("resetBtn"),enabled:((l==="sap.ovp.ui.DashboardLayout")?true:this.isValidForReset()),press:function(){sap.m.MessageBox.show(this._getLibraryResourceBundle().getText("reset_cards_confirmation_msg"),{id:"resetCardsConfirmation",icon:sap.m.MessageBox.Icon.QUESTION,title:this._getLibraryResourceBundle().getText("reset_cards_confirmation_title"),actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],onClose:function(i){if(i===sap.m.MessageBox.Action.OK){this.oDialog.setBusy(true);j.apply(this,[this.aOrderedCards,this.aManifestOrderedCards,(l==="sap.ovp.ui.DashboardLayout")?true:false]);this.aOrderedCards=this.aManifestOrderedCards;this._resetDashboardLayout();this._updateDashboardLayoutCards(this.aOrderedCards);this._updateLayoutWithOrderedCards();this.oFlexController.discardChangesForId(this.getLayout().getId(),true).then(function(w){this.oDialog.setBusy(false);this.oDialog.close();}.bind(this));}}.bind(this)});}.bind(this)});this.oDialog=new D({title:this._getLibraryResourceBundle().getText("hideCardsBtn_title"),contentWidth:"29.6rem",contentHeight:"50%",stretch:sap.ui.Device.system.phone,content:q,buttons:[s,t,u],afterClose:function(){this.visibilityChanges=[];this.oDialog.destroy();}.bind(this)}).addStyleClass("sapOVPCardsVisibilityDialog");this.oDialog.setBusyIndicatorDelay(0);var v;if(l==="sap.ovp.ui.DashboardLayout"){v=jQuery.extend(true,[],this._getCardArrayAsVariantFormatDashboard());}else{v=jQuery.extend(true,[],this.aOrderedCards);}o=new J({cards:v});this.oDialog.setModel(o);this.oDialog.open();},isValidForReset:function(){for(var i=0;i<this.aManifestOrderedCards.length;i++){if(this.aManifestOrderedCards[i].id!==this.aOrderedCards[i].id||this.aManifestOrderedCards[i].visibility!==this.aOrderedCards[i].visibility){return true;}}return false;},isDragAndDropEnabled:function(){return!sap.ui.Device.system.phone;},getGlobalFilter:function(){if(!this.oGlobalFilter){this.oGlobalFilter=this.getView().byId("ovpGlobalFilter");}return this.oGlobalFilter;},getUIModel:function(){if(!this.oUIModel){var o=this.getOwnerComponent();this.oUIModel=o&&o.getModel("ui");}return this.oUIModel;},_parseNavigationVariant:function(){if(!this.oContainer){this.oParseNavigationPromise=jQuery.Deferred().resolve();return;}this.oParseNavigationPromise=this.oNavigationHandler.parseNavigation();},_setNavigationVariantToGlobalFilter:function(o,u,s){var G=this.getGlobalFilter();if(!G){return;}switch(s){case"iAppState":if(o.selectionVariant){var e,j,k,l=false;var p,q,r,t;var v,w,x;G.clearVariantSelection();e=JSON.parse(o.selectionVariant);G.setCurrentVariantId(e.SelectionVariantID);w=G.getUiState({allFilters:false});q=w&&JSON.stringify(w.getSelectionVariant());t=G.getFilterData()._CUSTOM;t=((typeof t=='undefined')?{}:t);v=new U({selectionVariant:o.oSelectionVariant.toJSONObject()});G.setUiState(v,{replace:true,strictMode:false});j=new d(o.selectionVariant);k=j.getParameterNames().concat(j.getSelectOptionsPropertyNames());for(var i=0;i<k.length;i++){G.addFieldToAdvancedArea(k[i]);}x=G.getUiState({allFilters:false});p=x&&JSON.stringify(x.getSelectionVariant());if(q!==p){l=true;}if(o.customData&&Object.keys(o.customData).length>0){var r=o.customData;this.restoreCustomAppStateDataExtension(r);if(JSON.stringify(t)!==JSON.stringify(r)){l=true;}}G.getSmartVariant().currentVariantSetModified(l);G._updateToolbarText();}break;case"xAppState":case"URLParams":var v,y=[];var z=new d(o.oSelectionVariant.toJSONObject());var E=new d(o.oDefaultedSelectionVariant.toJSONObject());if(!o.bNavSelVarHasDefaultsOnly&&!z.isEmpty()){v=new U({selectionVariant:z.toJSONObject()});G.clearVariantSelection();G.clear();G.setUiState(v,{replace:true,strictMode:false});y=y.concat(z.getParameterNames().concat(z.getSelectOptionsPropertyNames()));}if(o.bNavSelVarHasDefaultsOnly&&!E.isEmpty()&&G.getCurrentVariantId()===""){v=new U({selectionVariant:E.toJSONObject()});G.setUiState(v,{replace:false,strictMode:false});y=y.concat(E.getParameterNames().concat(E.getSelectOptionsPropertyNames()));}var L;if(y&&y.length>0){L=y.length;while(L--){G.addFieldToAdvancedArea(y[L]);}}if(G.getCurrentVariantId()!==""){this._setDisplayCurrency(E);}break;}},_setDisplayCurrency:function(o){var G=this.getGlobalFilter();if(!G){return;}var l,e;var p=G.getAnalyticalParameters();if(p&&p.length>0){l=p.length;while(l--){if((p[l].name==="P_DisplayCurrency")||(p[l].name==="DisplayCurrency")){e=p[l];break;}}}if(!e){return;}var i=G.getFilters([e.fieldName]);var s=i&&i[0]&&i[0].oValue1;if(s&&s!==" "){return;}var j,k;if(e.name.indexOf("P_")===0){k=e.name;j=e.name.substr(2);}else{k="P_"+e.name;j=e.name;}if(o&&!o.isEmpty()){var q;s=o.getParameter(j);if(!s||s===" "){s=o.getParameter(k);}if(!s||s===" "){q=o.getSelectOption(j);s=q&&q[0]&&q[0].Low;}if(!s||s===" "){q=o.getSelectOption(k);s=q&&q[0]&&q[0].Low;}}if(!s||s===" "){s=e.defaultPropertyValue;}if(!s||s===" "){return;}var r=new d();r.addParameter(e.name,s);var u=new U({selectionVariant:r.toJSONObject()});G.setUiState(u,{replace:false,strictMode:false});},_enhanceVariant:function(v,o,s){var p=v.getParameter(o);var e=v.getSelectOption(o);if(p){v.renameParameter(o,s);}else if(e){var i=e[0]&&e[0].Low;if(i&&i!==""){i+="";v.addParameter(s,i);v.removeSelectOption(o);}}return v;},_getCustomAppState:function(){var o={};var e=this.getCustomAppStateDataExtension(o);if(e){o=e;}return o;},onBeforeSFBVariantSave:function(){this.getGlobalFilter().setFilterData({_CUSTOM:this._getCustomAppState()});},onAfterSFBVariantLoad:function(){var o=this.getGlobalFilter().getFilterData();if(o._CUSTOM&&Object.keys(o._CUSTOM).length>0){this.restoreCustomAppStateDataExtension(o._CUSTOM);}},onAssignedFiltersChanged:function(e){if(e.getSource()&&this.getView().byId("ovpFilterText")){this.getView().byId("ovpFilterText").setText(e.getSource().retrieveFiltersWithValuesAsText());}},_getCurrentAppState:function(){var G=this.getGlobalFilter();var u=G.getUiState({allFilters:false});var s=u&&u.getSelectionVariant();if(G.getSmartVariant().currentVariantGetModified()){s.SelectionVariantID="";}var e=s&&JSON.stringify(s);var o=new d(e);var i=this._getCustomAppState();return{selectionVariant:o.toJSONString(),customData:i};},_storeCurrentAppStateAndAdjustURL:function(e){if(e&&!e.oSource._bDirtyViaDialog){return;}if(!this.bGlobalFilterLoaded){return;}if(!this.oNavigationHandler){return;}if(this.oAppStatePromise){this.rejectPreviousPromise&&this.rejectPreviousPromise("skip");}this.oAppStatePromise=new Promise(function(j,k){this.rejectPreviousPromise=k;var o=this._getCurrentAppState();var l=this.oNavigationHandler.storeInnerAppStateWithImmediateReturn(o);l.promise.then(function(s){j(s);},function(E){k(E.getErrorCode());});}.bind(this));var i=function(s){this.oAppStatePromise=null;if(s&&s.length>0){this.oNavigationHandler.replaceHash(s);return;}throw"AppState key is empty";};var r=function(E){this.oAppStatePromise=null;if(E==="skip"){throw E;}throw("Something went wrong while storing AppState - "+E);};this.oAppStatePromise.then(i.bind(this),r.bind(this)).catch(function(E){if(E==="skip"){return;}jQuery.sap.log.error(E);});}});});
sap.ui.predefine('sap/ovp/cards/charts/OVPVizDataHandler',["sap/ui/core/Control"],function(C){"use strict";return C.extend("sap.ovp.cards.charts.OVPVizDataHandler",{metadata:{aggregations:{data:{type:"sap.ui.core.Element"},aggregateData:{type:"sap.ui.core.Element"},content:{multiple:false}},properties:{chartType:{defaultValue:false},dependentDataReceived:{defaultValue:false},scale:{defaultValue:""},entitySet:{}}},renderer:function(r,c){r.write("<div");r.writeElementData(c);r.write(">");if(c.getContent()){r.renderControl(c.getContent());}r.write("</div>");},mergeDatasets:function(b,d,c){var t=this;var m=this.getModel();var p=b.mParameters;var D=jQuery.extend(true,{},this.dataSet);var s=p.select.split(",");var e=b.getPath().substring(1);var a=-1;if(e){a=e.indexOf('Parameters');}if(a>=0){e=e.substr(0,e.indexOf('Parameters'));}var f=m.getMetaModel();var g=this.getEntitySet();var h=f.getODataEntitySet(g);var k=f.getODataEntityType(h.entityType);var l=[];var n=[];for(var i=0;i<k.property.length;i++){if(k.property[i]["com.sap.vocabularies.Analytics.v1.Measure"]||(k.property[i].hasOwnProperty("sap:aggregation-role")&&k.property[i]["sap:aggregation-role"]==="measure")){if(s.indexOf(k.property[i].name)!==-1){l.push(k.property[i].name);}}else{if(s.indexOf(k.property[i].name)!==-1){n.push(k.property[i].name);}}}if(D&&D.results){for(var i=0;i<D.results.length-2;i++){for(var j=0;j<l.length;j++){D.results[0][l[j]]=Number(D.results[0][l[j]])+Number(D.results[i+1][l[j]]);}}var o=D.__count-D.results.length;var q={};q.results=[];q.results[0]=D.results[0];var r;if(D.__count>D.results.length){var u=jQuery.extend(true,{},this.aggregateSet);if(u&&u.results&&D.results.length<D.__count){jQuery.each(l,function(i){u.results[0][l[i]]=String(Number(t.aggregateSet.results[0][l[i]])-Number(q.results[0][l[i]]));});jQuery.each(n,function(i){u.results[0][n[i]]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OTHERS_DONUT",[o+1]);});u.results[0].$isOthers=true;r=u.results[0];if(r){d.results.splice(-1,1);}}}if(r){d.results.push(r);}}var M=new sap.ui.model.json.JSONModel();M.setData(d.results);c.setModel(M,"analyticalmodel");},updateBindingContext:function(){var b=this.getBinding("data");var a=this.getBinding("aggregateData");var t=this;if(this.chartBinding==b){return;}else{this.chartBinding=b;if(b){var t=this;b.attachEvent("dataReceived",function(e){t.dataSet=e&&e.getParameter("data");t.oDataClone=jQuery.extend(true,{},t.dataSet);if(t.getChartType()=="donut"){if(t.getDependentDataReceived()===true||t.getDependentDataReceived()==="true"){t.mergeDatasets(b,t.oDataClone,t.getContent());t.setDependentDataReceived(false);}else{t.setDependentDataReceived(true);}}else{var m=new sap.ui.model.json.JSONModel();if(t.dataSet){m.setData(t.dataSet.results);}t.getContent().setModel(m,"analyticalmodel");}});}C.prototype.updateBindingContext.apply(this,arguments);}if(this.chartAggrBinding==a){return;}else{this.chartAggrBinding=a;if(a){var t=this;a.attachEvent("dataReceived",function(e){t.aggregateSet=e&&e.getParameter("data");if(t.getChartType()=="donut"){if(t.getDependentDataReceived()===true||t.getDependentDataReceived()==="true"){t.oDataClone=jQuery.extend(true,{},t.dataSet);t.mergeDatasets(b,t.oDataClone,t.getContent());t.setDependentDataReceived(false);}else{t.setDependentDataReceived(true);}}else{var m=new sap.ui.model.json.JSONModel();m.setData(t.aggregateSet.results);t.getContent().setModel(m,"analyticalmodel");}});}C.prototype.updateBindingContext.apply(this,arguments);}}});},true);
sap.ui.predefine('sap/ovp/cards/charts/analytical/Component',["sap/ovp/cards/generic/Component","sap/ovp/cards/charts/VizAnnotationManager"],function(C,V){"use strict";return C.extend("sap.ovp.cards.charts.analytical.Component",{metadata:{properties:{"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"},"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.charts.analytical.analyticalChart"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:["sap.viz"],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.charts.analytical.analyticalChart"}}}},onAfterRendering:function(){jQuery(".tabindex0").attr("tabindex",0);jQuery(".tabindex-1").attr("tabindex",-1);}});});
sap.ui.predefine('sap/ovp/cards/charts/generic/Component',["sap/ovp/cards/generic/Component","sap/ovp/cards/charts/VizAnnotationManager","sap/ovp/cards/charts/Utils"],function(C,V,a){"use strict";return C.extend("sap.ovp.cards.charts.generic.Component",{metadata:{properties:{"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"},"selectionAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.SelectionVariant"},"chartAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Chart"},"presentationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.PresentationVariant"},"identificationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Identification"},"dataPointAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.DataPoint"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}},addTabindex:function(){jQuery(".tabindex0").attr("tabindex",0);jQuery(".tabindex-1").attr("tabindex",-1);},onAfterRendering:function(){this.addTabindex();}});});
sap.ui.predefine('sap/ovp/cards/charts/smart/chart/Component',["sap/ovp/cards/generic/Component","sap/ovp/cards/charts/SmartAnnotationManager","sap/ovp/cards/charts/VizAnnotationManager"],function(C,S,V){"use strict";return C.extend("sap.ovp.cards.charts.smart.chart.Component",{metadata:{properties:{"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"},"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.charts.smart.chart.analyticalChart"}},version:"@version@",library:"sap.ovp",includes:[],dependencies:{libs:["sap.m","sap.viz","sap.ui.comp"],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.charts.smart.chart.analyticalChart"}}}},onAfterRendering:function(){jQuery(".tabindex0").attr("tabindex",0);jQuery(".tabindex-1").attr("tabindex",-1);}});});
sap.ui.predefine('sap/ovp/cards/custom/Component',["sap/ovp/cards/generic/Component"],function(C){"use strict";return C.extend("sap.ovp.cards.custom.Component",{metadata:{properties:{"contentFragment":{"type":"string"},"headerExtensionFragment":{"type":"string"},"contentPosition":{"type":"string","defaultValue":"Middle"},"footerFragment":{"type":"string"},"identificationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Identification"},"selectionAnnotationPath":{"type":"string"},"filters":{"type":"object"},"parameters":{"type":"object"},"addODataSelect":{"type":"boolean","defaultValue":false}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}}});});
sap.ui.predefine('sap/ovp/cards/generic/Component',["sap/ui/core/UIComponent","sap/ovp/cards/AnnotationHelper","sap/ovp/cards/LoadingUtils","sap/ovp/cards/CommonUtils"],function(U,A,L,C){"use strict";return U.extend("sap.ovp.cards.generic.Component",{metadata:{properties:{"contentFragment":{"type":"string"},"headerExtensionFragment":{"type":"string"},"contentPosition":{"type":"string","defaultValue":"Middle"},"headerFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.Header"},"footerFragment":{"type":"string"},"identificationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Identification"},"selectionAnnotationPath":{"type":"string"},"filters":{"type":"object"},"parameters":{"type":"object"},"addODataSelect":{"type":"boolean","defaultValue":false}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{}},setSelectionVariant:function(s,S){if(/^@/.test(s)){s=s.slice(1);}S.selectionAnnotationPath=s;},setPresentationVariant:function(p,s,e){if(/^@/.test(p)){p=p.slice(1);}s.presentationAnnotationPath=p;var v=e[p].Visualizations;var i;for(i=0;i<v.length;i++){var V=v[i].AnnotationPath;if(V){if(/^@/.test(V)){V=V.slice(1);}if(/.LineItem/.test(V)){s.annotationPath=V;break;}}}for(i=0;i<v.length;i++){var V=v[i].AnnotationPath;if(V){if(/^@/.test(V)){V=V.slice(1);}if(/.Chart/.test(V)){s.chartAnnotationPath=V;break;}}}},setDataPointAnnotationPath:function(d,s){if(/^@/.test(d)){d=d.slice(1);}s.dataPointAnnotationPath=d;},getCustomPreprocessor:function(){},getPreprocessors:function(p){var c=this.getComponentData(),s=c.settings,m=c.model,M,e,E,o;if(s.description&&!s.subTitle){s.subTitle=s.description;}if(m){M=m.getMetaModel();if(s.entitySet){var a=M.getODataEntitySet(s.entitySet);var b=M.getODataEntitySet(s.entitySet,true);e=M.getODataEntityType(a.entityType);o=M.createBindingContext(b);E=M.createBindingContext(e.$path);}}var d=this._getCardPropertyDefaults();var f=this._completeLayoutDefaults(d,s);var g;var h;if(c.appComponent&&c.appComponent.getModel("ui")&&c.appComponent.getModel("ui").oData){g=c.appComponent.getModel("ui").oData.showDateInRelativeFormat;h=c.appComponent.getModel("ui").oData.disableTableCardFlexibility;}else{if(c.showDateInRelativeFormat){g=c.showDateInRelativeFormat;}if(c.disableTableCardFlexibility){h=c.disableTableCardFlexibility;}}var j={metaModel:M,entityType:e,webkitSupport:sap.ui.Device.browser.webkit,layoutDetail:f&&f.cardLayout?f.cardLayout.containerLayout:'fixed',showDateInRelativeFormat:g,disableTableCardFlexibility:h};if(!!c&&!!c.cardId){var k=c.mainComponent;var t=null;if(!!k){t=k._getCardFromManifest(c.cardId)?k._getCardFromManifest(c.cardId).template:null;}else{t=c.template;}if(!!t){j.template=t;}}d.densityStyle=C._setCardpropertyDensityAttribute();if(f){j.cardLayout=f.cardLayout;}if(d.state!=="Loading"){if(s&&s.kpiAnnotationPath){var K=e[s.kpiAnnotationPath];var l=d.contentFragment;if(K&&l==="sap.ovp.cards.charts.analytical.analyticalChart"){var S=K.SelectionVariant&&K.SelectionVariant.Path;if(S){this.setSelectionVariant(S,s);}var P=K.Detail.DefaultPresentationVariant&&K.Detail.DefaultPresentationVariant.Path;if(P){this.setPresentationVariant(P,s,e);}var D=K.DataPoint&&K.DataPoint.Path;if(D){this.setDataPointAnnotationPath(D,s);}}}else if(s&&s.selectionPresentationAnnotationPath){var n=e[s.selectionPresentationAnnotationPath];if(n){var S=n.SelectionVariant&&n.SelectionVariant.Path;if(S){this.setSelectionVariant(S,s);}var P=n.PresentationVariant&&n.PresentationVariant.Path;if(P){this.setPresentationVariant(P,s,e);}}}}if(c.ovpCardsAsApi&&s.ignoreSelectionVariant){s.selectionAnnotationPath="";var I=[];for(var q=0;!!s.filters&&q<s.filters.length;q++){I.push({id:"headerFilterText--"+(q+1),index:q});}s.idForExternalFilters=I;}if(!!j.entityType&&!!s.selectionAnnotationPath&&!!j.entityType[s.selectionAnnotationPath]){var r=j.entityType[s.selectionAnnotationPath].SelectOptions;for(var u=0;!!r&&u<r.length;u++){r[u].id="headerFilterText--"+(u+1);}j.entityType[s.selectionAnnotationPath].SelectOptions=r;}if(j.template==="sap.ovp.cards.linklist"&&!!s.staticContent){for(var i=0;i<s.staticContent.length;i++){s.staticContent[i].id="linkListItem--"+(i+1);}}if(j.template==='sap.ovp.cards.charts.analytical'){s.dataStep=s.dataStep?s.dataStep:10;}if(d.state&&(d.state==="Loading"||d.state==="Error")&&L.bPageAndCardLoading){d.footerFragment="sap.ovp.cards.loading.LoadingContent";}d=jQuery.extend(true,j,d,s);var O=new sap.ui.model.json.JSONModel(d);var v=new sap.ui.model.json.JSONModel(sap.ui.Device);v.setDefaultBindingMode("OneWay");var w={dontIncludeUOM:true,firstDataPointIndex:0,secondDataPointIndex:1,thirdDataPointIndex:2,fourthDataPointIndex:3,fifthDataPointIndex:4,sixthDataPointIndex:5,firstDataFieldIndex:0,secondDataFieldIndex:1,thirdDataFieldIndex:2,fourthDataFieldIndex:3,fifthDataFieldIndex:4,sixthDataFieldIndex:5};var x=new sap.ui.model.json.JSONModel(w);var y={xml:{bindingContexts:{entityType:E,entitySet:o},models:{device:v,entityType:M,entitySet:M,ovpMeta:M,ovpCardProperties:O,ovplibResourceBundle:p,ovpConstants:x},ovpCardProperties:O,dataModel:m,_ovpCache:{}}};return jQuery.extend(true,{},this.getCustomPreprocessor(),y);},_completeLayoutDefaults:function(c,s){var o={},a=this.getComponentData(),b=null,d=null;if(a.appComponent){b=a.appComponent.getOvpConfig();}if(!b){return null;}if(b.containerLayout==="resizable"&&a.cardId&&c.contentFragment!=="sap.ovp.cards.quickview.Quickview"){d=a.appComponent.getDashboardLayoutUtil();var e=a.cardId;var f=d.aCards.filter(function(i){return i.id===e;});o.cardLayout=f[0].dashboardLayout;o.cardLayout.containerLayout=b.containerLayout;o.cardLayout.iRowHeightPx=d.ROW_HEIGHT_PX;o.cardLayout.iCardBorderPx=d.CARD_BORDER_PX;o.cardLayout.headerHeight=f[0].dashboardLayout.headerHeight;}return o;},_getCardPropertyDefaults:function(){var c={};var p=this.getMetadata().getAllProperties();var P;for(var a in p){P=p[a];if(P.defaultValue!==undefined){c[P.name]=P.defaultValue;}}return c;},getOvplibResourceBundle:function(){if(!this.ovplibResourceBundle){var r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");this.ovplibResourceBundle=r?new sap.ui.model.resource.ResourceModel({bundleUrl:r.oUrlInfo.url}):null;}return this.ovplibResourceBundle;},_getCacheKeys:function(){},createContent:function(){var c=this.getComponentData&&this.getComponentData();var m=c.model;var p;var P;var M=c&&c.mainComponent;var o=M&&M.oModelViewMap;var s=c&&c.modelName;var f=function(){if(m&&s){m.bIncludeInCurrentBatch=false;if(o&&s&&o[s]&&o[s][c.cardId]){delete o[s][c.cardId];if(Object.keys(o[s]).length>0){m.bIncludeInCurrentBatch=true;}}}};if(c&&c.mainComponent){p=c.mainComponent._getOvplibResourceBundle();}else{p=this.getOvplibResourceBundle();}P=this.getPreprocessors(p);var v={preprocessors:P,type:sap.ui.core.mvc.ViewType.XML,viewName:"sap.ovp.cards.generic.Card"};var a=this._getCacheKeys();if(a&&a.length&&a.length>0){v.async=true;v.cache={keys:a};}var l=this._getCardPropertyDefaults().state;var i=c.cardId+(l?l:"Original");if(!l){i=i+(c.settings.selectedKey?"_Tab"+c.settings.selectedKey:"");}if(!v.async){f();}var V=sap.ui.view(c.containerId==="dialogCard"?undefined:i,v);if(v.async){var O=V.onControllerConnected;V.onControllerConnected=function(){f();O.apply(V,arguments);};}V.setModel(m);if(c.i18n){V.setModel(c.i18n,"@i18n");}V.setModel(P.xml.ovpCardProperties,"ovpCardProperties");V.setModel(p,"ovplibResourceBundle");return V;}});});
sap.ui.predefine('sap/ovp/cards/image/Component',["sap/ovp/cards/generic/Component"],function(C){"use strict";return C.extend("sap.ovp.cards.image.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.image.Image"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.image.Image"}}}}});});
sap.ui.predefine('sap/ovp/cards/linklist/Component',["sap/ovp/cards/generic/Component","sap/ovp/cards/linklist/AnnotationHelper"],function(C,A){"use strict";return C.extend("sap.ovp.cards.linklist.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.linklist.LinkList"},"communicationPath":{"type":"string","defaultValue":"com.sap.vocabularies.Communication.v1.Contact"},"headerAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.HeaderInfo"},"identificationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Identification"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.linklist.LinkList"}}}},getCustomPreprocessor:function(){}});});
sap.ui.predefine('sap/ovp/cards/list/Component',["sap/ovp/cards/generic/Component"],function(C){"use strict";return C.extend("sap.ovp.cards.list.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.list.List"},"annotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.LineItem"},"countHeaderFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.CountHeader"},"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:["sap.suite.ui.microchart"],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.list.List"}}}}});});
sap.ui.predefine('sap/ovp/cards/loading/Component',["sap/ovp/cards/generic/Component","sap/ovp/cards/loading/State"],function(C,L){"use strict";
var l=C.extend("sap.ovp.cards.loading.Component",{metadata:{properties:{"footerFragment":{"type":"string","defaultValue":"sap.ovp.cards.loading.LoadingFooter"},"state":{"type":"string","defaultValue":L.LOADING}},version:"1.54.4",library:"sap.ovp",customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.loading.Loading"}}}}});
return l;});
sap.ui.predefine('sap/ovp/cards/map/Analytical/Component',["sap/ovp/cards/generic/Component"],function(C){"use strict";return C.extend("sap.ovp.cards.map.Analytical.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.map.Analytical.AnalyticalMap"},"dataPointAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.DataPoint"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:["sap.ui.vbm"],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.map.Analytical.AnalyticalMap"}}}}});});
sap.ui.predefine('sap/ovp/cards/map/Component',["sap/ovp/cards/generic/Component"],function(C){"use strict";return C.extend("sap.ovp.cards.map.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.map.GeographicalMap"},"geoLocationAnnotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.GeoLocation"},"annotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Facets"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:["sap.ui.vbm"],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.map.GeographicalMap"}}}}});});
sap.ui.predefine('sap/ovp/cards/quickview/Component',["sap/ovp/cards/generic/Component"],function(C){"use strict";return C.extend("sap.ovp.cards.quickview.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.quickview.Quickview"},"annotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.Facets"},"footerFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.ActionsFooter"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.quickview.Quickview"}}}}});});
sap.ui.predefine('sap/ovp/cards/rta/AppSettingsDialog.controller',['sap/ui/core/mvc/Controller','sap/ovp/cards/AppSettingsUtils',],function(C,A){'use strict';return C.extend('sap.ovp.cards.rta.AppSettingsDialog',{onInit:function(){A.oResetButton.attachPress(this.onResetButton,this);},onAfterRendering:function(){this.setEnablePropertyForResetAndSaveButton(false);this._ovpManifestSettings=this.getView().getModel().getData();this._originalOVPManifestSettings=jQuery.extend(true,{},this._ovpManifestSettings);},onResetButton:function(){this.setEnablePropertyForResetAndSaveButton(false);this._ovpManifestSettings=jQuery.extend(true,{},this._originalOVPManifestSettings);var o=new sap.ui.model.json.JSONModel(this._ovpManifestSettings);this.getView().setModel(o);this.getView().getModel().refresh();},onChange:function(){this.setEnablePropertyForResetAndSaveButton(true);},setEnablePropertyForResetAndSaveButton:function(e){A.oResetButton.setEnabled(e);A.oSaveButton.setEnabled(e);}});});
sap.ui.predefine('sap/ovp/cards/rta/SettingsDialog.controller',['sap/ui/core/mvc/Controller','sap/ui/model/json/JSONModel','/sap/ui/fl/descriptorRelated/api/DescriptorChangeFactory','/sap/ui/fl/descriptorRelated/api/DescriptorInlineChangeFactory','sap/ovp/cards/OVPCardAsAPIUtils','sap/ovp/cards/SettingsUtils','sap/ovp/cards/PayLoadUtils','sap/m/Button','sap/m/Dialog','sap/m/Text','sap/ui/comp/valuehelpdialog/ValueHelpDialog','sap/ovp/cards/rta/SettingsDialogConstants','sap/m/MessageBox','sap/ui/model/Filter','sap/ui/model/FilterOperator'],function(C,J,D,a,O,s,P,B,b,T,V,S,M,F,c){'use strict';return C.extend('sap.ovp.cards.rta.SettingsDialog',{_oCardManifestSettings:{},_aRefreshNotRequired:S._aRefreshNotRequired,_aRefreshRequired:S._aRefreshRequired,oOvpResourceBundle:sap.ui.getCore().getLibraryResourceBundle("sap.ovp"),onInit:function(){s.oSaveButton.attachPress(this.onSaveButtonPress,this);s.oResetButton.attachPress(this.onResetButton,this);s.oMessagePopOverButton.attachPress(this.handleMessagePopoverPress,this);},onAfterRendering:function(){s.dialogBox.addStyleClass("sapOvpSettingsDialogBox");this.setEnablePropertyForResetAndSaveButton(false);this._oCardManifestSettings=this.getView().getModel().getData();this._oOriginalCardManifestSettings=jQuery.extend(true,{},this._oCardManifestSettings);var v=this.getView(),o=v.getModel(),d=v.byId("dialogCard");if(!d.getVisible()){d=v.byId("dialogCardNoPreview");}d.getDomRef().style.minHeight=this._oCardManifestSettings.dialogBoxHeight+'px';v.byId("dialogCardOverlay").getDomRef().style.minHeight=this._oCardManifestSettings.dialogBoxHeight+'px';s.settingFormWidth(v,"calc(100% - "+(this._oCardManifestSettings.dialogBoxWidth+1)+"rem)");setTimeout(function(){var d=this.getView().byId("dialogCard");if(d.getVisible()){d.setBusy(false);}}.bind(this),2000);if(this._oCardManifestSettings.staticContent){this.handleErrorHandling(o,"title","/staticContent");this.handleErrorHandling(o,"targetUri","/staticContent");}},validateInputField:function(e){var o=e.getSource();var l=o.getValue().trim().length;if(!l){o.setValue(o.getValue().trim());}this.updateCard(e);},addView:function(e){this.setEnablePropertyForResetAndSaveButton(true);var d,o=this._oCardManifestSettings,f=this.getView().getModel();if(o.dataPointAnnotationPath&&o.dataPoint&&o.dataPoint.length){d=o.dataPoint[0].value;}if(o.tabs&&o.tabs.length){o.newViewCounter++;o.tabs.push({annotationPath:o.lineItem[0].value,dataPointAnnotationPath:d,value:'View '+o.newViewCounter});var g=o.tabs.length;o.aViews.push({text:'View '+o.newViewCounter,key:g,isLaterAddedView:true,isViewResetEnabled:false});this.selectViewSwitch(e,g);}else{o.tabs=[{}];S.tabFields.forEach(function(t){o.tabs[0][t]=o[t];});o.tabs[0].value="View 1";if(o.template==="sap.ovp.cards.charts.analytical"){o.tabs.push({chartAnnotationPath:o.chart[0].value,dataPointAnnotationPath:d,value:'View 2'});}else{o.tabs.push({annotationPath:o.lineItem[0].value,dataPointAnnotationPath:d,value:'View 2'});}o.selectedKey=1;o.defaultViewSelected=1;o.aViews=[{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText('OVP_KEYUSER_LABEL_MAIN_VIEW'),key:0,isLaterAddedView:false,isViewResetEnabled:false},{text:'View 1 (Default view)',key:1,initialSelectedKey:1,isLaterAddedView:false,isViewResetEnabled:false},{text:'View 2',key:2,isLaterAddedView:true,isViewResetEnabled:false}];o.newViewCounter=2;this.selectViewSwitch(e,1);}this.handleErrorHandling(f,"value","/tabs");},deleteView:function(e){this.setEnablePropertyForResetAndSaveButton(true);var o=this._oCardManifestSettings,d=parseInt(o.selectedKey,10),f=this.getView().getModel();o.tabs.splice(d-1,1);o.aViews.splice(d,1);if(d===o.defaultViewSelected){o.defaultViewSelected=1;o.aViews[d].text=o.aViews[d].text+' (Default view)';}o.aViews.forEach(function(v,i){if(i>=d){v.key--;}});this.handleErrorHandling(f,"value","/tabs");if(o.tabs.length==1){S.tabFields.forEach(function(t){o[t]=o.tabs[0][t];});delete o.selectedKey;delete o.defaultViewSelected;delete o.tabs;delete o.aViews;o.aViews=[{text:'click "+" to add a view',key:0,initialSelectedKey:0,isLaterAddedView:false,isViewResetEnabled:false}];s.addManifestSettings(o);s.setVisibilityForFormElements(o);this.getView().getModel('visibility').refresh();this.getView().getModel().refresh();this._fCardWithRefresh();}else{o.selectedKey=1;this.selectViewSwitch(e,o.selectedKey);}},resetView:function(){var o=this._oCardManifestSettings,d=this.getView().getModel(),i=parseInt(o.selectedKey,10),e=o.aViews[i],f=o.defaultViewSelected;if(!e.isLaterAddedView){var k=o.dataPointAnnotationPath?true:false,g=this._oOriginalCardManifestSettings.dataPointAnnotationPath?true:false;if(i){var h=o.aViews[i].initialSelectedKey;S.tabFields.forEach(function(l){if(l!=='dataPointAnnotationPath'||k){if(this._oOriginalCardManifestSettings.tabs&&this._oOriginalCardManifestSettings.tabs.length){o[l]=this._oOriginalCardManifestSettings.tabs[h-1][l];}else{o[l]=this._oOriginalCardManifestSettings[l];}o.tabs[i-1][l]=o[l];}}.bind(this));if(!this._oOriginalCardManifestSettings.tabs||!this._oOriginalCardManifestSettings.tabs.length){o.newViewCounter++;o.tabs[i-1].value="View "+o.newViewCounter;}if(i===o.defaultViewSelected){o.aViews[i].text=o.tabs[i-1].value+' (Default view)';}else{o.aViews[i].text=o.tabs[i-1].value;}}else{S.mainFields.forEach(function(l){o[l]=this._oOriginalCardManifestSettings[l];}.bind(this));if(k!==g){if(g){o.tabs.forEach(function(t){if(t.prevDataPointAnnotationPath){t.dataPointAnnotationPath=t.prevDataPointAnnotationPath;}else{t.dataPointAnnotationPath=o.dataPoint[0].value;}});o.dataPointAnnotationPath=o.tabs[f].dataPointAnnotationPath;}else{o.tabs.forEach(function(t){t.prevDataPointAnnotationPath=t.dataPointAnnotationPath;t.dataPointAnnotationPath=undefined;});}}}}else{var j;if(o.dataPointAnnotationPath){j=o.dataPoint[0].value;}o.newViewCounter++;if(o.template==="sap.ovp.cards.charts.analytical"){o.tabs[i-1]={chartAnnotationPath:o.chart[0].value,dataPointAnnotationPath:j,value:'View '+o.newViewCounter};}else{o.tabs[i-1]={annotationPath:o.lineItem[0].value,dataPointAnnotationPath:j,value:'View '+o.newViewCounter};}if(i===o.defaultViewSelected){o.aViews[i].text='View '+o.newViewCounter+' (Default view)';}else{o.aViews[i].text='View '+o.newViewCounter;}S.tabFields.forEach(function(l){o[l]=o.tabs[i-1][l];});}this.handleErrorHandling(d,"value","/tabs");o.isViewResetEnabled=false;o.aViews[i].isViewResetEnabled=false;s.addManifestSettings(o);s.setVisibilityForFormElements(o);this.getView().getModel('visibility').refresh();this.getView().getModel().refresh();this._fCardWithRefresh();},selectViewSwitch:function(e,d){var o=this._oCardManifestSettings,f=this.getView().getModel();if(!d){d=e.getSource().getSelectedIndex();}if(this.defaultViewSwitch){this.defaultViewSwitch.setEnabled(true);}this.setEnablePropertyForResetAndSaveButton(true);if(!d){var i=o.defaultViewSelected;o.selectedKey=d;o.mainViewSelected=true;o.isViewResetEnabled=o.aViews[d].isViewResetEnabled;S.tabFields.forEach(function(j){o[j]=o.tabs[i-1][j];});this.handleErrorHandling(f,"value","/tabs");s.addManifestSettings(o);s.setVisibilityForFormElements(o);this.getView().getModel('visibility').refresh();this.getView().getModel().refresh();this._fCardWithRefresh();}else{o.mainViewSelected=false;o.isViewResetEnabled=o.aViews[d].isViewResetEnabled;var g=this.getView().byId("dialogCard");if(g.getVisible()){var r=g.getComponentInstance().getRootControl();var h=r.getController();h.changeSelection(d,true,o);this.handleErrorHandling(f,"value","/tabs");s.addManifestSettings(o);s.setVisibilityForFormElements(o);this.getView().getModel('visibility').refresh();this.getView().getModel().refresh();}}},setCurrentActivePageForCarouselCard:function(i){var d=this.getView().byId("dialogCard");if(d.getVisible()){var o=d.getComponentInstance(),r=o.getRootControl(),e=r.byId("pictureCarousel");if(e){var p=e.getPages(),n=p[i];e.setActivePage(n);}}},onSelectionChange:function(e){var o=e.getSource(),m=o.getModel(),d=m.getData().staticContent,f=o.getSelectedItem(),g=f.getBindingContext().getObject(),v=o.getModel("visibility");for(var i=0;i<d.length;i++){if(d[i].id===g.id){v.setProperty("/moveToTheTop",!(d.length===1||i===0));v.setProperty("/moveUp",!(d.length===1||i===0));v.setProperty("/moveDown",!(d.length===1||i===(d.length-1)));v.setProperty("/moveToTheBottom",!(d.length===1||i===(d.length-1)));v.setProperty("/delete",true);m.setProperty("/selectedItemIndex",i);v.refresh(true);if(e.getParameter("listItem")){this.setCurrentActivePageForCarouselCard(i);}break;}}},handleErrorForProperty:function(o,p,d){o.firePropertyChange({context:o.getContext(d?d:"/"),path:p,value:o.getProperty(d?(d+"/"+p):p),reason:sap.ui.model.ChangeReason.Change});},handleErrorHandling:function(o,p,d){var e=o.getProperty(d);o.firePropertyChange({context:o.getContext(d),path:d+","+p,value:o.getProperty(d),reason:sap.ui.model.ChangeReason.Change});for(var i=0;i<e.length;i++){var f=d+"/"+i;o.firePropertyChange({context:o.getContext(f),path:p,value:o.getProperty(f+"/"+p),reason:sap.ui.model.ChangeReason.Change});}},setEnablePropertyForResetAndSaveButton:function(e){s.enableResetButton(e);s.enableSaveButton(e);},getValueInRemString:function(v){return v+'rem';},_getSelectedItemIndex:function(m){return m.getProperty("/selectedItemIndex");},_getLastItemIndex:function(m){return this._getStaticContentArray(m).length-1;},_getStaticContentArray:function(m){return m.getProperty("/staticContent");},_setStaticContentArray:function(m,d){m.setProperty("/staticContent",d);},_setSelectedItemAndScrollToElement:function(i,h){var v=this.getView(),l=v.byId("sapOvpStaticLinkListLineItem"),o=v.byId("scrollContainer"),d=v.getModel();this.handleErrorHandling(d,"title","/staticContent");this.handleErrorHandling(d,"targetUri","/staticContent");var I=l.getItems()[i];if(h){this._oList=l;this._oItem=I;this._oScrollContainer=o;var e={onAfterRendering:function(E){this._oList.removeEventDelegate(this._oDelegateOnAfter);this._oScrollContainer.scrollToElement(this._oItem);delete this._oDelegateOnAfter;delete this._oList;delete this._oScrollContainer;delete this._oItem;}};this._oDelegateOnAfter=e;l.addEventDelegate(e,this);}else{o.scrollToElement(I);}l.setSelectedItem(I);l.fireSelectionChange();},_arrangeStaticContent:function(m,f,t){var d=this._getStaticContentArray(m);d.splice(t,0,d.splice(f,1)[0]);this._setStaticContentArray(m,d);this._setSelectedItemAndScrollToElement(t);},_filterTable:function(e,f,I){var q=e.getParameter("query"),g=null,d=[];for(var i=0;i<f.length;i++){d.push(new F(f[i],c.Contains,q));}if(q){g=new F(d,false);}this.getView().byId(I).getBinding("items").filter(g,"Application");},filterLinksTable:function(e){this._filterTable(e,["name","value"],"tableFilterLinks");},filterIconTable:function(e){this._filterTable(e,["Icon","Name"],"tableFilter");},filterImageTable:function(e){this._filterTable(e,["Name"],"tableFilterImage");},getIndexFromIdForStaticLinkList:function(i){var d=i.split("-");return d[d.length-1];},_createLabel:function(h){return new sap.m.Label({text:h});},_createIcon:function(d){return new sap.ui.core.Icon({src:"{"+d+"}"});},_createImage:function(d){return new sap.m.Image({src:"{"+d+"}",width:"3rem",height:"3rem"});},_createText:function(d){return new sap.m.Text({text:"{"+d+"}"});},_createColumnHeader:function(p){return new sap.m.Column({header:[this._createLabel(p)]});},_createColumnCells:function(t,p,i){var d;if(i==="tableFilterImage"){d=[this._createImage("Image"),this._createText("Name")];}else if(i==="tableFilterLinks"){d=[this._createText("name"),this._createText("value")];}else{d=[this._createIcon("Icon"),this._createText("Name")];}t.bindItems("/"+p,new sap.m.ColumnListItem({cells:d}));},_addColumnHeader:function(t,i){if(i==="tableFilterImage"){t.addColumn(this._createColumnHeader("Image"));t.addColumn(this._createColumnHeader("Name"));}else{t.addColumn(this._createColumnHeader("Icon"));t.addColumn(this._createColumnHeader("Name"));}},_getColumnHeader:function(i){if(i==="tableFilterImage"){return[this._createColumnHeader("Image"),this._createColumnHeader("Name")];}else if(i==="tableFilterLinks"){return[this._createColumnHeader("Application Name"),this._createColumnHeader("Technical Name")];}else{return[this._createColumnHeader("Icon"),this._createColumnHeader("Name")];}},_createTable:function(i,f){return new sap.m.Table({id:this.getView().getId()+"--"+i,mode:sap.m.ListMode.SingleSelectLeft,inset:false,fixedLayout:false,headerToolbar:new sap.m.Toolbar({content:[new sap.m.ToolbarSpacer({width:"60%"}),new sap.m.SearchField({placeholder:"Search",search:f.bind(this)})]}),columns:this._getColumnHeader(i)});},_getImageData:function(){var i=[];i.push({'Name':'AW.png','Image':sap.ovp.cards.linklist.AnnotationHelper.formUrl(this.getView().getModel().getProperty('/baseUrl'),'img/AW.png')});return i;},_getIconData:function(I){var o=sap.ui.core.IconPool,d=o.getIconNames(),e=[];if(I){var n=I.split("://")[1],f=d.indexOf(n);d.splice(f,1);e.push({'Name':n,'Icon':o.getIconURI(n)});}for(var i=0;i<d.length;i++){e.push({'Name':d[i],'Icon':o.getIconURI(d[i])});}return e;},_getLinkListItemId:function(m,i){return m.getProperty("/staticContent/"+i+"/index");},_makeLinkListItemId:function(i){return"linkListItem--"+i;},_makeLinkListItemIndex:function(i){return"Index--"+i;},getIconAndImageDataModel:function(i){return new sap.ui.model.json.JSONModel({'Icons':this._getIconData(i),'Images':[]});},getSubHeader:function(){var I=new sap.m.IconTabBar({selectedKey:"ICON",select:function(e){var k=e.getParameter("key");if(k==="IMAGE"){this.valueHelpDialog.setTable(this._oTableImage);if(typeof this._oTableImage.getColumns==="function"&&this._oTableImage.getColumns().length===0){this._addColumnHeader(this._oTableImage,"tableFilterImage");}}else{this.valueHelpDialog.setTable(this._oTable);if(typeof this._oTable.getColumns==="function"&&this._oTable.getColumns().length===0){this._addColumnHeader(this._oTable,"tableFilter");}}}.bind(this)});var t=["ICON","IMAGE"];for(var i=0;i<t.length;i++){var d=new sap.m.IconTabFilter({text:t[i],key:t[i]});I.addItem(d);}return new sap.m.Toolbar({content:[I]});},destroyTemplatesAndObjects:function(){var v=this.getView();var t=v.byId("tableFilterImage");if(t){t.destroy();}var o=v.byId("tableFilter");if(o){o.destroy();}var d=v.byId("tableFilterLinks");if(d){d.destroy();}delete this._oEvent;delete this._iCurrentRow;delete this._oModel;delete this._oVisibilityModel;},onExternalUrlChange:function(e){this.setEnablePropertyForResetAndSaveButton(true);},onLinkSourceChange:function(e){var o=e.getSource(),m=o.getModel(),v=o.getModel("visibility"),i=this.getIndexFromIdForStaticLinkList(o.getId()),d=e.getParameter("selectedIndex"),f=v.getProperty("/staticLink"),l=v.getProperty("/links"),I=this._getLinkListItemId(m,parseInt(i,10));if(d===0){f[I]=false;l[I]=true;m.setProperty("/staticContent/"+i+"/targetUri",undefined);}else{f[I]=true;l[I]=false;m.setProperty("/staticContent/"+i+"/semanticObject",undefined);m.setProperty("/staticContent/"+i+"/action",undefined);m.setProperty("/staticContent/"+i+"/targetUri","");}v.setProperty("/staticLink",f);v.setProperty("/links",l);v.refresh(true);m.refresh(true);this.handleErrorForProperty(m,"targetUri","/staticContent/"+i);this.setEnablePropertyForResetAndSaveButton(true);},onRemoveVisualPress:function(e){var o=e.getSource(),m=o.getModel(),v=o.getModel("visibility"),i=this.getIndexFromIdForStaticLinkList(o.getId()),I=this._getLinkListItemId(m,parseInt(i,10)),r=v.getProperty("/removeVisual");r[I]=false;v.setProperty("/removeVisual",r);v.refresh(true);m.setProperty("/staticContent/"+i+"/imageUri",undefined);m.refresh(true);this.updateCard(e,"sapOvpSettingsStaticLinkListRemoveVisual");},createValueHelpDialogForInternalUrl:function(e){var o=e.getSource(),m=o.getModel(),E=o.getModel("staticCardProperties"),v=o.getModel("visibility"),i=this.getIndexFromIdForStaticLinkList(o.getId());this._oEvent=jQuery.extend({},e);this._iCurrentRow=i;this._oModel=m;this._oVisibilityModel=v;var t=this._createTable("tableFilterLinks",this.filterLinksTable);t.setModel(E);this._createColumnCells(t,"links","tableFilterLinks");this._oTable=t;this.valueHelpDialog=new V({title:"Application",contentWidth:"100%",contentHeight:this.getValueInRemString(s.iContentHeightForDialog),supportMultiselect:false,ok:function(e){var d=this._oTable.getSelectedItem(),I=d.getBindingContext().getProperty("value"),f=I.slice(1).split("-"),g=f[0],A=f[1];this._oModel.setProperty("/staticContent/"+this._iCurrentRow+"/semanticObject",g);this._oModel.setProperty("/staticContent/"+this._iCurrentRow+"/action",A);this._oModel.refresh(true);this.setEnablePropertyForResetAndSaveButton(true);this.destroyTemplatesAndObjects();this.valueHelpDialog.close();}.bind(this)});this.valueHelpDialog.addStyleClass("sapOvpSettingsDialogBox");this.valueHelpDialog.attachCancel(function(){this.destroyTemplatesAndObjects();this.valueHelpDialog.close();}.bind(this));this.valueHelpDialog.setTable(t);t.setSelectedItem(t.getItems()[0]);this.valueHelpDialog.open();},onChangeVisualPress:function(e){var o=e.getSource(),m=o.getModel(),v=o.getModel("visibility"),i=this.getIndexFromIdForStaticLinkList(o.getId()),I=m.getProperty("/staticContent/"+i+"/imageUri"),n=sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData(I);this._oEvent=jQuery.extend({},e);this._iCurrentRow=i;this._oModel=m;this._oVisibilityModel=v;var t=this._createTable("tableFilter",this.filterIconTable);var r=(n)?this.getIconAndImageDataModel():this.getIconAndImageDataModel(I);t.setModel(r);this._createColumnCells(t,"Icons","tableFilter");this._oTable=t;var d=this._createTable("tableFilterImage",this.filterImageTable);d.setModel(r);this._createColumnCells(d,"Images","tableFilterImage");this._oTableImage=d;var f=this.getSubHeader();this.valueHelpDialog=new V({title:"Visual",contentWidth:"100%",contentHeight:this.getValueInRemString(s.iContentHeightForDialog),supportMultiselect:false,ok:function(e){var t,p,g=this._getLinkListItemId(this._oModel,parseInt(this._iCurrentRow,10)),R=this._oVisibilityModel.getProperty("/removeVisual");R[g]=true;this._oVisibilityModel.setProperty("/removeVisual",R);this._oVisibilityModel.refresh(true);if(this._sTableName==="tableFilterImage"){t=this._oTableImage;p="Image";}else{t=this._oTable;p="Icon";}var h=t.getSelectedItem(),j=h.getBindingContext(),u=j.getProperty(p);this._oModel.setProperty("/staticContent/"+this._iCurrentRow+"/imageUri",u);this._oModel.refresh(true);this.updateCard(this._oEvent,"sapOvpSettingsStaticLinkListChangeVisual");this.destroyTemplatesAndObjects();this.valueHelpDialog.close();}.bind(this)});this.valueHelpDialog.attachSelectionChange(function(e){var g=e.getParameter("tableSelectionParams");if(g.id.indexOf("tableFilterImage")===-1){this._sTableName="tableFilter";}else{this._sTableName="tableFilterImage";}}.bind(this));this.valueHelpDialog.addStyleClass("sapOvpSettingsDialogBox");this.valueHelpDialog.attachCancel(function(){this.destroyTemplatesAndObjects();this.valueHelpDialog.close();}.bind(this));this.valueHelpDialog.setTable(t);this.valueHelpDialog.setSubHeader(f);t.setSelectedItem(t.getItems()[0]);this.valueHelpDialog.open();},handleMessagePopoverPress:function(e){s.oMessagePopOver.openBy(e.getSource());},onShowMorePress:function(e){var o=e.getSource(),m=o.getModel(),v=o.getModel("visibility"),i=this.getIndexFromIdForStaticLinkList(o.getId()),I=this._getLinkListItemId(m,parseInt(i,10)),d=v.getProperty("/showMore/"+I);if(d){v.setProperty("/showMore/"+I,false);}else{v.setProperty("/showMore/"+I,true);}v.refresh(true);},onPressDelete:function(e){this._oEvent=jQuery.extend({},e);M.confirm("Do you want to delete the Line Item",{actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],icon:M.Icon.INFORMATION,title:"Information",initialFocus:M.Action.CANCEL,onClose:function(A){if(A==="OK"){var o=this._oEvent.getSource(),v=o.getModel("visibility"),m=o.getModel(),d=this._getStaticContentArray(m),i=this._getSelectedItemIndex(m),I=this._getLinkListItemId(m,i),f=v.getProperty("/staticLink"),l=v.getProperty("/links"),r=v.getProperty("/removeVisual"),g=v.getProperty("/showMore");delete f[I];delete l[I];delete r[I];delete g[I];v.setProperty("/staticLink",f);v.setProperty("/links",l);v.setProperty("/removeVisual",r);v.setProperty("/showMore",g);d.splice(i,1);this._setStaticContentArray(m,d);m.refresh(true);if(d.length>0){this._setSelectedItemAndScrollToElement(Math.min(parseInt(i,10),d.length-1),true);}if(d.length<=1){v.setProperty("/delete",false);}v.refresh(true);this.updateCard(this._oEvent,"sapOvpSettingsStaticLinkListDelete");}delete this._oEvent;}.bind(this)});},onPressAdd:function(e){var o=e.getSource(),v=o.getModel("visibility"),m=o.getModel(),d=this._getStaticContentArray(m),l=m.getProperty("/lineItemIdCounter"),i=this._makeLinkListItemId(l+1),I=this._makeLinkListItemIndex(l+1),f=v.getProperty("/staticLink"),L=v.getProperty("/links"),r=v.getProperty("/removeVisual"),g=v.getProperty("/showMore");m.setProperty("/lineItemIdCounter",l+1);d.unshift({"id":i,"index":I,"title":"Default Title","subTitle":"Default SubTitle","imageUri":"","imageAltText":"","targetUri":"","openInNewWindow":""});f[I]=true;L[I]=false;r[I]=false;g[I]=false;v.setProperty("/staticLink",f);v.setProperty("/links",L);v.setProperty("/removeVisual",r);v.setProperty("/showMore",g);v.refresh(true);this._setStaticContentArray(m,d);m.refresh(true);this._setSelectedItemAndScrollToElement(0);this.updateCard(e,"sapOvpSettingsStaticLinkListAdd");},onPressMoveToTheTop:function(e){var m=e.getSource().getModel();this._arrangeStaticContent(m,this._getSelectedItemIndex(m),0);this.updateCard(e,"sapOvpSettingsStaticLinkListSort");},onPressMoveUp:function(e){var m=e.getSource().getModel(),i=this._getSelectedItemIndex(m);this._arrangeStaticContent(m,i,i-1);this.updateCard(e,"sapOvpSettingsStaticLinkListSort");},onPressMoveDown:function(e){var m=e.getSource().getModel(),i=this._getSelectedItemIndex(m);this._arrangeStaticContent(m,i,i+1);this.updateCard(e,"sapOvpSettingsStaticLinkListSort");},onPressMoveToTheBottom:function(e){var m=e.getSource().getModel(),i=this._getSelectedItemIndex(m),I=this._getLastItemIndex(m);this._arrangeStaticContent(m,i,I);this.updateCard(e,"sapOvpSettingsStaticLinkListSort");},onResetButton:function(){this._oCardManifestSettings=jQuery.extend(true,{},this._oOriginalCardManifestSettings);var o=this.getView().getModel();o.setProperty("/",this._oCardManifestSettings);s.setVisibilityForFormElements(this._oCardManifestSettings);this.getView().getModel('visibility').refresh();s.resetErrorHandling();this.setEnablePropertyForResetAndSaveButton(false);this._fCardWithRefresh();},onSaveButtonPress:function(){if(s.bError){s.oMessagePopOverButton.firePress();}else{this.createAndSubmitChange.bind(this)();}},setBusy:function(d){if(d){this.getView().addStyleClass("dialogContainerOverlay");var e=this.getView().byId("dialogCard");if(e.getVisible()){e.getComponentInstance().getRootControl().setBusy(d);}}else{this.getView().removeStyleClass("dialogContainerOverlay");setTimeout(function(){var e=this.getView().byId("dialogCard");if(e.getVisible()){e.getComponentInstance().getRootControl().setBusy(d);}}.bind(this),2000);}},_fCardWithoutRefresh:function(e,u){var v=this.getView(),o=this._oCardManifestSettings,d=v.byId("dialogCard").getComponentInstance(),r=d.getRootControl(),E,m,i=false,f;if(o.tabs&&o.tabs.length){i=true;f=parseInt(o.selectedKey,10);}if(u.formElementId==="sapOvpSettingsLineItemTitle"||u.formElementId==="sapOvpSettingsLineItemSubTitle"){E=r.byId(u.cardElementId+"--"+v.getModel().getProperty("/lineItemId"));}else{E=r.byId(u.cardElementId);if(!E){this._fCardWithRefresh(e,u.cardElementId);}}switch(u.formElementId){case"sapOvpSettingsLineItemTitle":case"sapOvpSettingsLineItemSubTitle":case"sapOvpSettingsTitle":case"sapOvpSettingsValueSelectionInfo":if(E){E.setText(e.getSource().getValue());}break;case"sapOvpSettingsSubTitle":var g=r.getController(),h=g.getCardPropertiesModel();h.setProperty("/subTitle",e.getSource().getValue());g._setSubTitleWithUnitOfMeasure();break;case"sapOvpSettingsViewName":var j=o.viewName;m=v.getModel();E.getItems()[f-1].setText(j);o.tabs[f-1].value=j;if(o.defaultViewSelected===f){j=j+" (Default view)";}o.aViews[f].text=j;m.refresh();break;case"sapOvpDefaultViewSwitch":if(e.getSource().getState()){var k=o.defaultViewSelected;m=v.getModel();o.defaultViewSelected=f;o.aViews[k].text=o.tabs[k-1].value;o.aViews[f].text+=" (Default view)";m.refresh();this.defaultViewSwitch=e.getSource();this.defaultViewSwitch.setEnabled(false);}break;case"sapOvpSettingsIdentification":if(i){o.tabs[f-1][u.updateProperty]=o[u.updateProperty];}break;case"sapOvpSettingsKPIHeaderSwitch":var l=v.getModel("visibility"),n=l.getData();n.dataPoint=false;n.valueSelectionInfo=false;if(i){o.tabs.forEach(function(t){t.prevDataPointAnnotationPath=t.dataPointAnnotationPath;t.dataPointAnnotationPath=undefined;});}else{var p=o.dataPointAnnotationPath;if(p){o.prevDataPointAnnotationPath=p;}o.dataPointAnnotationPath=undefined;}l.refresh(true);E.destroy();break;default:break;}},_fCardWithRefresh:function(e,u){var p,d,v,o,f,g=this._oCardManifestSettings,h=this.getView(),i=h.byId('dialogCard'),j=i.getComponentInstance().getComponentData(),k=j.cardId,m=j.manifest.cards[k].model,l={cards:{}},n=false,q;if(g.tabs&&g.tabs.length){n=true;q=parseInt(g.selectedKey,10);}switch(u){case"subTitleSwitch":v=this.getView();o=v.getModel("visibility");if(e.getSource().getState()){if(n){d=g.defaultViewSelected;g.tabs.forEach(function(w){p=w.prevDynamicSubtitleAnnotationPath;if(p){w.dynamicSubtitleAnnotationPath=p;}else{w.dynamicSubtitleAnnotationPath=g.dynamicSubTitle[0].value;}});g.dynamicSubtitleAnnotationPath=g.tabs[d-1].dynamicSubtitleAnnotationPath;}else{p=g.prevDynamicSubtitleAnnotationPath;if(p){g.dynamicSubtitleAnnotationPath=p;}else{g.dynamicSubtitleAnnotationPath=g.dynamicSubTitle[0].value;}}h.byId("sapOvpSettingsDynamicSubTitle").setSelectedKey(g.dynamicSubtitleAnnotationPath);}else{if(n){g.tabs.forEach(function(w){w.prevDynamicSubtitleAnnotationPath=w.dynamicSubtitleAnnotationPath;w.dynamicSubtitleAnnotationPath=undefined;});g.dynamicSubtitleAnnotationPath=undefined;}else{var r=g.dynamicSubtitleAnnotationPath;if(r){g.prevDynamicSubtitleAnnotationPath=r;}g.dynamicSubtitleAnnotationPath=undefined;}}o.setProperty("/subTitle",s.getVisibilityOfElement(g,'subTitle',n));o.setProperty("/dynamicSubTitle",s.getVisibilityOfElement(g,'dynamicSubTitle',n)&&!!g["dynamicSubTitle"]&&!!g["dynamicSubTitle"].length);o.refresh(true);break;case"kpiHeader":v=this.getView();o=v.getModel("visibility");f=o.getData();f.valueSelectionInfo=true;f.dataPoint=true;if(g.tabs&&g.tabs.length){f.dataPoint=s.getVisibilityOfElement(g,'dataPoint',true);}if(!g.valueSelectionInfo){g.valueSelectionInfo=" ";}if(n){d=g.defaultViewSelected;g.tabs.forEach(function(w){p=w.prevDataPointAnnotationPath;if(p){w.dataPointAnnotationPath=p;}else{w.dataPointAnnotationPath=g.dataPoint[0].value;}});g.dataPointAnnotationPath=g.tabs[d-1].dataPointAnnotationPath;}else{p=g.prevDataPointAnnotationPath;if(p){g.dataPointAnnotationPath=p;}else{g.dataPointAnnotationPath=g.dataPoint[0].value;}}o.refresh(true);break;case"listType":g[u]=(e.getSource().getState())?"extended":"condensed";break;case"listFlavor":g[u]=(e.getSource().getState())?"bar":"";break;case"sortBy":v=this.getView();o=v.getModel("visibility");f=o.getData();if(!!g.sortBy!==f.sortOrder){f.sortOrder=!!g.sortBy;o.refresh();}break;case"listFlavorForLinkList":case"sortOrder":break;case"annotationPath":case"chartAnnotationPath":case"presentationAnnotationPath":case"selectionAnnotationPath":case"dynamicSubtitleAnnotationPath":case"dataPointAnnotationPath":if(n){g.tabs[q-1][u]=g[u];}break;case"ovpHeaderTitle":case"add":case"removeVisual":case"changeVisual":case"sort":case"delete":break;default:break;}l.cards[k]={model:m,template:j.template,settings:g};this.setBusy(true);var t=O.createCardComponent(h,l,'dialogCard');t.then(function(){this.setBusy(false);var L=this.getView().byId("sapOvpStaticLinkListLineItem");if(L){var I=L.getSelectedItem();if(I){var w=I.getId(),x=this.getIndexFromIdForStaticLinkList(w);this.setCurrentActivePageForCarouselCard(x);}}}.bind(this));t.catch(function(){this.setBusy(false);}.bind(this));},updateCard:function(e,I){var o=this._oCardManifestSettings,d=this.getView().byId("dialogCard");this.setEnablePropertyForResetAndSaveButton(true);if(d.getVisible()){if(o.tabs&&o.tabs.length){var f=parseInt(o.selectedKey,10);o.isViewResetEnabled=true;o.aViews[f].isViewResetEnabled=true;}var g=e.getSource(),h=(I)?I:g.getId(),k=false;if(h.indexOf("sapOvpStaticLinkListLineItem")!==-1){var l=g.getModel(),m=l.getData().staticContent,n=this.getIndexFromIdForStaticLinkList(h);this.setCurrentActivePageForCarouselCard(n);l.setProperty("/lineItemId",m[n].id);if(h.indexOf("sapOvpSettingsLineItemTitle")!==-1){h="sapOvpSettingsLineItemTitle";}else if(h.indexOf("sapOvpSettingsLineItemSubTitle")!==-1){h="sapOvpSettingsLineItemSubTitle";}}for(var i=0;i<this._aRefreshNotRequired.length;i++){if(h.indexOf(this._aRefreshNotRequired[i].formElementId)>-1){if(this._aRefreshNotRequired[i].isKpiSwitch&&e.getSource().getState()){break;}this._fCardWithoutRefresh(e,this._aRefreshNotRequired[i]);k=true;break;}}if(!k){for(var j=0;j<this._aRefreshRequired.length;j++){if(h.indexOf(this._aRefreshRequired[j].formElementId)>-1){this.setBusy(true);this._fCardWithRefresh(e,this._aRefreshRequired[j].updateProperty);break;}}}}},onExit:function(){s.oSaveButton.detachPress(this.onSaveButtonPress,this);s.oResetButton.detachPress(this.onResetButton,this);s.oMessagePopOverButton.detachPress(this.handleMessagePopoverPress,this);},updateTheLineItemSelected:function(e){var d=e.getSource().getSelectedItem().getBindingContext().getObject().Qualifier,o=this._oCardManifestSettings,i;if(o.tabs&&o.tabs.length){i=parseInt(o.selectedKey,10);}o.lineItemQualifier=d;o.annotationPath='com.sap.vocabularies.UI.v1.LineItem#'+d;if(d==='Default'){o.annotationPath='com.sap.vocabularies.UI.v1.LineItem';}if(o.tabs&&o.tabs.length){o.tabs[i-1].annotationPath=o.annotationPath;}this.getView().byId("sapOvpSettingsLineItem").setValue(d);this._fCardWithRefresh(e,'annotationPath');this.setEnablePropertyForResetAndSaveButton(true);if(o.tabs&&o.tabs.length){o.isViewResetEnabled=true;o.aViews[i].isViewResetEnabled=true;}this.valueHelpDialog.close();},getListItems:function(){var i=[],o=this._oCardManifestSettings,d=this.getView(),e=d.byId('dialogCard'),f=e.getComponentInstance().getComponentData(),l=o.entityType.$path+'/'+o.annotationPath,m=f.model.getMetaModel(),g=m.getContext(m.resolve(l,this.oView.getBindingContext()));var h=2,j=1,n=0;if(o.listFlavor==='bar'){h=1;j=2;}if(o.listType&&o.listType.toLowerCase()==='extended'){h=6;j=3;n=3;if(o.listFlavor==='bar'){h=5;}}else if(o.contentFragment==="sap.ovp.cards.table.Table"){h=3;j=1;n=1;}o.lineItem.forEach(function(k){var p=sap.ovp.cards.AnnotationHelper.getSortedDataPoints(g,k.fields),q=sap.ovp.cards.AnnotationHelper.getSortedDataFields(g,k.fields),r=[],t=[];p.forEach(function(x){if(x.Title){t.push(x.Title.String);}});q.forEach(function(x){if(x.Label){r.push(x.Label.String);}});var u=Math.min(t.length,j),v=Math.min(n,u),w=r.slice(0,h-v).concat(t.slice(0,u));w.map(function(x){return x.charAt(0).toUpperCase()+x.substr(1);});i.push({Qualifier:k.name,VisibleFields:w.toString()});});return i;},openLineItemValueHelpDialog:function(e){var t=new sap.m.Table({mode:sap.m.ListMode.SingleSelectLeft,inset:false,fixedLayout:false,columns:[new sap.m.Column({header:[new sap.m.Label({text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText('OVP_KEYUSER_LINEITEM_QUAL')})]}),new sap.m.Column({header:[new sap.m.Label({text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_VISIBLE_FIELDS")})]})]});t.bindItems("/",new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"{Qualifier}"}),new sap.m.Text({text:"{VisibleFields}"})]}));t.attachSelectionChange(this.updateTheLineItemSelected.bind(this));this.valueHelpDialog=new V({title:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_LINEITEM_ANNO"),contentWidth:"100%",contentHeight:this.getValueInRemString(s.iContentHeightForDialog+0.125),supportMultiselect:false});this.valueHelpDialog.attachCancel(function(){this.valueHelpDialog.close();}.bind(this));this.valueHelpDialog.setTable(t);this.valueHelpDialog.addStyleClass("sapOvpSettingsDialogBox");this.aItemList=this.getListItems();var r=new sap.ui.model.json.JSONModel();r.setData(this.aItemList);this.valueHelpDialog.getTable().setModel(r);t.getItems().forEach(function(i){if(i.getBindingContext().getObject().Qualifier===this._oCardManifestSettings.lineItemQualifier){i.setSelected(true);}}.bind(this));this.valueHelpDialog.open();},createAndSubmitChange:function(){var p=P.getPayLoadForEditCard.bind(this)(s);this.settingsResolve(p);s.dialogBox.close();}});});
sap.ui.predefine('sap/ovp/cards/rta/SettingsDialogConstants',[],function(){"use strict";return{aVariantNames:[{sVariant:".SelectionVariant",sPath:"selectionVariant"},{sVariant:".PresentationVariant",sPath:"presentationVariant"},{sVariant:".Identification",sPath:"identification"},{sVariant:".DataPoint",sPath:"dataPoint",isMandatoryField:true},{sVariant:".Chart",sPath:"chart",isMandatoryField:true},{sVariant:".LineItem",sPath:"lineItem",isMandatoryField:true},{sVariant:".HeaderInfo",sPath:"dynamicSubTitle",isMandatoryField:true}],tabFields:['dynamicSubtitleAnnotationPath','annotationPath','selectionAnnotationPath','presentationAnnotationPath','identificationAnnotationPath','dataPointAnnotationPath','chartAnnotationPath','value'],mainFields:['title','subTitle','valueSelectionInfo','listType','listFlavor','sortOrder','sortBy'],allTexts:['title','subTitle','valueSelectionInfo','value'],cardSettingsArrayLevel:{"staticContent":{"text":['title','subTitle'],"settings":['imageUri','imageAltText','targetUri','openInNewWindow','semanticObject','action']},"tabs":{"text":['value'],"settings":['dynamicSubtitleAnnotationPath','annotationPath','selectionAnnotationPath','presentationAnnotationPath','identificationAnnotationPath','dataPointAnnotationPath','chartAnnotationPath','colorPalette','ChartProperties','selectionPresentationAnnotationPath','kpiAnnotationPath'],"onlyTabLevelProps":['value']}},cardSettingsForComplex:{"text":['title','subTitle','valueSelectionInfo'],"settings":['listType','listFlavor','sortOrder','sortBy']},cardSettings:{"text":['title','subTitle','valueSelectionInfo'],"settings":['listType','listFlavor','sortOrder','sortBy','dynamicSubtitleAnnotationPath','annotationPath','selectionAnnotationPath','presentationAnnotationPath','identificationAnnotationPath','dataPointAnnotationPath','chartAnnotationPath']},cardSettingsWithText:['title','subTitle','valueSelectionInfo',{'staticContent':['title','subTitle']},{'tabs':['value']}],oVisibility:{"cardPreview":true,"title":true,"dynamicSwitchStateSubTitle":false,"dynamicSwitchSubTitle":false,"dynamicSubTitle":false,"subTitle":true,"kpiHeader":true,"valueSelectionInfo":true,"listType":true,"listFlavor":true,"sortOrder":true,"sortBy":true,"selectionVariant":true,"presentationVariant":true,"lineItem":true,"identification":true,"dataPoint":true,"chart":true,"links":false,"lineItemTitle":false,"lineItemSubTitle":false,"staticLink":false,"viewSwitch":false,"moveToTheTop":false,"moveUp":false,"moveDown":false,"moveToTheBottom":false,"delete":false,"showMore":true,"removeVisual":false},_aRefreshNotRequired:[{"formElementId":"sapOvpSettingsTitle","cardElementId":"ovpHeaderTitle"},{"formElementId":"sapOvpSettingsViewName","cardElementId":"ovp_card_dropdown"},{"formElementId":"sapOvpDefaultViewSwitch","cardElementId":""},{"formElementId":"sapOvpSettingsSubTitle","cardElementId":"SubTitle-Text"},{"formElementId":"sapOvpSettingsLineItemTitle","cardElementId":"linkListTitleLabel"},{"formElementId":"sapOvpSettingsLineItemSubTitle","cardElementId":"linkListSubTitleLabel"},{"formElementId":"sapOvpSettingsValueSelectionInfo","cardElementId":"ovpValueSelectionInfo"},{"formElementId":"sapOvpSettingsIdentification","cardElementId":"","updateProperty":"identificationAnnotationPath"},{"formElementId":"sapOvpSettingsKPIHeaderSwitch","cardElementId":"kpiHeader","isKpiSwitch":true}],_aRefreshRequired:[{"formElementId":"sapOvpSettingsKPIHeaderSwitch","updateProperty":"kpiHeader"},{"formElementId":"sapOvpSettingsSwitchSubTitle","updateProperty":"subTitleSwitch"},{"formElementId":"sapOvpSettingsListType","updateProperty":"listType"},{"formElementId":"sapOvpSettingsListFlavorForList","updateProperty":"listFlavor"},{"formElementId":"sapOvpSettingsListFlavorForLinkList","updateProperty":"listFlavorForLinkList"},{"formElementId":"sapOvpSettingsSortOrder","updateProperty":"sortOrder"},{"formElementId":"sapOvpSettingsSortBy","updateProperty":"sortBy"},{"formElementId":"sapOvpSettingsDynamicSubTitle","updateProperty":"dynamicSubtitleAnnotationPath"},{"formElementId":"sapOvpSettingsFilterBy","updateProperty":"selectionAnnotationPath"},{"formElementId":"sapOvpSettingsPresentedBy","updateProperty":"presentationAnnotationPath"},{"formElementId":"sapOvpSettingsDataPoint","updateProperty":"dataPointAnnotationPath"},{"formElementId":"sapOvpSettingsChart","updateProperty":"chartAnnotationPath"},{"formElementId":"sapOvpSettingsLineItem","updateProperty":"annotationPath"},{"formElementId":"sapOvpSettingsStaticLinkListDelete","updateProperty":"delete"},{"formElementId":"sapOvpSettingsStaticLinkListAdd","updateProperty":"add"},{"formElementId":"sapOvpSettingsStaticLinkListSort","updateProperty":"sort"},{"formElementId":"sapOvpSettingsStaticLinkListChangeVisual","updateProperty":"changeVisual"},{"formElementId":"sapOvpSettingsStaticLinkListRemoveVisual","updateProperty":"removeVisual"}]};},true);
sap.ui.predefine('sap/ovp/cards/stack/Component',["sap/ovp/cards/generic/Component"],function(C){"use strict";return C.extend("sap.ovp.cards.stack.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.stack.Stack"},"contentPosition":{"type":"string","defaultValue":"Right"},"objectStreamCardsSettings":{"type":"object","defaultValue":{}},"objectStreamCardsTemplate":{"type":"string","defaultValue":"sap.ovp.cards.quickview"},"objectStreamCardsNavigationProperty":{"type":"string"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.stack.Stack"}}}}});});
sap.ui.predefine('sap/ovp/cards/table/Component',["sap/ovp/cards/generic/Component"],function(C){return C.extend("sap.ovp.cards.table.Component",{metadata:{properties:{"contentFragment":{"type":"string","defaultValue":"sap.ovp.cards.table.Table"},"annotationPath":{"type":"string","defaultValue":"com.sap.vocabularies.UI.v1.LineItem"},"countHeaderFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.CountHeader"},"headerExtensionFragment":{"type":"string","defaultValue":"sap.ovp.cards.generic.KPIHeader"}},version:"1.54.4",library:"sap.ovp",includes:[],dependencies:{libs:[],components:[]},config:{},customizing:{"sap.ui.controllerExtensions":{"sap.ovp.cards.generic.Card":{controllerName:"sap.ovp.cards.table.Table"}}}}});});
sap.ui.predefine('sap/ovp/flexibility/DashboardLayout.flexibility',["sap/ui/fl/changeHandler/BaseRename","sap/ovp/changeHandler/HideCardContainer","sap/ovp/changeHandler/UnhideCardContainer","sap/ovp/changeHandler/UnhideControl"],function(B,H,U,a){"use strict";return{"manageCardsForDashboardLayout":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.storeIncomingDeltaChanges(c.getContent());return true;},completeChangeContent:function(c,s,p){c.setContent(s.content);return;}},layers:{"USER":true}},"viewSwitch":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"USER":true}},"visibility":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"USER":true}},"dragOrResize":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"USER":true}}};},true);
sap.ui.predefine('sap/ovp/flexibility/EasyScanLayout.flexibility',["sap/ui/fl/changeHandler/BaseRename","sap/ovp/changeHandler/HideCardContainer","sap/ovp/changeHandler/UnhideCardContainer","sap/ovp/changeHandler/UnhideControl","sap/ui/dt/OverlayRegistry","sap/ui/dt/OverlayUtil"],function(B,H,U,a,O,b){"use strict";return{"moveControls":{"changeHandler":"default","layers":{"CUSTOMER_BASE":false,"CUSTOMER":false,"USER":false}},"unhideControl":a,"unhideCardContainer":U,"hideCardContainer":H,"cardSettings":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl(),M=m.getController(),C=c.getContent(),o=m.byId(C.id);if(o){var d=o.getComponentInstance();d.destroy();}else{var n=new sap.ui.core.ComponentContainer(m.getId()+"--"+C.id),u=M.getUIModel(),e=u.getProperty("/cards"),f=M.getLayout();C.settings.baseUrl=M._getBaseUrl();C.settings.cloneCard=true;var I=-1,i;for(i=0;i<e.length;i++){if(C.id.lastIndexOf("customer."+e[i].id,0)===0){I=i;break;}}e.splice(I+1,0,C);u.setProperty("/cards",e);f.insertContent(n,I+1);setTimeout(function(){var s=document.activeElement.id,g=O.getOverlay(s);g=b.getNextSiblingOverlay(g);g.setSelected(true);g.focus();sap.m.MessageToast.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OVP_KEYUSER_TOAST_MESSAGE_FOR_CLONE"),{duration:10000});},0);}M.recreateRTAClonedCard(C);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":false,"CUSTOMER":false,"USER":false}},"manageCardsForEasyScanLayout":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.storeIncomingDeltaChanges(c.getContent());return true;},completeChangeContent:function(c,s,p){c.setContent(s.content);return;}},layers:{"USER":true}},"viewSwitch":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"USER":true}},"visibility":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"USER":true}},"position":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"USER":true}}};},true);
sap.ui.predefine('sap/ovp/ui/DashboardLayoutModel',['sap/ovp/cards/CommonUtils'],function(C){"use strict";var L=function(u,c,r,i){this.uiModel=u;this.setColCount(c);this.aCards=[];this.oLayoutVars=null;this.oUndoBuffer={};this.bSequenceLayout=null;this.iDisplaceRow=null;this.iDummyRow=999;this.iRowHeightPx=r;this.iCardBorderPx=i;};
L.prototype.setColCount=function(c){if(!c){this.iColCount=5;}else if(c!==this.iColCount){if(this.bLayoutChanged){this.oUndoBuffer={};this.bLayoutChanged=false;}this.iPreviousColCount=this.iColCount;this.iColCount=c;}};
L.prototype.setLayoutVars=function(l){if(Array.isArray(l)&&l.length!==0){this.oLayoutVars=l;}this._buildGrid();};
L.prototype.updateCardVisibility=function(c){var o,a;for(var i=0;i<c.length;i++){o=this.oLayoutVars.filter(function(b){return b.id===c[i].id;});a=this.aCards.filter(function(b){return b.id===c[i].id;});if(!c[i].visibility){o[0].dashboardLayout['C'+this.iColCount].row=this._findHighestOccupiedRow();a[0].dashboardLayout.row=o[0].dashboardLayout['C'+this.iColCount].row;}o[0].visibility=c[i].visibility;a[0].dashboardLayout.visible=c[i].visibility;}};
L.prototype.getColCount=function(){return this.iColCount;};
L.prototype.getCards=function(c){if(this.aCards.length===0||c&&c!==this.iColCount){if(c){this.setColCount(c);}this._buildGrid();}return this.aCards;};
L.prototype.getCardById=function(c){var o=null;var i=0;for(i=0;i<this.aCards.length;i++){o=this.aCards[i];if(o.id===c){break;}}return o;};
L.prototype.getLayoutVariants4Pers=function(){return JSON.parse(JSON.stringify(this.oLayoutVars));};
L.prototype._readVariants=function(){var v,l=this.uiModel.getProperty('/dashboardLayout');if(!!l){for(var a in l){if(l.hasOwnProperty(a)&&l[a]){v=l[a];v.id=a;for(var i in v){var o=this.oLayoutVars.filter(function(e){return e.id===i;});if(Array.isArray(o)&&o.length>0){var s='C'+ +v.id.replace(/[^0-9\.]/g,"");var c=o[0].dashboardLayout[s];var b=this.aCards.filter(function(e){return e.id===i;});if(Array.isArray(b)&&b.length>0){if(c){c.row=v[i].row;c.col=v[i].col;c.colSpan=b[0].template==='sap.ovp.cards.stack'?1:Math.min(v[i].colSpan,this.iColCount);c.maxColSpan=v[i].maxColSpan;c.noOfItems=v[i].rowSpan;}else{o[0].dashboardLayout[s]={row:v[i].row,col:v[i].col,colSpan:b[0].template==='sap.ovp.cards.stack'?1:Math.min(v[i].colSpan,this.iColCount),maxColSpan:v[i].maxColSpan,noOfItems:v[i].rowSpan,autoSpan:b[0].template==='sap.ovp.cards.stack'?false:true}}o[0].visibility=v[i].visible?v[i].visible:true;}}}}}}};
L.prototype.resetToManifest=function(){this.oLayoutVars=null;for(var i=0;i<this.aCards.length;i++){this.aCards[i].dashboardLayout={};}this._buildGrid(true);};
L.prototype._buildGrid=function(u){if(this.aCards.length===0){this.aCards=jQuery.extend(true,[],this.uiModel.getProperty("/cards"));}if(!this.oLayoutVars||u){this.oLayoutVars=[];this.bSequenceLayout=true;}if(this.bSequenceLayout||this.oLayoutVars[0]&&!this.oLayoutVars[0].dashboardLayout){this._sliceSequenceSausage();this.bSequenceLayout=false;}else{this._sliceSequenceSausage(this.oLayoutVars);}this._readVariants();this._setCardsLayoutFromVariant(this.aCards,this.oLayoutVars);};
L.prototype._setCardsLayoutFromVariant=function(c,l){var o={},a={},b={},d=null;for(var i=0;i<c.length;i++){o=c[i];a=l.filter(function(e){return e.id===o.id;});if(Array.isArray(a)&&a.length>0){o.dashboardLayout={};b=a[0].dashboardLayout["C"+this.iColCount];d=this._getDefaultCardItemHeightAndCount(o);o.dashboardLayout.colSpan=b.colSpan?b.colSpan:1;o.dashboardLayout.maxColSpan=b.maxColSpan;o.dashboardLayout.rowSpan=b.rowSpan?b.rowSpan:12;o.dashboardLayout.noOfItems=b.noOfItems?b.noOfItems:d.noOfItems;o.dashboardLayout.itemHeight=d.itemHeight;o.dashboardLayout.headerHeight=d.headerHeight;o.dashboardLayout.autoSpan=b.autoSpan;o.dashboardLayout.showOnlyHeader=b.showOnlyHeader;o.dashboardLayout.column=b.col;o.dashboardLayout.row=b.row;if(a[0].hasOwnProperty("visibility")&&!a[0].visibility){o.dashboardLayout.visible=false;}else{o.dashboardLayout.visible=true;}}if(o.dashboardLayout.column>this.iColCount){this._displaceCardToEnd(o);jQuery.sap.log.warning("DashboardLayout: card ("+o.id+") in invalid column -> moved to end");}if(o.dashboardLayout.column+o.dashboardLayout.colSpan-1>this.iColCount){o.dashboardLayout.colSpan=Math.min(o.dashboardLayout.colSpan,this.iColCount);this._displaceCardToEnd(o);jQuery.sap.log.warning("DashboardLayout: card ("+o.id+") too wide -> moved to end");}}};
L.prototype._displaceCardToEnd=function(c){c.dashboardLayout.column=1;if(!this.iDisplaceRow){this.iDisplaceRow=this._findHighestOccupiedRow();}c.dashboardLayout.row=this.iDisplaceRow;this.iDisplaceRow+=c.dashboardLayout.rowSpan;var l=this.oLayoutVars.filter(function(i){return i.id===c.id;});if(Array.isArray(l)&&l.length>0){l[0].dashboardLayout["C"+this.iColCount].row=c.dashboardLayout.row;}};
L.prototype._setCardSpanFromDefault=function(c){if(!c.dashboardLayout){c.dashboardLayout={};}var o=this._getDefaultCardItemHeightAndCount(c);if(!c.settings.defaultSpan){if(c.template==='sap.ovp.cards.linklist'){c.dashboardLayout.rowSpan=1;}else{c.dashboardLayout.rowSpan=12;}c.dashboardLayout.colSpan=1;c.dashboardLayout.noOfItems=o.noOfItems;c.dashboardLayout.autoSpan=true;c.dashboardLayout.showOnlyHeader=false;c.dashboardLayout.maxColSpan=c.dashboardLayout.colSpan;}else{if(c.settings.defaultSpan.showOnlyHeader){c.dashboardLayout.rowSpan=Math.ceil((o.headerHeight+2*this.iCardBorderPx)/this.iRowHeightPx);c.dashboardLayout.noOfItems=0;c.dashboardLayout.autoSpan=false;c.dashboardLayout.showOnlyHeader=true;}else{if(c.template==='sap.ovp.cards.linklist'){c.dashboardLayout.rowSpan=c.settings.defaultSpan.rows?c.settings.defaultSpan.rows:1;c.dashboardLayout.autoSpan=false;}else{c.dashboardLayout.rowSpan=12;c.dashboardLayout.autoSpan=true;}c.dashboardLayout.noOfItems=c.settings.defaultSpan.rows?c.settings.defaultSpan.rows:o.noOfItems;c.dashboardLayout.showOnlyHeader=false;}c.dashboardLayout.colSpan=c.template==='sap.ovp.cards.stack'?1:(c.settings.defaultSpan.cols?Math.min(c.settings.defaultSpan.cols,this.iColCount):1);c.dashboardLayout.maxColSpan=c.settings.defaultSpan.cols?c.settings.defaultSpan.cols:1;}c.dashboardLayout.visible=true;c.dashboardLayout.itemHeight=o.itemHeight;c.dashboardLayout.headerHeight=o.headerHeight;};
L.prototype._sliceSequenceSausage=function(u){var i=0,j=0,c=0,a=0,m=0,o={},s=[];if(!u){this._sortCardsSausage(this.aCards);}for(i=0;i<this.iColCount;i++){s.push({col:i+1,rows:0});}for(i=0;i<this.aCards.length;i++){o=this.aCards[i];if(!o.dashboardLayout){o.dashboardLayout={};}if(!u){this._setCardSpanFromDefault(o);}else{var l=u.filter(function(g){return g.id===o.id;});if(Array.isArray(l)&&l.length>0){var b=l[0].dashboardLayout["C"+this.iColCount];if(!b){var d=Object.keys(l[0].dashboardLayout);if(d.length>0){var p=l[0].dashboardLayout[d[0]];if(!p){this._setCardSpanFromDefault(o);}else{o.dashboardLayout.rowSpan=p.rowSpan;o.dashboardLayout.colSpan=p.colSpan;o.dashboardLayout.maxColSpan=p.maxColSpan;o.dashboardLayout.noOfItems=p.noOfItems;o.dashboardLayout.autoSpan=p.autoSpan;o.dashboardLayout.showOnlyHeader=p.showOnlyHeader;}}}else{o.dashboardLayout.rowSpan=b.rowSpan;o.dashboardLayout.colSpan=b.colSpan;o.dashboardLayout.maxColSpan=b.maxColSpan;o.dashboardLayout.noOfItems=b.noOfItems;o.dashboardLayout.autoSpan=b.autoSpan;o.dashboardLayout.row=b.row;o.dashboardLayout.column=b.col;o.dashboardLayout.showOnlyHeader=b.showOnlyHeader;continue;}}else{o.dashboardLayout.row=this.iDummyRow;o.dashboardLayout.column=1;var e={};var f={row:o.dashboardLayout.row,col:o.dashboardLayout.column,rowSpan:o.dashboardLayout.rowSpan,colSpan:o.dashboardLayout.colSpan,maxColSpan:o.dashboardLayout.maxColSpan,noOfItems:o.dashboardLayout.noOfItems,autoSpan:o.dashboardLayout.autoSpan,showOnlyHeader:o.dashboardLayout.showOnlyHeader};e["C"+this.iColCount]=f;u.push({id:o.id,visibility:o.dashboardLayout.visible,selectedKey:o.settings.selectedKey,dashboardLayout:e});continue;}}o.dashboardLayout.colSpan=o.dashboardLayout.maxColSpan;o.dashboardLayout.colSpan=o.dashboardLayout.colSpan>this.iColCount?this.iColCount:o.dashboardLayout.colSpan;c=a<this.iColCount?a+1:1;if(c+o.dashboardLayout.colSpan-1>this.iColCount){o.dashboardLayout.colSpan=this.iColCount-c+1;}a=c+o.dashboardLayout.colSpan-1;o.dashboardLayout.column=c;m=0;if(Array.isArray(l)&&l.length&&!l[0].visibility){o.dashboardLayout.row=this.iDummyRow;}else{for(j=o.dashboardLayout.column;j<o.dashboardLayout.column+o.dashboardLayout.colSpan;j++){if(s[j-1].rows>m){m=s[j-1].rows;}}o.dashboardLayout.row=m+1;for(j=o.dashboardLayout.column;j<o.dashboardLayout.column+o.dashboardLayout.colSpan;j++){s[j-1].rows=m+o.dashboardLayout.rowSpan;}}}this.extractCurrentLayoutVariant();};
L.prototype._sortCardsSausage=function(c){c.sort(function(a,b){if(a.sequencePos&&b.sequencePos){if(a.sequencePos<b.sequencePos){return-1;}else if(a.sequencePos>b.sequencePos){return 1;}else{return 0;}}else if(a.sequencePos&&!b.sequencePos){return-1;}else if(!a.sequencePos&&b.sequencePos){return 1;}else{if(a.id<b.id){return-1;}else if(a.id>b.id){return 1;}else{return 0;}}});};
L.prototype._sortCardsByCol=function(c){c.sort(function(a,b){if(!a.dashboardLayout&&b.dashboardLayout){return 1;}else if(a.dashboardLayout&&!b.dashboardLayout){return-1;}if(a.dashboardLayout.column&&a.dashboardLayout.row&&a.dashboardLayout.column===b.dashboardLayout.column){if(a.dashboardLayout.row<b.dashboardLayout.row){return-1;}else if(a.dashboardLayout.row>b.dashboardLayout.row){return 1;}}else if(a.dashboardLayout.column){return a.dashboardLayout.column-b.dashboardLayout.column;}else{return 0;}});};
L.prototype._sortCardsByRow=function(c){c.sort(function(a,b){if(!a.dashboardLayout&&b.dashboardLayout){return 1;}else if(a.dashboardLayout&&!b.dashboardLayout){return-1;}if(a.dashboardLayout.column&&a.dashboardLayout.row&&a.dashboardLayout.row===b.dashboardLayout.row){if(a.dashboardLayout.column<b.dashboardLayout.column){return-1;}else if(a.dashboardLayout.column>b.dashboardLayout.column){return 1;}}else if(a.dashboardLayout.row){return a.dashboardLayout.row-b.dashboardLayout.row;}else{return 0;}});};
L.prototype.undoLastChange=function(){if(this.oUndoBuffer.layoutVariant){this.oLayoutVars=this.oUndoBuffer.layoutVariant;this.oUndoBuffer={};}};
L.prototype.resizeCard=function(c,s,m,d){this._registerChange("resize");var r=this.getCardById(c);if(!r){return[];}var a=s.colSpan-r.dashboardLayout.colSpan;var b=s.rowSpan-r.dashboardLayout.rowSpan;r.dashboardLayout.showOnlyHeader=s.showOnlyHeader;if(a===0&&b===0){return{resizeCard:r,affectedCards:[]};}else if(m&&r.dashboardLayout.autoSpan){r.dashboardLayout.autoSpan=false;}if(!m||(b&&a===0)){this._arrangeCards(r,{"row":s.rowSpan,"column":r.dashboardLayout.colSpan},'resize',d);}else{this._arrangeCards(r,{"row":s.rowSpan,"column":s.colSpan},'resize',d);}return{resizeCard:r,affectedCards:this._removeSpaceBeforeCard(d)};};
L.prototype._removeSpaceBeforeCard=function(d){this._sortCardsByRow(this.aCards);var a={};for(var i=1;i<=this.iColCount;i++){a[i]=1;}for(var j=0;j<this.aCards.length;j++){var b=this.aCards[j].dashboardLayout.column;var u=this.aCards[j].dashboardLayout.column+this.aCards[j].dashboardLayout.colSpan-1;if(this.aCards[j].dashboardLayout.visible){if(this.aCards[j].dashboardLayout.colSpan>1){var t=[];for(var k=b;k<=u;k++){t.push(a[k]);}var m=Math.max.apply(Math,t);for(var l=b;l<=u;l++){a[l]=m+this.aCards[j].dashboardLayout.rowSpan;}if(d){d.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:m,oldRow:this.aCards[j].dashboardLayout.row}},isUserDependent:true});}this.aCards[j].dashboardLayout.row=m;}else{if((this.aCards[j].dashboardLayout.row!==a[b])){if(d){d.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:a[b],oldRow:this.aCards[j].dashboardLayout.row}},isUserDependent:true});}this.aCards[j].dashboardLayout.row=a[b];}a[b]=this.aCards[j].dashboardLayout.row+this.aCards[j].dashboardLayout.rowSpan;}}}return this.aCards;};
L.prototype._arrangeCards=function(c,n,d,D){var o=jQuery.extend(true,{},c);var v=false;if('drag'===d&&c.dashboardLayout.column===n.column&&n.row!==c.dashboardLayout.row){v=true;}this._sortCardsByRow(this.aCards);var a=[];var f=false;var b;if(d==="drag"){c.dashboardLayout.row=n.row;c.dashboardLayout.column=n.column;}else if(d==="resize"){c.dashboardLayout.rowSpan=n.row;c.dashboardLayout.colSpan=n.column;}a.push(c);for(var i=0;i<a.length;i++){for(var j=0;j<this.aCards.length;j++){if(a[i].id===this.aCards[j].id||!a[i].dashboardLayout.visible){continue;}else{f=this._checkOverlapOfCards(a[i],this.aCards[j]);if(f===true){if(v){if(n.row<o.dashboardLayout.row&&n.row===this.aCards[j].dashboardLayout.row){a[i].dashboardLayout.row=this.aCards[j].dashboardLayout.row;b=this.aCards[j].dashboardLayout.row;this.aCards[j].dashboardLayout.row=a[i].dashboardLayout.row+a[i].dashboardLayout.rowSpan;if(D){D.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:this.aCards[j].dashboardLayout.row,oldRow:b}},isUserDependent:true});}}else if(n.row>o.dashboardLayout.row+this.aCards[j].dashboardLayout.rowSpan){b=this.aCards[j].dashboardLayout.row;this.aCards[j].dashboardLayout.row=o.dashboardLayout.row;a[i].dashboardLayout.row=this.aCards[j].dashboardLayout.row+this.aCards[j].dashboardLayout.rowSpan;a.push(a[i]);if(D){D.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:this.aCards[j].dashboardLayout.row,oldRow:b}},isUserDependent:true});}}else{}}else{b=this.aCards[j].dashboardLayout.row;this.aCards[j].dashboardLayout.row=a[i].dashboardLayout.row+a[i].dashboardLayout.rowSpan;a.push(this.aCards[j]);if(D){D.push({changeType:"dragOrResize",content:{cardId:this.aCards[j].id,dashboardLayout:{row:this.aCards[j].dashboardLayout.row,oldRow:b}},isUserDependent:true});}}}}}}};
L.prototype._checkOverlapOfCards=function(o,a){var b=o.dashboardLayout.row;var c=o.dashboardLayout.row+o.dashboardLayout.rowSpan;var d=o.dashboardLayout.column;var e=o.dashboardLayout.column+o.dashboardLayout.colSpan;var f=a.dashboardLayout.row;var g=a.dashboardLayout.row+a.dashboardLayout.rowSpan;var h=a.dashboardLayout.column;var i=a.dashboardLayout.column+a.dashboardLayout.colSpan;var j=false,k=false;if((h>=d&&h<e)||(i>d&&i<=e)||(h<=d&&i>=e)){j=true;}if((f>=b&&f<c)||(g>b&&g<=c)||(f<=b&&g>=c)){k=true;}return j&&k;};
L.prototype.extractCurrentLayoutVariant=function(){var i=0;var c={};var o=[];for(i=0;i<this.aCards.length;i++){c=this.aCards[i];o=this.oLayoutVars.filter(function(b){return b.id===c.id;});var d={};var a={row:c.dashboardLayout.row,col:c.dashboardLayout.column,rowSpan:c.dashboardLayout.rowSpan,colSpan:c.dashboardLayout.colSpan,maxColSpan:c.dashboardLayout.maxColSpan,noOfItems:c.dashboardLayout.noOfItems,autoSpan:c.dashboardLayout.autoSpan,showOnlyHeader:c.dashboardLayout.showOnlyHeader};d["C"+this.iColCount]=a;if(!(Array.isArray(o)&&o.length!==0)){this.oLayoutVars.push({id:c.id,visibility:c.dashboardLayout.visible,selectedKey:c.settings.selectedKey,dashboardLayout:d});}else{o[0].selectedKey=c.settings.selectedKey||o[0].selectedKey;o[0].dashboardLayout={};o[0].dashboardLayout["C"+this.iColCount]=a;}}};
L.prototype._registerChange=function(a){this.bLayoutChanged=true;this.oUndoBuffer.action=a;this.extractCurrentLayoutVariant();this.oUndoBuffer.layoutVariant=this.oLayoutVars;};
L.prototype._findHighestOccupiedRow=function(){var h=0,m=[];function f(e){return e.dashboardLayout.column===c;}function a(e,i,b){return e.dashboardLayout.row===Math.max.apply(Math,b.map(function(d){return d.dashboardLayout.row;}));}for(var c=1;c<=this.iColCount;c++){var A=this.aCards.filter(f);if(!!A){var o=A.filter(a)[0];if(!!o){m.push(+o.dashboardLayout.row+ +o.dashboardLayout.rowSpan);}}}h=Math.max.apply(Math,m.map(function(e){return e;}));return h;};
L.prototype._getDefaultCardItemHeightAndCount=function(c){var d=C._setCardpropertyDensityAttribute();var a={"List_condensed":{itemLength:5,itemHeight:64},"List_condensed_imageSupported_cozy":{itemLength:5,itemHeight:72},"List_condensed_imageSupported_compact":{itemLength:5,itemHeight:60},"List_extended":{itemLength:3,itemHeight:97},"List_condensed_bar":{itemLength:5,itemHeight:65},"List_extended_bar":{itemLength:3,itemHeight:95},"Table":{itemLength:5,itemHeight:62},"Linklist":{itemLength:6,itemHeight:0}};var h={"KPIHeader":{"1":{"1":158,"2":174},"2":{"1":179,"2":195},"3":{"1":201,"2":223}},"NormalHeader":{"1":{"1":82,"2":98},"2":{"1":103,"2":119},"3":{"1":125,"2":141}}};var S=22;var b=21;var H=0;if(c){var e=c.template,l=c.settings.listType,f=c.settings.listFlavor,i=c.settings.imageSupported,n=0,I=0;if(e=="sap.ovp.cards.list"){if(l=="extended"){if(f=="bar"){n=a["List_extended_bar"]["itemLength"];I=a["List_extended_bar"]["itemHeight"];}else{n=a["List_extended"]["itemLength"];I=a["List_extended"]["itemHeight"];}}else{if(f=="bar"){n=a["List_condensed_bar"]["itemLength"];I=a["List_condensed_bar"]["itemHeight"];}else{if(i==='true'){if(d==='cozy'){I=a["List_condensed_imageSupported_cozy"]["itemHeight"];}else{I=a["List_condensed_imageSupported_compact"]["itemHeight"];}}else{I=a["List_condensed"]["itemHeight"];}n=a["List_condensed"]["itemLength"];}}}else if(e=="sap.ovp.cards.table"){n=a["Table"]["itemLength"];I=a["Table"]["itemHeight"];}else if(e==="sap.ovp.cards.linklist"){n=a["Linklist"]["itemLength"];I=a["Linklist"]["itemHeight"];}var t=c.settings.defaultSpan&&c.settings.defaultSpan.minimumTitleRow?c.settings.defaultSpan.minimumTitleRow:1;var s=c.settings.defaultSpan&&c.settings.defaultSpan.minimumSubTitleRow?c.settings.defaultSpan.minimumSubTitleRow:1;var g=(c.settings.dataPointAnnotationPath||(c.settings.tabs&&c.settings.tabs[0].dataPointAnnotationPath))?"KPIHeader":"NormalHeader";H=h[g][t][s];if(g==="KPIHeader"){if(c.settings.showFilterInHeader===true){H+=S;}if(c.settings.showSortingInHeader===true){H+=b;}}return{noOfItems:n,itemHeight:I,headerHeight:H};}};
return L;},true);
sap.ui.predefine('sap/ovp/ui/DashboardLayoutRearrange',[],function(){"use strict";jQuery.sap.require("sap.ovp.ui.UIActions");var R=function(s){this.init(s);};
R.prototype.init=function(s){s.beforeDragCallback=this._beforeDragHandler.bind(this);s.dragStartCallback=this._dragStartHandler.bind(this);s.dragMoveCallback=this._dragMoveHandler.bind(this);s.dragEndCallback=this._dragEndHandler.bind(this);s.resizeStartCallback=this._resizeStartHandler.bind(this);s.resizeMoveCallback=this._resizeMoveHandler.bind(this);s.resizeEndCallback=this._resizeEndHandler.bind(this);s.endCallback=this._endHandler.bind(this);this.placeHolderClass=s.placeHolderClass;this.layout=s.layout;this.settings=s;this.destroy();this.uiActions=new sap.ovp.ui.UIActions(this.settings).enable();this.aCardsOrder=null;this.aCards=s.aCards;this.layoutUtil=s.layoutUtil;this.verticalMargin=null;this.horizontalMargin=null;this.top=null;this.left=null;this.width=null;this.layoutOffset=null;this.jqLayout=null;this.jqLayoutInner=null;this.isRTLEnabled=null;this.rowHeight=s.rowHeight;this.floaterData=null;this.resizeData={};this.updatedScrollTop=0;this.SCROLL_OFFSET=16;};
R.prototype.destroy=function(){if(this.uiActions){this.uiActions.disable();this.uiActions=null;}};
R.prototype._resizeStartHandler=function(e,c){if(!sap.ui.Device.system.desktop){return;}var C=this.layoutUtil.dashboardLayoutModel.getCardById(this.layoutUtil.getCardId(c.id));if(C.template==="sap.ovp.cards.stack"||C.settings.stopResizing){return;}this.layoutUtil.dragOrResizeChanges=[];this.layoutUtil.resizeStartCard={cardId:C.id,rowSpan:C.dashboardLayout.rowSpan,colSpan:C.dashboardLayout.colSpan,maxColSpan:C.dashboardLayout.maxColSpan,noOfItems:C.dashboardLayout.noOfItems,autoSpan:C.dashboardLayout.autoSpan,showOnlyHeader:C.dashboardLayout.showOnlyHeader};if(jQuery(window).getSelection){var s=jQuery(window).getSelection();s.removeAllRanges();}c.classList.add('sapOvpCardResize');C.dashboardLayout.autoSpan=false;this.initCardsSettings();};
R.prototype._resizeEndHandler=function(e,c){if(c){c.classList.remove('sapOvpCardResize');if(this.uiActions.isResizeX&&!this.uiActions.isResizeY&&c.classList.contains('sapOvpNotResizableLeftRight')){return;}this.updatedScrollTop=0;c.style.zIndex='auto';var C=this.layoutUtil.changedCards.resizeCard;if(C){C.dashboardLayout.maxColSpan=C.dashboardLayout.colSpan;this.layoutUtil._sizeCard(C);this.layoutUtil.dragOrResizeChanges.push({changeType:"dragOrResize",content:{cardId:C.id,dashboardLayout:{rowSpan:C.dashboardLayout.rowSpan,oldRowSpan:this.layoutUtil.resizeStartCard.rowSpan,colSpan:C.dashboardLayout.colSpan,oldColSpan:this.layoutUtil.resizeStartCard.colSpan,maxColSpan:C.dashboardLayout.maxColSpan,oldMaxColSpan:this.layoutUtil.resizeStartCard.maxColSpan,noOfItems:C.dashboardLayout.noOfItems,oldNoOfItems:this.layoutUtil.resizeStartCard.noOfItems,autoSpan:C.dashboardLayout.autoSpan,oldAutoSpan:this.layoutUtil.resizeStartCard.autoSpan,showOnlyHeader:C.dashboardLayout.showOnlyHeader,oldShowOnlyHeader:this.layoutUtil.resizeStartCard.showOnlyHeader}},isUserDependent:true});}this.layoutUtil.changedCards={};if(sap.ui.Device.system.desktop){jQuery("body").removeClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}jQuery(this.settings.wrapper).removeClass("dragAndDropMode");jQuery("#sapOvpOverlayDivForCursor").remove();jQuery("#ovpResizeRubberBand").remove();this.layoutUtil.getDashboardLayoutModel().extractCurrentLayoutVariant();this.layoutUtil.oLayoutCtrl.fireAfterDragEnds({positionChanges:this.layoutUtil.dragOrResizeChanges});if(jQuery(window).getSelection){var s=jQuery(window).getSelection();s.removeAllRanges();}}};
R.prototype._resizeMoveHandler=function(a){if(!sap.ui.Device.system.desktop){return;}if(a.element){var c,b,g,d,C=this.layoutUtil.dashboardLayoutModel.getCardById(this.layoutUtil.getCardId(a.element.id));if(C.template==="sap.ovp.cards.stack"||C.settings.stopResizing){return;}var v=document.getElementsByClassName("sapFDynamicPageContentWrapper")[0];var e=v.offsetHeight;var f=v.getBoundingClientRect();if((a.evt.clientY-v.offsetTop+this.SCROLL_OFFSET)>e){v.scrollTop=v.scrollTop+this.SCROLL_OFFSET;this.updatedScrollTop+=this.SCROLL_OFFSET;}else if(((a.evt.clientY-v.offsetTop)<f.top+this.SCROLL_OFFSET)&&v.scrollTop!==0){v.scrollTop=v.scrollTop-this.SCROLL_OFFSET;this.updatedScrollTop-=this.SCROLL_OFFSET;}b=this.layoutUtil.calculateCardProperties(C.id);c=this._calculateMinimumCardHeight(a,b,C.dashboardLayout.showOnlyHeader);d=c.ghostHeightCursor;g=c.ghostWidthCursor<=this.layoutUtil.getColWidthPx()?this.layoutUtil.getColWidthPx():c.ghostWidthCursor;if(!this.uiActions.isResizeY){if(a.element.classList.contains('sapOvpNotResizableLeftRight')||(a.element.classList.contains('sapOvpNotResizableRight')&&c.ghostWidthCursor>C.dashboardLayout.colSpan*this.layoutUtil.getColWidthPx())){return;}else{jQuery.sap.log.info('Not a valid scenario');}if(C.template==="sap.ovp.cards.list"&&g>this.layoutUtil.getColWidthPx()*2||(C.template==="sap.ovp.cards.linklist"&&C.settings.listFlavor==='carousel'&&(g>this.layoutUtil.getColWidthPx()*3))){return;}}if(C.template==="sap.ovp.cards.linklist"&&C.settings.listFlavor==='carousel'&&d>this.layoutUtil.getRowHeightPx()*45){a.element.classList.add('sapOvpNotResizableDown');return;}var l=b.leastHeight+2*this.layoutUtil.CARD_BORDER_PX;var m=b.minCardHeight+2*this.layoutUtil.CARD_BORDER_PX;a.element.classList.remove("sapOvpMinHeightContainer");if(d<=l){d=l;a.element.classList.add("sapOvpMinHeightContainer");this.resizeData.showOnlyHeader=true;}else if(d>l&&d<=m){var h=(l+m)/2;if(d>h){d=m;this.resizeData.showOnlyHeader=false;}else{d=l;a.element.classList.add("sapOvpMinHeightContainer");this.resizeData.showOnlyHeader=true;}}else{if(!this.uiActions.isResizeX&&(C.template==='sap.ovp.cards.list'||C.template==='sap.ovp.cards.table')){var i=b.headerHeight+b.dropDownHeight+2*this.layoutUtil.CARD_BORDER_PX;var p=Math.round((d-i)/b.itemHeight);d=p*b.itemHeight+i;}this.resizeData.showOnlyHeader=false;}this._addOverLay(c.cursor);this.resizeData.colSpan=Math.round(g/this.layoutUtil.getColWidthPx());this.resizeData.rowSpan=Math.ceil(d/this.layoutUtil.getRowHeightPx());this.layoutUtil.updateCardSize(C.id,d,g,this.resizeData.rowSpan);this.showGhostWhileResize(a,c);if(this.resizeData.colSpan&&this.resizeData.rowSpan){this.layoutUtil.resizeCard(a.element.getAttribute("id"),this.resizeData,this.layoutUtil.dragOrResizeChanges);}this.resizeData={};this.layoutUtil.setKpiNumericContentWidth(a.element);}};
R.prototype._beforeDragHandler=function(e,c){if(e.type==="mousedown"){e.preventDefault();}if(sap.ui.Device.browser.mobile){this.selectableElemets=jQuery(c).find(".sapUiSelectable");this.selectableElemets.removeClass("sapUiSelectable");}jQuery(this.settings.wrapper).addClass("dragAndDropMode");};
R.prototype._dragStartHandler=function(e,c){if(sap.ui.Device.system.desktop){jQuery("body").addClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}this.layoutUtil.dragOrResizeChanges=[];var C=this.layoutUtil.getCardId(c.id);var o=this.layoutUtil.dashboardLayoutModel.getCardById(C);this.layoutUtil.dragStartCard={cardId:o.id,row:o.dashboardLayout.row,column:o.dashboardLayout.column};jQuery.sap.log.info(c);if(jQuery(window).getSelection){var s=jQuery(window).getSelection();s.removeAllRanges();}this.initCardsSettings();var a=c.children[0].getBoundingClientRect();this.floaterData={width:a.width,height:a.height,startLeft:a.left-this.layoutOffset.left,startTop:a.top-this.layoutOffset.top};};
R.prototype._dragMoveHandler=function(a){if(a.element){var m=0;var v=document.getElementsByClassName("sapFDynamicPageContentWrapper")[0];var b=document.getElementsByClassName("sapFDynamicPageTitleWrapper")[0].offsetHeight;var u=document.getElementsByClassName("sapUshellShellHeadCenter")[0].offsetHeight;var c=v.offsetHeight;var d=v.getBoundingClientRect();var e;if(document.getElementsByClassName("sapFDynamicPageHeader")[0]){m=document.getElementsByClassName("sapFDynamicPageHeader")[0].offsetHeight;}if((a.evt.clientY-v.offsetTop+this.SCROLL_OFFSET)>c){v.scrollTop=v.scrollTop+this.SCROLL_OFFSET;e=v.scrollTop;}else if(((a.evt.clientY-v.offsetTop)<d.top+this.SCROLL_OFFSET)&&v.scrollTop!==0){v.scrollTop=v.scrollTop-this.SCROLL_OFFSET;e=v.scrollTop;}else{e=v.scrollTop;}this.floaterData.id=a.element.id;this.floaterData.left=a.clone.getBoundingClientRect().left;this.floaterData.top=a.clone.getBoundingClientRect().top+e-(b+m+u);var n={row:Math.round(this.floaterData.top/this.layoutUtil.getRowHeightPx())+1,column:Math.round(this.floaterData.left/this.layoutUtil.getColWidthPx())+1};n.row=n.row<=0?1:n.row;n.column=n.column<=1?1:n.column;var C=this.layoutUtil.dashboardLayoutModel.getCardById(this.layoutUtil.getCardId(this.floaterData.id));if(n.column+C.dashboardLayout.colSpan>this.columnCount){n.column=(this.columnCount-C.dashboardLayout.colSpan)+1;}this.floaterData.row=n.row;this.floaterData.column=n.column;jQuery.when(this.layoutUtil.dashboardLayoutModel._arrangeCards(C,this.floaterData,'drag',this.layoutUtil.dragOrResizeChanges)).done(function(){this.layoutUtil._positionCards(this.aCards);this.layoutUtil.dashboardLayoutModel._removeSpaceBeforeCard();}.bind(this));this.showGhostWhileDragMove({row:C.dashboardLayout.row,column:C.dashboardLayout.column},a);}};
R.prototype._dragEndHandler=function(e,c,a){if(c){var b=c.getBoundingClientRect();var d=a.getBoundingClientRect();var f=window.getComputedStyle(a).transform.split(",");var t=b.top-d.top;var l=b.left-d.left;var g=parseInt(f[4],10)+l;var h=parseInt(f[5],10)+t;a.style[this.layoutUtil.cssVendorTransition]='transform 0.3s cubic-bezier(0.46, 0, 0.44, 1)';g=Math.abs(g)-8<0?0:g-8;h=Math.abs(h)-8<0?0:h-8;a.style[this.layoutUtil.cssVendorTransform]='translate3d('+g+'px, '+h+'px, 0px) ';this.layoutUtil._positionCards(this.aCards);jQuery(a).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(i){jQuery("#ovpDashboardLayoutMarker").remove();this.layoutUtil.getDashboardLayoutModel().extractCurrentLayoutVariant();var C=this.layoutUtil.getCardId(c.id);var o=this.layoutUtil.dashboardLayoutModel.getCardById(C);this.layoutUtil.dragOrResizeChanges.push({changeType:"dragOrResize",content:{cardId:C,dashboardLayout:{row:o.dashboardLayout.row,oldRow:this.layoutUtil.dragStartCard.row,column:o.dashboardLayout.column,oldColumn:this.layoutUtil.dragStartCard.column}},isUserDependent:true});this.layoutUtil.oLayoutCtrl.fireAfterDragEnds({positionChanges:this.layoutUtil.dragOrResizeChanges});if(sap.ui.Device.system.desktop){jQuery("body").removeClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}jQuery(this.settings.wrapper).removeClass("dragAndDropMode");if(jQuery(window).getSelection){var s=jQuery(window).getSelection();s.removeAllRanges();}this.uiActions.removeClone();c.classList.remove(this.placeHolderClass);var j=(this.layoutUtil.dashboardLayoutModel._findHighestOccupiedRow()*this.layoutUtil.ROW_HEIGHT_PX)+32;jQuery(".sapUshellEasyScanLayoutInner").css({"height":j+"px","z-index":"1"});}.bind(this));}};
R.prototype._endHandler=function(e,c){jQuery.sap.log.info(c);if(sap.ui.Device.browser.mobile&&this.selectableElemets){this.selectableElemets.addClass("sapUiSelectable");}};
R.prototype.initCardsSettings=function(){this.jqLayout=this.layout.$();this.jqLayoutInner=this.jqLayout.children().first();var l=this.jqLayout.scrollTop();var a=this.jqLayoutInner.height();this.isRTLEnabled=sap.ui.getCore().getConfiguration().getRTL();this.aCardsOrder=[];this.layoutOffset=this.jqLayout.offset();this.corrY=this.jqLayout.get(0).getBoundingClientRect().top+this.jqLayout.scrollTop();this.corrX=this.layoutOffset.left;this.columnCount=this.layoutUtil.oLayoutData.colCount;var v=this.layout.getVisibleLayoutItems();if(!v){return;}function g(e){return e.$().parent()[0];}this.aCardsOrder=v.map(g);var j=this.jqLayoutInner.children().first();var m=this.isRTLEnabled?"margin-left":"margin-right";this.verticalMargin=parseInt(j.css(m),10);var f=this.aCardsOrder[0];var F=f.getBoundingClientRect();var J=this.jqLayoutInner[0].getBoundingClientRect();this.horizontalMargin=parseInt(jQuery(f).css("margin-bottom"),10);this.verticalMargin=this.horizontalMargin;this.top=F.top-J.top;this.left=F.left-J.left;this.width=f.offsetWidth;jQuery(this.aCardsOrder).css("position","absolute");this.drawLayout(this.aCardsOrder);this.jqLayoutInner.height(a);this.jqLayout.scrollTop(l);};
R.prototype.drawLayout=function(c){function u(d){var $=jQuery(d).position();d.style[this.layoutUtil.cssVendorTransition]='all 300ms ease';d.style[this.layoutUtil.cssVendorTransform]='translate3d('+$.left+','+$.top+', 0px) ';}var C=c.length;if(C>0){for(var i=0;i<C;i++){requestAnimationFrame(u.bind(this,c[i]));}}};
R.prototype.showGhostWhileDragMove=function(n,a){var e=document.getElementById('ovpDashboardLayoutMarker');var p={top:(n.row-1)*this.layoutUtil.getRowHeightPx()+this.layoutUtil.CARD_BORDER_PX,left:(n.column-1)*this.layoutUtil.getColWidthPx()+this.layoutUtil.CARD_BORDER_PX};if(!e){var d=document.createElement('div');d.id='ovpDashboardLayoutMarker';d.position='absolute';d.style.height=this.floaterData.height+'px';d.style.width=this.floaterData.width+'px';d.style[this.layoutUtil.cssVendorTransform]='translate3d('+(this.isRTLEnabled?-p.left:p.left)+'px,'+p.top+'px, 0px) ';document.getElementsByClassName('sapUshellEasyScanLayoutInner')[0].appendChild(d);}else{e.style[this.layoutUtil.cssVendorTransition]='all 300ms ease';e.style[this.layoutUtil.cssVendorTransform]='translate3d('+(this.isRTLEnabled?-p.left:p.left)+'px,'+p.top+'px, 0px) ';}a.element.style[this.layoutUtil.cssVendorTransition]='all 300ms ease';a.element.style[this.layoutUtil.cssVendorTransform]='translate3d('+(this.isRTLEnabled?-p.left:p.left)+'px,'+p.top+'px, 0px) ';};
R.prototype.showGhostWhileResize=function(a,c){var e=document.getElementById('ovpResizeRubberBand');var E=a.element.parentElement;var l=c.fElementPosLeft+this.layoutUtil.CARD_BORDER_PX-2;var t=c.fElementPosTop+this.layoutUtil.CARD_BORDER_PX-2;var h=this.resizeData.rowSpan*this.layoutUtil.getRowHeightPx()-2*this.layoutUtil.CARD_BORDER_PX+2;var w=this.resizeData.colSpan*this.layoutUtil.getColWidthPx()-2*this.layoutUtil.CARD_BORDER_PX+2;if(!e){var d=document.createElement('div');d.id='ovpResizeRubberBand';d.classList.add('ovpResizeRubberBand');d.position='absolute';d.style.height=h+'px';d.style.width=w+'px';d.style[this.layoutUtil.cssVendorTransition]='all 300ms ease';d.style[this.layoutUtil.cssVendorTransform]='translate3d('+(this.isRTLEnabled?-l:l)+'px, '+t+'px, 0px) ';E.appendChild(d);}else{e.style.height=h+'px';e.style.width=w+'px';}};
R.prototype._addOverLay=function(c){var e=document.getElementById('sapOvpOverlayDivForCursor');if(!e){var o=document.createElement('div');o.id='sapOvpOverlayDivForCursor';o.style.cursor=c;this.jqLayout[0].appendChild(o);}else{e.style.cursor=c;}};
R.prototype._calculateMinimumCardHeight=function(a,c,s){var $=jQuery(a.element),e=$.position().left,E=$.position().top,g,b,d;if(this.uiActions.isResizeX&&!this.uiActions.isResizeY){g=a.moveX-e-this.layoutOffset.left;b=$.outerHeight();d="ew-resize";}else if(!this.uiActions.isResizeX&&this.uiActions.isResizeY){g=$.outerWidth();b=a.moveY+this.updatedScrollTop-E-this.layoutOffset.top+2*this.layoutUtil.CARD_BORDER_PX;d="ns-resize";}else{g=a.moveX-e-this.layoutOffset.left;b=a.moveY+this.updatedScrollTop-E-this.layoutOffset.top+2*this.layoutUtil.CARD_BORDER_PX;d="nwse-resize";}return{ghostWidthCursor:g,ghostHeightCursor:b,cursor:d,fElementPosTop:E,fElementPosLeft:e};};
return R;});
sap.ui.predefine('sap/ovp/ui/DashboardLayoutUtil',["sap/ovp/ui/DashboardLayoutRearrange","sap/ovp/ui/DashboardLayoutModel",'sap/ovp/cards/CommonUtils'],function(R,D,c){"use strict";var a=function(u){this.aCards=null;this.ROW_HEIGHT_PX=16;this.MIN_COL_WIDTH_PX=320;this.CARD_BORDER_PX=8;this.EXTRA_MARGIN=8;this.oLayoutData={layoutWidthPx:1680,contentWidthPx:1600,colCount:5,colWidthPx:this.MIN_COL_WIDTH_PX,rowHeightPx:this.ROW_HEIGHT_PX,marginPx:this.convertRemToPx(3)-this.CARD_BORDER_PX};this.dashboardLayoutModel=new D(u,this.oLayoutData.colCount,this.ROW_HEIGHT_PX,this.CARD_BORDER_PX);this.layoutDomId="";this.oLayoutCtrl={};this.componentDomId="";this.lastTriggeredColWidth=0.0;this.changedCards={};this.isRTLEnabled=sap.ui.getCore().getConfiguration().getRTL();switch(true){case sap.ui.Device.browser.webkit:this.cssVendorTransition="-webkit-transition";this.cssVendorTransform="-webkit-transform";break;case sap.ui.Device.browser.msie:this.cssVendorTransition="-ms-transition";this.cssVendorTransform="-ms-transform";break;case sap.ui.Device.browser.mozilla:this.cssVendorTransition="-moz-transition";this.cssVendorTransform="-moz-transform";break;default:this.cssVendorTransition="transition";this.cssVendorTransform="transform";}};
a.prototype.setLayout=function(l){this.oLayoutCtrl=l;this.layoutDomId=l.getId();this.componentDomId=this.layoutDomId.split("--")[0];};
a.prototype.getDashboardLayoutModel=function(){return this.dashboardLayoutModel;};
a.prototype.updateCardVisibility=function(C){this.dashboardLayoutModel.updateCardVisibility(C);this.aCards=this.dashboardLayoutModel.getCards(this.oLayoutData.colCount);this.dashboardLayoutModel._removeSpaceBeforeCard();this._setCardsCssValues(this.aCards);this._positionCards(this.aCards);};
a.prototype.updateLayoutData=function(d){if(this.oLayoutData.layoutWidthPx===d){return this.oLayoutData;}var i=this.oLayoutData.marginPx,e=0,s=320,m=1024,C=this.CARD_BORDER_PX,M=this.EXTRA_MARGIN,n=d+i,b,f;this.oLayoutData.layoutWidthPx=d;if(n<=s){i=this.convertRemToPx(0.5)-C;e=sap.ui.Device.system.desktop?16:0;}else if(n<=m){i=this.convertRemToPx(1)-C;e=sap.ui.Device.system.desktop?8:0;}else{i=this.convertRemToPx(3)-C;}if(i!==this.oLayoutData.marginPx){this.oLayoutData.marginPx=i;jQuery(".sapUshellEasyScanLayout").css({"margin-left":i+"px"});}this.oLayoutData.contentWidthPx=d-i-e;this.oLayoutData.colCount=Math.floor(this.oLayoutData.contentWidthPx/this.MIN_COL_WIDTH_PX);if(this.oLayoutData.colCount===0){this.oLayoutData.colCount=1;}this.oLayoutData.colWidthPx=this.oLayoutData.contentWidthPx/this.oLayoutData.colCount;if(jQuery(".sapOvpDashboardDragAndDrop").length>0&&jQuery(".easyScanLayoutItemWrapper").length>0){b=jQuery(".sapOvpDashboardDragAndDrop")[0].offsetLeft+M;if(jQuery(".sapOvpDashboardDragAndDrop")[0].offsetLeft<40){f=b+8;}else{f=b;}}else{b=i+M;f=i+e+M;}jQuery('.sapFDynamicPageTitle').css({"margin-left":b+"px","margin-right":f+"px","visibility":"visible"});jQuery('.sapFDynamicPageHeader').css({"margin-left":b+"px","margin-right":f+"px","visibility":"visible"});return this.oLayoutData;};
a.prototype.getRearrange=function(s){var d={containerSelector:".sapUshellEasyScanLayoutInner",wrapper:".sapUshellEasyScanLayout",draggableSelector:".easyScanLayoutItemWrapper",placeHolderClass:"dashboardLayoutItemWrapper-placeHolder",cloneClass:"easyScanLayoutItemWrapperClone",moveTolerance:10,switchModeDelay:500,isTouch:!sap.ui.Device.system.desktop,debug:false,aCards:this.aCards,layoutUtil:this,rowHeight:this.oLayoutData.rowHeightPx,colWidth:this.oLayoutData.colWidthPx};return new R(jQuery.extend(d,s));};
a.prototype.resizeLayout=function(w){var b=this.oLayoutData.colCount;var t=false;if(this.oLayoutData.layoutWidthPx!==w){this.updateLayoutData(w);t=Math.abs(this.lastTriggeredColWidth-this.oLayoutData.colWidthPx)>this.convertRemToPx(0.5);this.aCards=this.dashboardLayoutModel.getCards(this.oLayoutData.colCount);for(var i=0;i<this.aCards.length;i++){var C=this.aCards[i];this.setCardCssValues(C);var e=document.getElementById(this.getCardDomId(C.id));if(e){e.style.width=C.dashboardLayout.width;e.style.height=C.dashboardLayout.height;if(b!==this.oLayoutData.colCount){e.style[this.cssVendorTransition]='all 0.25s ease';}else{e.style[this.cssVendorTransition]='';}e.style[this.cssVendorTransform]='translate3d('+C.dashboardLayout.left+' ,'+C.dashboardLayout.top+', 0px)';this.setKpiNumericContentWidth(e);}if(b!==this.oLayoutData.colCount||t){this._triggerCardResize(C);}}this.dashboardLayoutModel._removeSpaceBeforeCard();this.oLayoutCtrl.fireAfterDragEnds();if(t){this.lastTriggeredColWidth=this.oLayoutData.colWidthPx;}}};
a.prototype.getCards=function(C){if(this.aCards&&this.oLayoutData.colCount===C){return this.aCards;}this._setColCount(C);this.aCards=this.dashboardLayoutModel.getCards(C);this._setCardsCssValues(this.aCards);return this.aCards;};
a.prototype.resetToManifest=function(){this.aCards=[];this.dashboardLayoutModel.resetToManifest();};
a.prototype.getCardDomId=function(b){return this.layoutDomId+"--"+b;};
a.prototype.getCardId=function(b){var d="";if(b){d=b.split("--")[2];}return d;};
a.prototype.isCardAutoSpan=function(b){return this.dashboardLayoutModel.getCardById(b).dashboardLayout.autoSpan;};
a.prototype.setAutoCardSpanHeight=function(e,b,h){var r,l,C;if(!b&&e&&e.target.parentElement){b=e.target.parentElement.parentElement.id.split("--")[1];}var H=h;if(!H&&e){H=e.size.height;}if(this.isCardAutoSpan(b)){C=this.dashboardLayoutModel.getCardById(b);if(C.dashboardLayout.showOnlyHeader){r=Math.ceil((H+2*this.CARD_BORDER_PX)/this.getRowHeightPx());}else{r=Math.round((H+2*this.CARD_BORDER_PX)/this.getRowHeightPx());}l=this.dashboardLayoutModel.resizeCard(b,{rowSpan:r,colSpan:1},false);this._sizeCard(l.resizeCard);this._positionCards(l.affectedCards);}};
a.prototype.calculateCardProperties=function(C){var g=this._getCardController(C);var o=this.dashboardLayoutModel.getCardById(C);var i=250,h,d,l,m,H;if(g){H=g.getItemHeight(g,'ovpCardHeader');h=H===0?o.dashboardLayout.headerHeight:H;d=g.getItemHeight(g,'toolbar');if(o.template==='sap.ovp.cards.list'){l=o.dashboardLayout.itemHeight;m=h+d+l;}else if(o.template==='sap.ovp.cards.table'){l=o.dashboardLayout.itemHeight;m=h+d+2*l;}else if(o.template==='sap.ovp.cards.linklist'){if(o.settings.listFlavor==='carousel'){m=h+jQuery('.sapOvpCarouselContentHeader').outerHeight()+240+jQuery('.sapMCrslControlsBottom.sapMCrslControls').outerHeight();}else{l=g.getItemHeight(g,'ovpLinkList',true);var b=g.getView().getModel('ovpCardProperties').getProperty('/densityStyle');if(b==='cozy'){m=h+d+l+8;}else{m=h+d+l+4;}}}else if(o.template==='sap.ovp.cards.charts.analytical'){var B=g.getView().byId('bubbleText')?43:0;m=h+d+i+B+50;}else{m=h+d;}return{headerHeight:h,dropDownHeight:d,itemHeight:l,minCardHeight:m,leastHeight:h};}};
a.prototype._sizeCard=function(C){if(!C){return;}var $=document.getElementById(this.getCardDomId(C.id));C.dashboardLayout.width=C.dashboardLayout.colSpan*this.oLayoutData.colWidthPx+"px";C.dashboardLayout.height=C.dashboardLayout.rowSpan*this.oLayoutData.rowHeightPx+"px";if($){$.style.height=C.dashboardLayout.height;$.style.width=C.dashboardLayout.width;this._triggerCardResize(C);}this.dashboardLayoutModel._removeSpaceBeforeCard();var i=(this.dashboardLayoutModel._findHighestOccupiedRow()*this.ROW_HEIGHT_PX)+32;jQuery(".sapUshellEasyScanLayoutInner").css({"height":i+"px"});};
a.prototype._triggerCardResize=function(C){var b=C.dashboardLayout,d=C.id,e=this._getCardComponentDomId(d),$=document.getElementById(e),g=this._getCardController(d),f,o;try{if((b.autoSpan||!b.visible)&&g){o=g.getCardItemsBinding();f=this.calculateCardProperties(d);if(o&&f){if(C.template==='sap.ovp.cards.table'){g.addColumnInTable($,b);}}return;}}catch(h){jQuery.sap.log.warning("Card auto span failed for card "+d+" and error is  "+h.toString());}b.iRowHeightPx=this.getRowHeightPx();b.iCardBorderPx=this.CARD_BORDER_PX;try{if(g){var f=this.calculateCardProperties(d);g.resizeCard(b,f);}else{jQuery.sap.log.warning("OVP resize: no controller found for "+d);}}catch(i){jQuery.sap.log.warning("OVP resize: "+d+" catch "+i.toString());}};
a.prototype._positionCards=function(C){if(!C){return;}var p={},s=false;C.forEach(function(o){if(!o.dashboardLayout.visible){return;}p=this._mapGridToPositionPx(o.dashboardLayout);o.dashboardLayout.top=p.top;o.dashboardLayout.left=p.left;var e=document.getElementById(this.getCardDomId(o.id));if(e){e.classList.remove('sapOvpNotResizableLeftRight','sapOvpNotResizableRight','sapOvpNotResizableDown');e.style[this.cssVendorTransition]='all 0.25s ease';e.style[this.cssVendorTransform]='translate3d('+p.left+' ,'+p.top+', 0px)';s=o.dashboardLayout.column+o.dashboardLayout.colSpan===this.oLayoutData.colCount+1;if(s){if(o.dashboardLayout.colSpan===1){e.classList.add('sapOvpNotResizableLeftRight');}else{e.classList.add('sapOvpNotResizableRight');}}if((o.template==="sap.ovp.cards.list"&&o.dashboardLayout.colSpan===2)||(o.template==="sap.ovp.cards.linklist"&&o.settings.listFlavor==='carousel'&&o.dashboardLayout.colSpan===3)){e.classList.add('sapOvpNotResizableRight');}if(o.template==="sap.ovp.cards.linklist"&&o.settings.listFlavor==='carousel'&&o.dashboardLayout.rowSpan===45){e.classList.add('sapOvpNotResizableDown');}}}.bind(this));};
a.prototype.updateCardSize=function(C,g,b){var o=this.dashboardLayoutModel.getCardById(C);var d=this._getCardController(C);var $=document.getElementById(this.getCardDomId(C));$.style.height=g+'px';$.style.width=b+'px';$.style[this.cssVendorTransition]='none';$.style.zIndex=10;if(o.template==='sap.ovp.cards.linklist'&&o.settings.listFlavor==='carousel'){d.getView().byId('pictureCarousel').$().css('height',g-(o.dashboardLayout.headerHeight+2*this.CARD_BORDER_PX)+'px');}};
a.prototype.resizeCard=function(b,s,d){this.changedCards=this.dashboardLayoutModel.resizeCard(this.getCardId(b),s,true,d);this._positionCards(this.changedCards.affectedCards);};
a.prototype._mapGridToPositionPx=function(g){var l=(g.column-1)*this.getColWidthPx();var p={top:(g.row-1)*this.getRowHeightPx()+"px",left:this.isRTLEnabled?-l:l+"px"};return p;};
a.prototype._getCardComponentDomId=function(b){return this.componentDomId+"--"+b;};
a.prototype._getCardController=function(b){var C=null;var o=sap.ui.getCore().byId(this._getCardComponentDomId(b));if(o){var d=o.getComponentInstance();if(d){C=d.getAggregation("rootControl").getController();}}return C;};
a.prototype._setCardsCssValues=function(C){var i=0;for(i=0;i<C.length;i++){this.setCardCssValues(C[i]);}};
a.prototype.setCardCssValues=function(C){var l=(C.dashboardLayout.column-1)*this.oLayoutData.colWidthPx;C.dashboardLayout.top=((C.dashboardLayout.row-1)*this.oLayoutData.rowHeightPx)+"px";C.dashboardLayout.width=(C.dashboardLayout.colSpan*this.oLayoutData.colWidthPx)+"px";C.dashboardLayout.height=(C.dashboardLayout.rowSpan*this.oLayoutData.rowHeightPx)+"px";C.dashboardLayout.left=(this.isRTLEnabled?-l:l)+"px";};
a.prototype.convertRemToPx=function(v){var b=v;if(typeof v==="string"||v instanceof String){b=v.length>0?parseInt(v.split("rem")[0],10):0;}return b*c.getPixelPerRem();};
a.prototype.convertPxToRem=function(v){var b=v;if(typeof v==="string"||v instanceof String){b=v.length>0?parseFloat(v.split("px")[0],10):0;}return b/c.getPixelPerRem();};
a.prototype.setKpiNumericContentWidth=function($){var o=$.getElementsByClassName("sapOvpKpiContent");if(!!o&&o.length>0){var b=o[0];var C=8;var p=16;b.style.width=(this.getColWidthPx()-(2*C+2*p))+"px";}};
a.prototype.getLayoutWidthPx=function(){return this.oLayoutData.colCount*this.oLayoutData.colWidthPx;};
a.prototype.getColWidthPx=function(){return this.oLayoutData.colWidthPx;};
a.prototype.getRowHeightPx=function(){return this.oLayoutData.rowHeightPx;};
a.prototype._setColCount=function(C){this.oLayoutData.colCount=C;};
return a;},true);
sap.ui.predefine('sap/ovp/ui/OVPNumericContent',["sap/m/NumericContent"],function(N){"use strict";return N.extend("sap.ovp.ui.OVPNumericContent",{renderer:{_renderScaleAndIndicator:function(r,c,i,a,w,t,b){if(i||a){var s=c.getState();var C=c.getValueColor();r.write("<div");r.addClass("sapMNCIndScale");r.addClass(c.aCustomStyleClasses.join(' '));r.addClass(w);r.addClass(s);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-indicator");r.addClass("sapMNCIndicator");r.addClass(t);r.addClass(s);r.addClass(C);r.writeClasses();r.write("/>");if(a){r.write("<div");r.writeAttribute("id",c.getId()+"-scale");r.addClass("sapMNCScale");r.addClass(s);r.addClass(C);r.writeClasses();r.write(">");r.writeEscaped(b);r.write("</div>");}r.write("</div>");}}}})});
sap.ui.predefine('sap/ovp/ui/ObjectStreamRenderer',['jquery.sap.global'],function(q){"use strict";var O={};
O.render=function(r,c){if(!c.getVisible()){return;}r.write("<div");r.writeControlData(c);r.writeAccessibilityState(undefined,{role:"dialog"});r.writeAccessibilityState(c,{label:c.getTitle()});r.addClass("sapOvpObjectStream");r.writeClasses();r.write(">");r.write("<div");r.writeClasses();r.write(">");var t=c.getTitle();if(t){r.renderControl(t);}r.write("</div>");r.write('<div tabindex="0" ');r.addClass("sapOvpObjectStreamClose");r.writeAccessibilityState(undefined,{role:"button"});r.writeAccessibilityState(c,{label:"close"});r.writeClasses();r.write(">");r.renderControl(c._closeIcon);r.write("</div>");r.write('<div id="'+c.getId()+'-cont" class="sapOvpObjectStreamCont"');r.write(">");r.write('<div id="'+c.getId()+'-scroll"');r.writeAccessibilityState(undefined,{role:"list"});r.addClass("sapOvpObjectStreamScroll");r.writeClasses();r.write(">");var C=c.getContent();var p=c.getPlaceHolder();C.forEach(function(a,i){r.write("<div class='sapOvpObjectStreamItem' ");if(i==0){r.write("tabindex='0' ");}else{r.write("tabindex='-1' ");}r.writeAccessibilityState(undefined,{role:"listitem"});r.write("aria-label = ' '");if(p){r.write("aria-setsize = "+(C.length+1)+" aria-posinset = "+(i+1));}else{r.write("aria-setsize = "+(C.length)+" aria-posinset = "+(i+1));}r.write(">");r.renderControl(a);r.write("</div>");});if(p){r.write("<div class='sapOvpObjectStreamItem' ");if(!C.length){r.write("tabindex='0'");}else{r.write("tabindex='-1'");}r.writeAccessibilityState(undefined,{role:"listitem"});r.write("aria-setsize = "+(C.length+1)+" aria-posinset = "+(C.length+1));r.write(">");r.renderControl(p);r.write("</div>");}r.write("</div>");r.write('<div id="'+c.getId()+'-leftedge" class="sapOvpOSEdgeLeft">');r.renderControl(new sap.ui.core.Icon({src:"sap-icon://slim-arrow-left",useIconTooltip:false}));r.write('</div>');r.write('<div id="'+c.getId()+'-rightedge" class="sapOvpOSEdgeRight">');r.renderControl(new sap.ui.core.Icon({src:"sap-icon://slim-arrow-right",useIconTooltip:false}));r.write('</div>');r.write("</div>");r.write("</div>");};
O.renderFooterContent=function(r,c){};
return O;},true);
/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.predefine('sap/ovp/cards/AppSettingsUtils',['jquery.sap.global',"sap/m/Dialog","sap/m/Button"],function(q,D,B){"use strict";var a={dialogBox:undefined,oSaveButton:undefined,oResetButton:undefined,oOvpResourceBundle:sap.ui.getCore().getLibraryResourceBundle("sap.ovp"),getDialogBox:function(c){return new Promise(function(r,b){var o,A,d,e;if(!this.dialogBox){this.oSaveButton=new B({text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("save"),type:"Emphasized"});var C=new B({text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("cancelBtn")});this.oResetButton=new B({text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("resetButton")});this.dialogBox=new D({title:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("settingsDialogTitle"),buttons:[this.oSaveButton,C,this.oResetButton],afterClose:function(f){this.dialogBox.destroyContent();}.bind(this)});this.dialogBox.addStyleClass("sapOvpSettingsDialogBox");this.dialogBox.setBusyIndicatorDelay(0);C.attachPress(function(f){this.dialogBox.close();}.bind(this));}if(c.getParent()){o=c.getParent().getModel("ui").getData();A=q.extend(true,{},o);var m=c.getModel(A.globalFilterModel),M=m.getMetaModel(),E=M.getODataEntityContainer().entitySet;A["allEntityTypes"]=[];for(var i=0;E&&i<E.length;i++){var s=E[i].entityType;A["allEntityTypes"].push({name:M.getODataEntityType(s).name});}if(A.globalFilterEntityType){A.showGlobalFilters=true;}else{A.showGlobalFilters=false;}if(!A.containerLayout){A.containerLayout="fixed";}e=new sap.ui.model.json.JSONModel(A);d=new sap.ui.view("appSettingsView",{viewName:"sap.ovp.cards.rta.AppSettingsDialog",type:sap.ui.core.mvc.ViewType.XML});d.setModel(e);var O=this.oOvpResourceBundle?new sap.ui.model.resource.ResourceModel({bundleUrl:this.oOvpResourceBundle.oUrlInfo.url}):null;d.setModel(O,"ovpResourceModel");this.dialogBox.addContent(d);d.loaded().then(function(v){r(this.dialogBox);}.bind(this));}}.bind(this));}};return a;},true);
sap.ui.predefine('sap/ovp/cards/OVPCardAsAPIUtils',[],function(){"use strict";var s=["sap.ovp.cards.list","sap.ovp.cards.table","sap.ovp.cards.stack","sap.ovp.cards.linklist","sap.ovp.cards.charts.analytical","sap.ovp.cards.charts.bubble","sap.ovp.cards.charts.donut","sap.ovp.cards.charts.line"];
function g(){return s;}
function e(m,b,E){var d={};d.message=m;if(E){d._oError=E;d.getActualError=function(){return d._oError;};}jQuery.sap.log.error(d.message);b(d);}
function c(C){var b=false;var O=C.getOwnerComponent();if(!!O){var d=O.getComponentData();if(!!d&&d.ovpCardsAsApi){b=true;}}return b;}
function r(C,b){var m=b.manifest;var d;for(var f in m.cards){d=f;}var h=m.cards[d];if(h.template==="sap.ovp.cards.charts.analytical"){h.settings.chartAnnotationPath=C.chartAnnotationPath;h.settings.navigation=C.navigation;}h.settings.annotationPath=C.annotationPath;h.settings.dynamicSubtitleAnnotationPath=C.dynamicSubtitleAnnotationPath;h.settings.presentationAnnotationPath=C.presentationAnnotationPath;h.settings.selectionAnnotationPath=C.selectionAnnotationPath;h.settings.selectionPresentationAnnotationPath=C.selectionPresentationAnnotationPath;h.settings.kpiAnnotationPath=C.kpiAnnotationPath;h.settings.dataPointAnnotationPath=C.dataPointAnnotationPath;h.settings.identificationAnnotationPath=C.identificationAnnotationPath;h.settings.headerAnnotationPath=C.headerAnnotationPath;h.settings.selectedKey=C.selectedKey;if(h){m.cards[d]=h;a(b.parentView,m,b.containerId,b.selectionVariant);}}
function _(C,S){var f=[],p=[],i,j;var b=S.getSelectOptionsPropertyNames();for(i=0;i<b.length;i++){var d=S.getSelectOption(b[i]);if(d&&d.length>0){for(j=0;j<d.length;j++){if(d[j]){var F={path:b[i],operator:d[j].Option,value1:d[j].Low,sign:d[j].Sign};if(d[j].High){F.value2=d[j].High;}f.push(F);}}}}var P=S.getParameterNames();for(i=0;i<P.length;i++){var h={path:P[i],value:S.getParameter(P[i])};p.push(h);}C.settings.filters=f;C.settings.parameters=p;return C;}
function a(v,m,C,S){return new Promise(function(b,d){var f,h,M="";if(!!m){for(var i in m.cards){if(m.cards.hasOwnProperty(i)){f=m.cards[i];h=i;}}if(!!f&&!!h){if(!!f.template&&!!f.model&&!!f.settings){if(s.indexOf(f.template)!==-1){if(!!C&&typeof C==='string'){if(!!v){var j=v.getModel(f.model);var k=j.getMetaModel().loaded();k.then(function(){var I=false;if(S){f=_(f,S);I=true;}f.settings.ignoreSelectionVariant=I;var l={async:true,name:f.template,componentData:{model:j,ovpCardsAsApi:true,parentView:v,manifest:m,containerId:C,selectionVariant:S,showDateInRelativeFormat:m.showDateInRelativeFormat,disableTableCardFlexibility:m.disableTableCardFlexibility,template:f.template,i18n:null,cardId:h,settings:f.settings,appComponent:null,mainComponent:null}};sap.ui.component(l).then(function(n){var p=v.byId(C);if(!!p){var O=p.getComponentInstance();n.setModel(j);p.setComponent(n);if(O){setTimeout(function(){O.destroy();},0);}b(true);}else{M="Component Container '"+C+"' is not present in the current View";e(M,d);}},function(E){M="Component creation failed";e(M,d,E);});},function(E){M="MetaModel was not loaded";e(M,d,E);});}else{M="First argument oView is null";e(M,d);}}else{M="ContainerId should be of type string and not null";e(M,d);}}else{M=f.template+" card type is not supported in the API";e(M,d);}}else{M="Cards template or model or settings are not defined";e(M,d);}}else{M="Cards manifest entry or cardId is null";e(M,d);}}else{M="Second argument oManifest is null";e(M,d);}});}
var o={createCardComponent:a,recreateCard:r,checkIfAPIIsUsed:c,getSupportedCardTypes:g};return o;},true);
sap.ui.predefine('sap/ovp/cards/PayLoadUtils',['jquery.sap.global','sap/ovp/cards/rta/SettingsDialogConstants'],function(q,S){"use strict";
function g(i,j,k,D){return i+"_sap.ovp.cards."+j+"."+k+"."+D;}
function c(V){return{"type":"XTIT","maxLength":40,"value":{"":V,"en":V}};}
function a(i,I,j){var k=i+"["+I+"]";if(j){k+="/"+j;}return k;}
function s(j,M){var k=M._getCardsModel();for(var i=0;i<k.length;i++){if(k[i].id===j){return true;}}return false;}
function b(i,j,k){var E={"propertyPath":i,"operation":j};if(k){E["propertyValue"]=k;}return E;}
function f(j){delete j.id;delete j.settings.baseUrl;delete j.settings.cloneCard;if(j.settings["staticContent"]){for(var i=0;i<j.settings["staticContent"].length;i++){delete j.settings["staticContent"][i].id;}}}
function d(i,O,N){if(N==="customer.settings"&&O){P.aEntityPropertyChange.push(b("vendor.settings","UPSERT",O.settings));i["vendor.settings"]=O.settings;}}
function e(N,i,O,j){if(O){if(N==="customer.settings"){O[j]={operation:"DELETE"};}}else{if(N==="customer.settings"){P.aEntityPropertyChange.push(b(i,"UPSERT",{operation:"DELETE"}));}else{P.aEntityPropertyChange.push(b(i,"DELETE"));}}}
function h(i){P.aEntityPropertyChange.push(b("customer.settings","UPSERT",i["customer.settings"]));}
function l(i,j,k,V,O){var I=g(P.sApplicationId,P.sCardId,i,k),D=j+"/"+k;if(!P.oText){P.oText={};}P.oText[I]=c(V);if(O){O[k]="{{"+I+"}}";}else{P.aEntityPropertyChange.push(b(D,"UPSERT","{{"+I+"}}"));}}
function m(N,j,T,O){var k=this._oCardManifestSettings,D=this._oOriginalCardManifestSettings;for(var i=0;i<T.length;i++){if((!D[T[i]]&&k[T[i]])||(D[T[i]]&&k[T[i]]&&(D[T[i]]!=k[T[i]]))){if(O){l(N,N,T[i],k[T[i]],j[N]);}else{l(N,N,T[i],k[T[i]]);}j.settings[T[i]]=k[T[i]];}else if(!k[T[i]]&&D[T[i]]){if(O){e(N,N+"/"+T[i],j[N],T[i]);}else{e(N,N+"/"+T[i]);}delete j.settings[T[i]];}}}
function n(i,j,V,O){var k=i+"/"+j;if(O){O[j]=V;}else{P.aEntityPropertyChange.push(b(k,"UPSERT",V));}}
function o(N,j,k,O){var D=this._oCardManifestSettings,E=this._oOriginalCardManifestSettings;for(var i=0;i<k.length;i++){if((!E[k[i]]&&D[k[i]])||(E[k[i]]&&D[k[i]]&&(E[k[i]]!=D[k[i]]))){if(O){n(N,k[i],D[k[i]],j[N]);}else{n(N,k[i],D[k[i]]);}j.settings[k[i]]=D[k[i]];}else if(!D[k[i]]&&E[k[i]]){if(O){e(N,N+"/"+k[i],j[N],k[i]);}else{e(N,N+"/"+k[i]);}delete j.settings[k[i]];}}}
function p(N,i){var j=S.cardSettings["settings"],T=S.cardSettings["text"];if(N==="customer.settings"){if(i["customer.settings"]){m.bind(this)(N,i,T,false);o.bind(this)(N,i,j,false);}else{i["customer.settings"]={};m.bind(this)(N,i,T,true);o.bind(this)(N,i,j,true);h(i);}}else{m.bind(this)(N,i,T,false);o.bind(this)(N,i,j,false);}}
function r(N,k,D,T,E,O){var F=this._oCardManifestSettings[E];for(var i=0;i<F.length;i++){for(var j=0;j<T.length;j++){if(F[i][T[j]]){var G=a(N+"/"+E,i),I=N+"."+E+"."+i;if(O){l(I,G,T[j],F[i][T[j]],k[N][E][i]);}else{l(I,G,T[j],F[i][T[j]],D[i]);}}}}if(!O){n(N,E,D);}}
function t(j,T){var O=S.cardSettingsArrayLevel[T]["onlyTabLevelProps"],F=false;for(var i=0;O&&i<O.length;i++){if(O[i]===j){F=true;break;}}return F;}
function u(N,j,T,k,D,O){var E=this._oCardManifestSettings,i;for(i=0;i<T.length;i++){if(E[T[i]]&&!t(T[i],D)){if(O){l(N,N,T[i],E[T[i]],j[N]);}else{l(N,N,T[i],E[T[i]]);}j.settings[T[i]]=E[T[i]];}}for(i=0;i<k.length;i++){if(E[k[i]]&&!t(k[i],D)){if(O){n(N,k[i],E[k[i]],j[N]);}else{n(N,k[i],E[k[i]]);}j.settings[k[i]]=E[k[i]];}}if(O){e(N,N+"/"+D,j[N],D);}else{e(N,N+"/"+D);}delete j.settings[D];}
function v(N,j,k,T,D,E,O){var i;for(i=0;i<T.length;i++){if(j[N][T[i]]){if(O){e(N,N+"/"+T[i],j[N],T[i]);}else{e(N,N+"/"+T[i]);}delete j.settings[T[i]];}}for(i=0;i<D.length;i++){if(j[N][D[i]]){if(O){e(N,N+"/"+D[i],j[N],D[i]);}else{e(N,N+"/"+D[i]);}delete j.settings[D[i]];}}r.bind(this)(N,j,k,T,E,O);}
function w(j,T){return q.map(q.extend(true,{},j),function(k){var D=S.cardSettingsArrayLevel[T]["text"],i,E=S.cardSettingsArrayLevel[T]["settings"],F={};for(i=0;i<D.length;i++){if(k[D[i]]){F[D[i]]=k[D[i]];}}for(i=0;i<E.length;i++){if(k[E[i]]){F[E[i]]=k[E[i]];}}return F;});}
function x(N,i,j,k,T,O){var D=S.cardSettingsArrayLevel[T]["text"],E=S.cardSettingsArrayLevel[T]["settings"],F=w(j,T);if(j&&k){i.settings[T]=w(j,T);if(N==="customer.settings"){i[N][T]=w(j,T);}r.bind(this)(N,i,F,D,T,O);}else if(!j&&k){u.bind(this)(N,i,D,E,T,O);}else if(j&&!k){i.settings[T]=w(j,T);if(N==="customer.settings"){i[N][T]=w(j,T);}v.bind(this)(N,i,F,D,E,T,O);}}
function y(N,i,O){var j=this._oCardManifestSettings["staticContent"],k=this._oOriginalCardManifestSettings["staticContent"],T=this._oCardManifestSettings["tabs"],D=this._oOriginalCardManifestSettings["tabs"];if(j||k){x.bind(this)(N,i,j,k,"staticContent",O);}else if(T||D){x.bind(this)(N,i,T,D,"tabs",O);}}
function z(N,i){var j=S.cardSettingsForComplex["settings"],T=S.cardSettingsForComplex["text"];if(N==="customer.settings"){if(i["customer.settings"]){m.bind(this)(N,i,T,false);o.bind(this)(N,i,j,false);y.bind(this)(N,i,false);}else{i["customer.settings"]={};m.bind(this)(N,i,T,true);o.bind(this)(N,i,j,true);y.bind(this)(N,i,true);h(i);}}else{m.bind(this)(N,i,T,false);o.bind(this)(N,i,j,false);y.bind(this)(N,i,false);}}
function A(N,i){var j=this._oCardManifestSettings["staticContent"],O=this._oOriginalCardManifestSettings["staticContent"],T=this._oCardManifestSettings["tabs"],k=this._oOriginalCardManifestSettings["tabs"];if(j||O||T||k){z.bind(this)(N,i);}else{p.bind(this)(N,i);}}
function B(D,E,F){var T,i,j,k,G,H=F.settings["staticContent"],I=F.settings["tabs"];var J=S.cardSettingsWithText;for(i=0;i<J.length;i++){var K;if(typeof J[i]=="string"){if(F.settings[J[i]]){if(!T){T={};}K=g(D,E,"settings",J[i]);T[K]=c(F.settings[J[i]]);F.settings[J[i]]="{{"+K+"}}";}}else if(typeof J[i]=="object"){if(J[i].hasOwnProperty("staticContent")){if(H){for(j=0;j<H.length;j++){for(k=0;k<J[i]["staticContent"].length;k++){G=J[i]["staticContent"][k];if(H[j][G]){if(!T){T={};}K=g(D,E,"settings.staticContent."+j,G);T[K]=c(H[j][G]);F.settings["staticContent"][j][G]="{{"+K+"}}";}}}}}else if(J[i].hasOwnProperty("tabs")){if(I){for(j=0;j<I.length;j++){for(k=0;k<J[i]["tabs"].length;k++){G=J[i]["tabs"][k];if(I[j][G]){if(!T){T={};}K=g(D,E,"settings.tabs."+j,G);T[K]=c(I[j][G]);F.settings["tabs"][j][G]="{{"+K+"}}";}}}}}}}return T;}
function C(i,T,F){var j={};j['appDescriptorChange']={'parameters':i};if(T){j['appDescriptorChange']['texts']=T;}j['flexibilityChange']=F;return j;}
var P={sApplicationId:"",sCardId:"",aEntityPropertyChange:[],oText:undefined,getPayLoadForEditCard:function(i){var j=i.oAppDescriptor.id,k={"cardId":j},T,E,D=q.extend(true,{},i.oAppDescriptor),N;N=(j.lastIndexOf("customer.",0)===0)?"settings":"customer.settings";P.sApplicationId=i.sApplicationId;P.sCardId=j;P.aEntityPropertyChange=[];P.oText=undefined;d(D,i.oOriginalAppDescriptor,N);A.bind(this)(N,D);T=q.extend(true,{},P.oText);E=P.aEntityPropertyChange;if(E.length===1){k["entityPropertyChange"]=E[0];}else{k["entityPropertyChange"]=E;}return C(k,T,D);},getPayLoadForCloneCard:function(j){return new Promise(function(k,D){var E={card:{}},T,F={},G=j.getComponentInstance().getComponentData(),M=G.mainComponent,H=M._getApplicationId(),I=q.extend(true,{},M._getCardFromManifest(G.cardId));var J="customer."+I.id,i=1;while(s(J+"_"+i,M)){i++;}J=J+"_"+i;f(I);F=q.extend(true,{},I);F.id=J;F.settings.title=F.settings.title+" "+i;I.settings.title=I.settings.title+" "+i;T=B(H,J,I);E.card[J]=I;k(C(E,T,F));});}};return P;},true);
sap.ui.predefine('sap/ovp/cards/PersonalizationUtils',['jquery.sap.global',],function(q){"use strict";
function a(C,f){f.every(function(o){if(o.id===C.cardId){o.selectedKey=C.selectedKey;return false;}return true;});return f;}
function b(C,f){f.every(function(o){if(o.id===C.cardId){o.visibility=C.visibility;return false;}return true;});return f;}
function c(C,f){var i=[];var v,t;v=f.filter(function(o){return o.visibility;});f.forEach(function(o,I){if(!o.visibility){i.push({card:o,index:I});}});if(!v[C.oldPosition]||!v[C.position]){return f;}t=v[C.oldPosition];v[C.oldPosition]=v[C.position];v[C.position]=t;i.forEach(function(I){v.splice(I.index,0,I.card);});f=v;return f;}
function d(C,f){f.every(function(o){if(o.id===C.cardId){Object.keys(C.dashboardLayout).forEach(function(k){if(!o.dashboardLayout[k]){o.dashboardLayout[k]={};}if(C.dashboardLayout[k].rowSpan){o.dashboardLayout[k].rowSpan=C.dashboardLayout[k].rowSpan;}if(C.dashboardLayout[k].colSpan){o.dashboardLayout[k].colSpan=C.dashboardLayout[k].colSpan;}if(C.dashboardLayout[k].maxColSpan){o.dashboardLayout[k].maxColSpan=C.dashboardLayout[k].maxColSpan;}if(C.dashboardLayout[k].noOfItems){o.dashboardLayout[k].noOfItems=C.dashboardLayout[k].noOfItems;}if(C.dashboardLayout[k].hasOwnProperty('autoSpan')){o.dashboardLayout[k].autoSpan=C.dashboardLayout[k].autoSpan;}if(C.dashboardLayout[k].row){o.dashboardLayout[k].row=C.dashboardLayout[k].row;}if(C.dashboardLayout[k].column){o.dashboardLayout[k].col=C.dashboardLayout[k].column;}if(C.dashboardLayout[k].hasOwnProperty('showOnlyHeader')){o.dashboardLayout[k].showOnlyHeader=C.dashboardLayout[k].showOnlyHeader;}});return false;}return true;});return f;}
function m(C,D){if(!Array.isArray(D)||!C){return C;}var M=[];C.forEach(function(o){var f={};Object.keys(o).forEach(function(k){f[k]=o[k];}.bind(this));M.push(f);});D.forEach(function(o){switch(o.getChangeType()){case"viewSwitch":M=a(o.getContent(),M);break;case"visibility":M=b(o.getContent(),M);break;case"position":M=c(o.getContent(),M);break;case"dragOrResize":M=d(o.getContent(),M);break;default:break;}});return M;}
function e(M,D){var f=M.filter(function(o){var h=false;D.forEach(function(g){if(o.id===g.id){h=true;return;}});return!h;});return D.concat(f);}
var p={mergeChanges:m,addMissingCardsFromManifest:e};return p;},true);
sap.ui.predefine('sap/ovp/cards/SettingsUtils',['jquery.sap.global',"sap/m/Dialog","sap/m/ToolbarSpacer","sap/m/Button",'sap/ovp/cards/PayLoadUtils','sap/ovp/cards/OVPCardAsAPIUtils','sap/ovp/cards/rta/SettingsDialogConstants','sap/ui/Device','sap/m/MessagePopover','sap/m/MessagePopoverItem','sap/m/Link'],function(q,D,T,B,P,O,S,a,M,b,L){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");
function c(C,V){var i=C.getComponentInstance(),E=i.getComponentData(),F=E.appComponent,G=E.cardId,H=G+'Dialog',I=E.modelName,J=F.getModel(I),K=V.getModel().getData(),N={cards:{}};N.cards[H]={model:I,template:K.template,settings:K};if(!I&&K.staticContent){I="DialogCardDataModel";N.cards[H].model=I;}V.setModel(J,I);V.getController()._oManifest=N;O.createCardComponent(V,N,'dialogCard');}
function g(i){if(i.indexOf('#')!==-1){return i.split('#')[1];}else{return"Default";}}
function d(E,K){var i;if(K.indexOf(",")!==-1){K=K.split(",")[0];}if(K.indexOf(".Identification")!==-1){if(E[K]){var R=sap.ovp.cards.AnnotationHelper.sortCollectionByImportance(E[K]);for(var C=0;C<R.length;C++){var I=R[C];if(I.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(I&&I["Label"]){return I["Label"].String;}else{return I["SemanticObject"].String+"-"+I["Action"].String;}}if(I.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(I&&I["Label"]){return I["Label"].String;}else{return I["Url"].String;}}}}return"No Navigation";}else if(K.indexOf(".HeaderInfo")!==-1){i=g(K);if(E[K]&&E[K]["Description"]&&E[K]["Description"].Label){return E[K]["Description"].Label.String;}else{return i;}}else{var F="";i=g(K);if(i!=="Default"){F="#"+i;}var G="com.sap.vocabularies.Common.v1.Label"+F;if(E[K]&&E[K][G]){return E[K][G].String;}else{return i;}}}
function e(i,C){switch(C){case"cardPreview":return(O.getSupportedCardTypes().indexOf(i)!==-1);case"listType":case"listFlavor":var E=["sap.ovp.cards.list"];return(E.indexOf(i)!==-1);case"listFlavorForLinkList":var F=["sap.ovp.cards.linklist"];return(F.indexOf(i)!==-1);case"isViewSwitchSupportedCard":case"kpiHeader":var G=["sap.ovp.cards.list","sap.ovp.cards.table","sap.ovp.cards.charts.analytical","sap.ovp.cards.charts.bubble","sap.ovp.cards.charts.donut","sap.ovp.cards.charts.line"];return(G.indexOf(i)!==-1);case"chart":var H=["sap.ovp.cards.charts.analytical","sap.ovp.cards.charts.bubble","sap.ovp.cards.charts.donut","sap.ovp.cards.charts.line"];return(H.indexOf(i)!==-1);case"sortOrder":case"sortBy":case"lineItem":var I=["sap.ovp.cards.list","sap.ovp.cards.table"];return(I.indexOf(i)!==-1);case"identification":var J=["sap.ovp.cards.stack"];return(J.indexOf(i)!==-1);default:break;}}
function f(C,E,i,I){var F=true;var G=true;if(i){if(C.mainViewSelected){G=false;}else{F=false;}}switch(E){case"cardPreview":return e(C.template,"cardPreview");case"title":return F;case"dynamicSwitchSubTitle":return F&&!!C.dynamicSubTitle;case"dynamicSwitchStateSubTitle":return!!C.dynamicSubtitleAnnotationPath;case"subTitle":if(!C.subTitle){C.subTitle=' ';return true;}else{return F&&!C.dynamicSubtitleAnnotationPath;}break;case"dynamicSubTitle":return G&&!!C.dynamicSubtitleAnnotationPath;case"valueSelectionInfo":if(!C.valueSelectionInfo){C.valueSelectionInfo=' ';}return F&&(e(C.template,"kpiHeader")&&!!C.dataPointAnnotationPath);case"dataPoint":return G&&(e(C.template,"kpiHeader")&&!!C.dataPointAnnotationPath);case"listType":case"listFlavor":case"listFlavorForLinkList":return F&&e(C.template,E);case"sortOrder":return F&&(!C.staticContent)&&e(C.template,E)&&!!C.sortBy;case"sortBy":return F&&(!C.staticContent)&&e(C.template,E);case"identification":return G&&(!C.staticContent)&&!e(C.template,E);case"presentationVariant":case"selectionVariant":return G&&(!C.staticContent)&&e(C.template,"kpiHeader");case"kpiHeader":return F&&e(C.template,E);case"lineItem":case"chart":return G&&e(C.template,E);case"showViewName":return i&&G;case"showDefaultView":if(i&&G){if(C.defaultViewSelected!=C.selectedKey){return true;}}return false;case"showMore":case"removeVisual":case"lineItemSubTitle":case"lineItemTitle":case"staticLink":case"links":var H=(C.template==="sap.ovp.cards.linklist"&&!!C.staticContent);if(E==="staticLink"){return(H&&!!C.staticContent[I].targetUri);}else if(E==="links"){return(H&&!!C.staticContent[I].semanticObject);}else if(E==="removeVisual"){return(H&&(!!C.staticContent[I].targetUri||!!C.staticContent[I].semanticObject));}else{return H;}break;default:break;}}
function s(C){var i=false;this.oVisibility.viewSwitchEnabled=false;this.oVisibility.showViewSwitch=false;if(e(C.template,'isViewSwitchSupportedCard')){if(C.tabs&&C.tabs.length){i=true;this.oVisibility.showViewSwitch=true;}this.oVisibility.viewSwitchEnabled=true;}this.oVisibility.cardPreview=f(C,"cardPreview");this.oVisibility.title=f(C,"title",i);this.oVisibility.subTitle=f(C,"subTitle",i);this.oVisibility.valueSelectionInfo=f(C,"valueSelectionInfo",i);this.oVisibility.listType=f(C,"listType",i);this.oVisibility.listFlavor=f(C,"listFlavor",i);this.oVisibility.listFlavorForLinkList=f(C,"listFlavorForLinkList",i);this.oVisibility.sortOrder=f(C,"sortOrder",i);this.oVisibility.sortBy=f(C,"sortBy",i);if(C.template==="sap.ovp.cards.linklist"&&!!C.staticContent){var E=C.staticContent,V={},F={},G={},H={};for(var I=0;I<E.length;I++){var J=E[I].index;V[J]=f(C,"staticLink",null,I);F[J]=f(C,"links",null,I);G[J]=f(C,"removeVisual",null,I);H[J]=f(C,"showMore",null,I);}this.oVisibility.staticLink=V;this.oVisibility.links=F;this.oVisibility.removeVisual=G;this.oVisibility.showMore=H;}this.oVisibility.lineItemTitle=f(C,"lineItemTitle");this.oVisibility.lineItemSubTitle=f(C,"lineItemSubTitle");this.oVisibility.showViewName=f(C,"showViewName",i);this.oVisibility.showDefaultView=f(C,"showDefaultView",i);this.aVariantNames.forEach(function(K){this.oVisibility[K.sPath]=f(C,K.sPath,i)&&!!C[K.sPath]&&!!C[K.sPath].length;}.bind(this));this.oVisibility.kpiHeader=f(C,"kpiHeader",i)&&!!C["dataPoint"]&&!!C["dataPoint"].length;this.oVisibility.dynamicSwitchSubTitle=f(C,"dynamicSwitchSubTitle",i);this.oVisibility.dynamicSwitchStateSubTitle=f(C,"dynamicSwitchStateSubTitle",i);this.oVisibility.moveToTheTop=false;this.oVisibility.moveUp=false;this.oVisibility.moveDown=false;this.oVisibility.moveToTheBottom=false;this.oVisibility.delete=false;}
function _(){if(r){return r;}r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");return r;}
function h(C){var i=C.getProperty("/staticContent");for(var E=0;E<i.length;E++){i[E].index="Index--"+(E+1);}C.setProperty("/staticContent",i);}
function j(i){if(i.lineItem){i.lineItem.forEach(function(E){if(E.value===i.annotationPath){i.lineItemQualifier=E.name;}});}if(i.tabs&&i.tabs.length&&i.selectedKey){i.viewName=i.tabs[i.selectedKey-1].value;i.isDefaultView=false;if(i.selectedKey===i.defaultViewSelected){i.isDefaultView=true;}}var C=i.sortOrder;i.sortOrder='descending';if(C&&C.toLowerCase()!=='descending'){i.sortOrder='ascending';}i.isExtendedList=false;if(i.listType==='extended'){i.isExtendedList=true;}i.isBarList=false;if(i.listFlavor==='bar'){i.isBarList=true;}i.hasKPIHeader=false;if(i.dataPointAnnotationPath){i.hasKPIHeader=true;}return i;}
function k(i){var E=i.entityType;this.aVariantNames.forEach(function(V){var F=[];for(var G in E){if(E.hasOwnProperty(G)&&G.indexOf(V.sVariant)!==-1){if(V.sVariant===".LineItem"){var H={name:d(E,G),value:G,fields:sap.ovp.cards.AnnotationHelper.sortCollectionByImportance(E[G])};F.push(H);}else{F.push({name:d(E,G),value:G});}}}if(F.length!==0){i[V.sPath]=F;}});if(i.entityType&&i.entityType.property){i['modelProperties']=i.entityType.property.map(function(F){return{name:F.name,value:F.name};});}if(!!i.tabs&&i.tabs.length){var C=false;i.newViewCounter=0;i.defaultViewSelected=i.selectedKey;i.isViewResetEnabled=false;i.aViews=[{text:r&&r.getText("OVP_KEYUSER_LABEL_MAIN_VIEW"),key:0,isLaterAddedView:false,isViewResetEnabled:false}];C=i.tabs.some(function(F){return F.dataPointAnnotationPath;});i.tabs.forEach(function(F,G){var H=F.value;if(C&&!F.dataPointAnnotationPath&&F.dataPoint&&F.dataPoint.length){F.dataPointAnnotationPath=F.dataPoint[0].value;}if(G+1===i.selectedKey){H=F.value;if(r){H+=" ("+r.getText("OVP_KEYUSER_LABEL_DEFAULT_VIEW")+")";}else{H+=" (Default view)";}}i.aViews.push({text:H,key:G+1,initialSelectedKey:G+1,isLaterAddedView:false,isViewResetEnabled:false});});}else if(e(i.template,'isViewSwitchSupportedCard')){i.newViewCounter=0;i.aViews=[{text:'click "+" to add a view',key:0,initialSelectedKey:0,isLaterAddedView:false,isViewResetEnabled:false}];}return i;}
function l(C){var E=C.getData();sap.ushell.Container.getService('CrossApplicationNavigation').getLinks().done(function(F){var G=[],H={};for(var i=0;i<F.length;i++){G.push(F[i].intent);H[F[i].intent]=F[i].text;}sap.ushell.Container.getService('CrossApplicationNavigation').isIntentSupported(G).done(function(R){var F=[];for(var I in R){if(R.hasOwnProperty(I)&&R[I].supported===true&&H&&H[I]){F.push({name:H[I],value:I});}}var J=E;if(F.length!==0||F.length!==0){J['links']=F;}C.refresh();}).fail(function(I){q.sap.log.error(I);});}).fail(function(i){q.sap.log.error(i);});}
function m(E){this.oResetButton.setEnabled(E);}
function n(E){this.oSaveButton.setEnabled(E);var i=this.oMessagePopOver.getModel(),C=i.getProperty("/Counter/Error");this.bError=(C>0);}
function v(i){var C=new RegExp("((http|https)(:\/\/))?([a-zA-Z0-9]+[.]{1}){2}[a-zA-z0-9]+(\/{1}[a-zA-Z0-9]+)*\/?","i");return C.test(i);}
function o(V,F){if(F==="targetUri"){return!v(V)&&(!!V||V==='');}else{return!(V.trim().length);}}
function p(E){var F=E.getParameter("path"),C="",G,i,H,I,J,K;var N=_();if(F==="/title"||F==="title"||F==="/viewName"||F==="targetUri"||F==="value"){var Q=E.getParameter("value"),R=o(Q,F),U,V=E.getParameter("context");if(F==="/viewName"){U=E.getSource().getProperty("/selectedKey");C=N&&N.getText('OVP_KEYUSER_INPUT_ERROR_VIEW_NAME');F="/tabs/"+(U-1)+"/value";}if(F==="value"){C=N&&N.getText('OVP_KEYUSER_INPUT_ERROR_VIEW_NAME');F=V.getPath()+"/"+F;}if(F.indexOf("/title")!==-1){C=N&&N.getText('OVP_KEYUSER_INPUT_ERROR');}if(V&&V.getPath().indexOf("staticContent")!==-1){G=V.getPath().split("/");if(F==="title"){C=N.getText('OVP_KEYUSER_INPUT_ERROR_RECORD_TITLE')+(parseInt(G[G.length-1],10)+1);}else if(F==="targetUri"){C=N.getText('OVP_KEYUSER_INPUT_ERROR_RECORD_URL')+" "+(parseInt(G[G.length-1],10)+1);}F=V.getPath()+"/"+F;}H=this.oMessagePopOver.getModel();I=H.getProperty("/Messages");J=H.getProperty("/Counter/All");K=H.getProperty("/Counter/Error");if(R){n.bind(this)(true);for(i=0;i<I.length;i++){if(I[i].fieldName===F){I.splice(i,1);J--;K--;i--;}}I.push({'type':"Error",'title':C,'fieldName':F,'counter':K+1});J++;K++;}else{n.bind(this)(true);for(i=0;i<I.length;i++){if(I[i].fieldName===F){I.splice(i,1);J--;K--;i--;}}}H.setProperty("/Messages",I);H.setProperty("/Counter/All",J);H.setProperty("/Counter/Error",K);H.refresh(true);}else if(F==="/staticContent,title"||F==="/staticContent,targetUri"||F==="/tabs,value"){G=F.split(",");H=this.oMessagePopOver.getModel();I=H.getProperty("/Messages");J=H.getProperty("/Counter/All");K=H.getProperty("/Counter/Error");n.bind(this)(true);for(i=0;i<I.length;i++){if(I[i].fieldName.indexOf(G[0])!==-1&&I[i].fieldName.indexOf(G[1])!==-1){I.splice(i,1);J--;K--;i--;}}H.setProperty("/Messages",I);H.setProperty("/Counter/All",J);H.setProperty("/Counter/Error",K);H.refresh(true);}}
function t(){var i=this.oMessagePopOver.getModel();i.setProperty("/Messages",[]);i.setProperty("/Counter/All",0);i.setProperty("/Counter/Error",0);i.setProperty("/Counter/Success",0);i.setProperty("/Counter/Warning",0);i.setProperty("/Counter/Information",0);i.refresh(true);}
function u(){var i=new L({text:"Show more information",href:"",target:"_blank"});var C=new b({type:'{type}',title:'{title}',description:'{description}',subtitle:'{subtitle}',counter:'{counter}',fieldName:'{fieldName}',link:i});this.oMessagePopOver=new M({items:{path:'/Messages',template:C}});var E={'Counter':{'All':0,'Error':0,'Success':0,'Warning':0,'Information':0},'Messages':[]};var F=new sap.ui.model.json.JSONModel(E);this.oMessagePopOver.setModel(F);this.oMessagePopOverButton.setModel(F);}
function w(V,W){var i=V.byId("sapOvpSettingsForm");if(i){var C=i.getDomRef();if(C){C.style.width=W;}}}
function x(i){var V=this.dialogBox.getContent()[0],C=V.getModel(),E=V.getModel("deviceMediaProperties");switch(i.name){case"S":case"M":E.setProperty("/deviceMedia","Column");w(V,"100%");break;case"L":case"XL":default:E.setProperty("/deviceMedia","Row");w(V,"calc(100% - "+(C.getProperty("/dialogBoxWidth")+1)+"rem)");break;}E.refresh(true);}
function y(){a.media.detachHandler(x.bind(this),null,"SettingsViewRangeSet");a.media.removeRangeSet("SettingsViewRangeSet");}
function z(){a.media.initRangeSet("SettingsViewRangeSet",[520,760,960],"px",["S","M","L","XL"]);a.media.attachHandler(x.bind(this),null,"SettingsViewRangeSet");x.bind(this)(a.media.getCurrentRange("SettingsViewRangeSet"));}
var A={oOvpResourceBundle:_(),dialogBox:undefined,oSaveButton:undefined,oResetButton:undefined,oMessagePopOverButton:undefined,oMessagePopOver:undefined,oAppDescriptor:undefined,oOriginalAppDescriptor:undefined,sApplicationId:"",iContentHeightForDialog:38,iContentHeightForDialogWithViewSwitch:33,aVariantNames:S.aVariantNames,attachWindowResizeHandler:z,detachWindowResizeHandler:y,settingFormWidth:w,addManifestSettings:j,setVisibilityForFormElements:s,getVisibilityOfElement:f,enableResetButton:m,enableSaveButton:n,resetErrorHandling:t,oVisibility:S.oVisibility,bError:false,getDialogBox:function(C){return new Promise(function(i,E){if(!this.dialogBox){this.oSaveButton=new B("settingsSaveBtn",{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("save"),type:"Emphasized"});var F=new B("settingsCancelBtn",{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("cancelBtn")});this.oResetButton=new B("settingsResetBtn",{text:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("resetCardBtn")});this.oMessagePopOverButton=new B("settingsMessagePopOverBtn",{text:"{/Counter/All}",type:"Emphasized",icon:"sap-icon://message-popup",visible:"{= ${/Counter/All} === 0 ? false : true}"}).addStyleClass("sapOvpSettingsMessagePopOverBtn");this.dialogBox=new D("settingsDialog",{title:this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("settingsDialogTitle"),buttons:[this.oMessagePopOverButton,this.oSaveButton,F,this.oResetButton],afterClose:function(a1){var Z=this.dialogBox.getContent()[0],b1=Z.byId("sapOvpSettingsLineItemTitle"),c1=Z.byId("sapOvpSettingsLineItemSubTitle");if(b1){b1.destroy();}if(c1){c1.destroy();}this.dialogBox.destroyContent();this.detachWindowResizeHandler();}.bind(this)});this.dialogBox.setBusyIndicatorDelay(0);F.attachPress(function(a1){this.dialogBox.close();}.bind(this));}u.bind(this)();var G=C.getComponentInstance(),H=G.getRootControl().getModel("ovpCardProperties").getData(),I=q.extend(true,{},H);I=k.call(this,I);I=this.addManifestSettings(I);var J=new sap.ui.model.json.JSONModel(I),K=C.getDomRef().offsetHeight,N=new sap.ui.model.json.JSONModel(a.system),Q=new sap.ui.model.json.JSONModel({"deviceMedia":"Row"}),R=G.getComponentData(),U=R.mainComponent,V=R.appComponent;this.oAppDescriptor=U._getCardFromManifest(R.cardId);this.sApplicationId=U._getApplicationId();this.oOriginalAppDescriptor=V._getOvpCardOriginalConfig(R.cardId);N.setDefaultBindingMode("OneWay");I.dialogBoxHeight=K;I.dialogBoxWidth=20;if(I.template==="sap.ovp.cards.linklist"){J.setProperty("/listFlavorName",this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_CAROUSEL"));}else{J.setProperty("/listFlavorName",this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_BARLIST"));}if(I.template==="sap.ovp.cards.linklist"&&I.staticContent){var W={};var X=new sap.ui.model.json.JSONModel(W);l(X);h(J);J.setProperty("/lineItemId","linkListItem--1");J.setProperty("/lineItemIdCounter",I.staticContent.length);}this.setVisibilityForFormElements(I);var Y=new sap.ui.model.json.JSONModel(this.oVisibility);J.attachPropertyChange(p.bind(this));var Z=new sap.ui.view("settingsView",{viewName:"sap.ovp.cards.rta.SettingsDialog",type:sap.ui.core.mvc.ViewType.XML,preprocessors:{xml:{bindingContexts:{ovpCardProperties:J.createBindingContext("/")},models:{ovpCardProperties:J,deviceSystemProperties:N}}}});if(I.template==="sap.ovp.cards.linklist"&&I.staticContent){Z.setModel(X,"staticCardProperties");}var $=this.oOvpResourceBundle?new sap.ui.model.resource.ResourceModel({bundleUrl:this.oOvpResourceBundle.oUrlInfo.url}):null;Z.setModel(J);Z.setModel($,"ovpResourceModel");Z.setModel(Q,"deviceMediaProperties");Z.setModel(Y,"visibility");this.dialogBox.addContent(Z);this.attachWindowResizeHandler();Z.loaded().then(function(a1){var b1=a1.byId("dialogCard");if(!b1.getVisible()){b1=a1.byId("dialogCardNoPreview");var c1=Z.getModel().getProperty("/template").split("."),d1=c1[c1.length-1],e1=this.oOvpResourceBundle&&this.oOvpResourceBundle.getText("OVP_KEYUSER_NO_CARD_PREVIEW_MSG",[d1]);b1.setText(e1);}else{b1.setWidth(I.dialogBoxWidth+"rem");}c(C,a1);this.dialogBox.open();a1.getController().settingsResolve=i;}.bind(this));}.bind(this));}};
A.fnEditCardHandler=function(i,G){return A.getDialogBox(i).then(function(C){return[{appComponent:i.getComponentInstance().getComponentData().appComponent,changeSpecificData:{appDescriptorChangeType:"appdescr_ovp_changeCard",content:C.appDescriptorChange}},{selectorControl:i.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{runtimeOnly:true,changeType:"cardSettings",content:C.flexibilityChange}}];});};
A.fnCloneCardHandler=function(i,G){return P.getPayLoadForCloneCard(i).then(function(C){return[{appComponent:i.getComponentInstance().getComponentData().appComponent,changeSpecificData:{appDescriptorChangeType:"appdescr_ovp_addNewCard",content:C.appDescriptorChange}},{selectorControl:i.getComponentInstance().getComponentData().appComponent.getRootControl().getController().getLayout(),changeSpecificData:{runtimeOnly:true,changeType:"cardSettings",content:C.flexibilityChange}}];});};
A.fnAddCardHandler=function(i,G){};
return A;},true);
sap.ui.predefine('sap/ovp/changeHandler/HideCardContainer',['jquery.sap.global','sap/ui/fl/changeHandler/JsControlTreeModifier'],function(q,J){"use strict";var H={"changeHandler":{},"layers":{"CUSTOMER_BASE":false,"CUSTOMER":false,"USER":false}};
H.changeHandler.applyChange=function(c,C,p){p.modifier.byId(c.getContent().id).setVisible(false);return true;};
H.changeHandler.completeChangeContent=function(c,s,p){c.setContent(s.removedElement);};
return H;},true);
sap.ui.predefine('sap/ovp/changeHandler/UnhideCardContainer',['jquery.sap.global','sap/ui/fl/changeHandler/JsControlTreeModifier'],function(q,J){"use strict";var U={"changeHandler":{},"layers":{"CUSTOMER_BASE":false,"CUSTOMER":false,"USER":false}};
U.changeHandler.applyChange=function(c,p,P){P.modifier.byId(c.getContent().revealedElementId).setVisible(true);return true;};
U.changeHandler.completeChangeContent=function(c,s,p){c.setContent({"revealedElementId":s.revealedElementId});};
return U;},true);
sap.ui.predefine('sap/ovp/changeHandler/UnhideControl',['jquery.sap.global','sap/ui/fl/changeHandler/JsControlTreeModifier'],function(q,J){"use strict";var U={"changeHandler":"default","layers":{"CUSTOMER_BASE":false,"CUSTOMER":false,"USER":false}};return U;},true);
sap.ui.predefine('sap/ovp/library',['sap/ui/Device','sap/ui/core/Core'],function(D,C){var t=sap.ui.getCore().initLibrary({name:"sap.ovp",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.generic.app","sap.m","sap.f","sap.ui.comp","sap.ui.rta"],types:[],interfaces:[],controls:[],elements:[],version:"1.54.4",extensions:{flChangeHandlers:{"sap.ovp.ui.EasyScanLayout":"sap/ovp/flexibility/EasyScanLayout","sap.ovp.ui.DashboardLayout":"sap/ovp/flexibility/DashboardLayout"}}});if(D.browser.firefox){jQuery.sap.log.warning("Loading library 'sap.viz' and 'sap.suite.ui.microchart' to avoid issues with Firefox sync XHR support");sap.ui.getCore().loadLibrary("sap.viz");sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");}return t;});
sap.ui.predefine('sap/ovp/ui/Card',["sap/ui/core/Control"],function(C){"use strict";return C.extend("sap.ovp.ui.Card",{metadata:{library:"sap.ovp",designTime:false,aggregations:{innerCard:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"innerCard"},init:function(){},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapOvpBaseCardWrapper");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("innerCard"));r.write("</div>");}});},true);
sap.ui.predefine('sap/ovp/ui/CardContentContainer',["jquery.sap.global","sap/ovp/library"],function(q){"use strict";
var C=sap.m.FlexBox.extend("sap.ovp.ui.CardContentContainer",{
metadata:{library:"sap.ovp"},
renderer:{render:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapOvpCardContentContainer");r.writeClasses();r.write(">");var a=c.getItems();for(var i=0;i<a.length;i++){r.renderControl(a[i]);}r.write("</div>");}}
});
return C;},true);
sap.ui.predefine('sap/ovp/ui/ComponentContainerDesigntimeMetadata',['jquery.sap.global','sap/ui/fl/changeHandler/JsControlTreeModifier',"sap/ovp/cards/CommonUtils","sap/ovp/cards/SettingsUtils","sap/m/Dialog","sap/m/Button"],function(q,J,C,S,D,B){"use strict";var a=C.getApp();var r=a&&a._getLibraryResourceBundle();r=r||sap.ui.getCore().getLibraryResourceBundle("sap.ovp");return{name:{singular:r.getText("Card"),plural:r.getText("Cards")},actions:{remove:{changeType:"hideCardContainer",changeOnRelevantContainer:true},reveal:{changeType:"unhideCardContainer",changeOnRelevantContainer:true},settings:function(){return{"EditCard":{name:r.getText("OVP_KEYUSER_MENU_EDIT_CARD"),isEnabled:function(s){return false;},changeOnRelevantContainer:true,handler:S.fnEditCardHandler},"CloneCard":{name:r.getText("OVP_KEYUSER_MENU_CLONE_CARD"),isEnabled:function(s){return false;},handler:S.fnCloneCardHandler}};}}};},true);
sap.ui.predefine('sap/ovp/ui/CustomData',['jquery.sap.global','sap/ui/core/CustomData','sap/ushell/library'],function(q,C,l){"use strict";
var C=C.extend("sap.ovp.ui.CustomData");
C.prototype._checkWriteToDom=function(r){var k=this.getKey().toLowerCase(),i=sap.ui.getCore().getConfiguration().getAccessibility();if(!i){return;}if(!this.getWriteToDom()){return null;}var v=this.getValue();if(typeof v!="string"){q.sap.log.error("CustomData with key "+k+" should be written to HTML of "+r+" but the value is not a string.");return null;}if(!(sap.ui.core.ID.isValid(k))||(k.indexOf(":")!=-1)){q.sap.log.error("CustomData with key "+k+" should be written to HTML of "+r+" but the key is not valid (must be a valid sap.ui.core.ID without any colon).");return null;}if(k==q.sap._FASTNAVIGATIONKEY){v=/^\s*(x|true)\s*$/i.test(v)?"true":"false";}else if(k.indexOf("sap-ui")==0){q.sap.log.error("CustomData with key "+k+" should be written to HTML of "+r+" but the key is not valid (may not start with 'sap-ui').");return null;}return{key:k,value:v};};
return C;},true);
sap.ui.predefine('sap/ovp/ui/DashboardLayout',["jquery.sap.global","sap/ovp/ui/DashboardLayoutUtil","sap/ovp/library"],function(q,D){"use strict";
var a=sap.ui.core.Control.extend("sap.ovp.ui.DashboardLayout",{
metadata:{designTime:true,library:"sap.ovp",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},defaultAggregation:"content",events:{afterRendering:{},afterDragEnds:{}},properties:{dragAndDropRootSelector:{group:"Misc",type:"string"},dragAndDropEnabled:{group:"Misc",type:"boolean",defaultValue:true},debounceTime:{group:"Misc",type:"int",defaultValue:150}}},
renderer:{render:function(r,c){var b=c.$().width();var R=sap.ui.getCore().getConfiguration().getRTL();var l=c.dashboardLayoutUtil.updateLayoutData(b?b:q(window).width());var C=c.dashboardLayoutUtil.getCards(l.colCount);function f(k){return k.getVisible();}function d(k){return k.id===this.getId().split("--")[1];}var e=c.getContent().filter(f);r.write("<div");r.writeControlData(c);r.addClass("sapUshellEasyScanLayout");if(!sap.ui.Device.system.phone){r.addClass("sapOvpDashboardDragAndDrop");}r.addClass("sapOvpDashboard");r.writeClasses();R?r.addStyle("margin-right",l.marginPx+"px"):r.addStyle("margin-left",l.marginPx+"px");r.writeStyles();r.write(">");r.write("<div class='sapUshellEasyScanLayoutInner'>");if(C.length>0){var g={},h='',i,L,s,j=c.dashboardLayoutUtil.oLayoutData.colCount;for(i=0,L=e.length;i<L;i++){g=C.filter(d.bind(e[i]))[0];c.dashboardLayoutUtil.setCardCssValues(g);s=g.dashboardLayout.column+g.dashboardLayout.colSpan===j+1;if(s){if(g.dashboardLayout.colSpan===1){h='sapOvpNotResizableLeftRight';}else{h='sapOvpNotResizableRight';}}if(g.template==="sap.ovp.cards.stack"||g.settings.stopResizing||!sap.ui.Device.system.desktop){r.write("<div id='"+c.dashboardLayoutUtil.getCardDomId(g.id)+"' class='easyScanLayoutItemWrapper sapOvpDashboardLayoutItem sapOvpDashboardLayoutItemNoDragIcon' style='"+"; transform:translate3d("+g.dashboardLayout.left+" ,"+g.dashboardLayout.top+" ,0px)"+"; -ms-transform:translate3d("+g.dashboardLayout.left+" ,"+g.dashboardLayout.top+" ,0px)"+"; -moz-transform:translate3d("+g.dashboardLayout.left+" ,"+g.dashboardLayout.top+" ,0px)"+"; -webkit-transform:translate3d("+g.dashboardLayout.left+" ,"+g.dashboardLayout.top+" ,0px)"+"; height:"+g.dashboardLayout.height+"; width:"+g.dashboardLayout.width+";'"+" tabindex='0'; aria-setsize="+L+" aria-posinset="+i+">");}else{r.write("<div id='"+c.dashboardLayoutUtil.getCardDomId(g.id)+"' class='easyScanLayoutItemWrapper sapOvpDashboardLayoutItem "+h+"' style='"+"; transform:translate3d("+g.dashboardLayout.left+" ,"+g.dashboardLayout.top+" ,0px)"+"; -ms-transform:translate3d("+g.dashboardLayout.left+" ,"+g.dashboardLayout.top+" ,0px)"+"; -moz-transform:translate3d("+g.dashboardLayout.left+" ,"+g.dashboardLayout.top+" ,0px)"+"; -webkit-transform:translate3d("+g.dashboardLayout.left+" ,"+g.dashboardLayout.top+", 0px)"+"; height:"+g.dashboardLayout.height+"; width:"+g.dashboardLayout.width+";'"+" tabindex='0'; aria-setsize="+L+" aria-posinset="+i+">");}r.renderControl(e[i]);r.write("</div>");}}r.write("</div>");r.write("<div class='after' tabindex='0'></div>");r.write("</div>");}},
init:function(){this.oColumnLayoutData={};this.resizeHandlerId=this.initResizeHandler();var c=sap.ui.getCore().getComponent(this._sOwnerId);this.dashboardLayoutUtil=c.getDashboardLayoutUtil();this.dashboardLayoutUtil.setLayout(this);},
exit:function(){if(this.resizeHandlerId){sap.ui.core.ResizeHandler.deregister(this.resizeHandlerId);}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy();delete this.layoutDragAndDrop;}},
onBeforeRendering:function(){},
onAfterRendering:function(){this.keyboardNavigation=new K(this);if(!this.getDragAndDropRootSelector()){this.setDragAndDropRootSelector("#"+this.getId());}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy();}if(this.getDragAndDropEnabled()){this.layoutDragAndDrop=this.dashboardLayoutUtil.getRearrange({rootSelector:this.getDragAndDropRootSelector(),layout:this});this.fireAfterRendering();}},
getLayoutDataJSON:function(){return this.dashboardLayoutUtil.getDashboardLayoutModel().getLayoutVariants4Pers();},
filterVisibleCards:function(e){return e.getVisible();},
getDashboardLayoutUtil:function(){return this.dashboardLayoutUtil;},
getDashboardLayoutModel:function(){return this.dashboardLayoutUtil.getDashboardLayoutModel();},
getVisibleLayoutItems:function(){var c=this.getContent();var f=c.filter(this.filterVisibleCards);return f;},
initResizeHandler:function(){var r;var d=this.getDebounceTime();var b=function(e){window.clearTimeout(r);r=window.setTimeout(this.oControl.resizeHandler.bind(this,e),d);};return sap.ui.core.ResizeHandler.register(this,b);},
resizeHandler:function(e){this.oControl.dashboardLayoutUtil.resizeLayout(e.size.width);}
});
var K=function(o){this.init(o);};
K.prototype.init=function(o){this.layoutUtil=o.getDashboardLayoutUtil();this.layoutModel=o.getDashboardLayoutModel();this.keyCodes=q.sap.KeyCodes;this.jqElement=o.$();this.bIgnoreSelfFocus=false;this.jqElement.on('keydown',this.keyDownHandler.bind(this));};
K.prototype.keyDownHandler=function(e){var b=document.activeElement,c=this.layoutUtil.getCardId(b.id),C=q.extend([],this.layoutModel.aCards),o=this.layoutModel.getCardById(c),d=this.layoutModel.iColCount,t={},f,g,h,r,l,m,n;this.layoutModel._sortCardsByRow(C);for(var i=1;i<=d;i++){t[i]=[];}for(var j=0;j<C.length;j++){f=C[j].dashboardLayout.column;g=C[j].dashboardLayout.colSpan;if(g===1){t[f].push(C[j]);}else{for(var k=f;k<f+g;k++){t[k].push(C[j]);}}}r=this.getCardPosition(c,t[o.dashboardLayout.column]);switch(e.keyCode){case this.keyCodes.F6:if(e.shiftKey){this.bIgnoreSelfFocus=true;this.jqElement.find(".sapUshellEasyScanLayoutInner").focus();q.sap.handleF6GroupNavigation(e);}else{this.bIgnoreSelfFocus=true;var p=this.jqElement.scrollTop();this.jqElement.find(".after").focus();q.sap.handleF6GroupNavigation(e);this.jqElement.scrollTop(p);}break;case this.keyCodes.F7:var s=q(document.activeElement);if(s.hasClass("easyScanLayoutItemWrapper")){s.find(":sapTabbable").first().focus();}else{s.closest(".easyScanLayoutItemWrapper").focus();}e.preventDefault();break;case this.keyCodes.ARROW_UP:h=o.dashboardLayout.column;r--;l=t[h][r]&&t[h][r].id;this.setFocusOnCard(l);break;case this.keyCodes.ARROW_DOWN:h=o.dashboardLayout.column;r++;l=t[h][r]&&t[h][r].id;this.setFocusOnCard(l);break;case this.keyCodes.ARROW_LEFT:h=o.dashboardLayout.column;h--;if(!t[h]||!t[h][r]){do{if(h===0){h=d;r--;break;}if(r<0){break;}h--;}while(!t[h]||!t[h][r])}l=t[h][r]&&t[h][r].id;this.setFocusOnCard(l);break;case this.keyCodes.ARROW_RIGHT:h=o.dashboardLayout.column+o.dashboardLayout.colSpan;if(!t[h]||!t[h][r]){do{if(h>d){h=1;r++;break;}h++;}while(!t[h]||!t[h][r])}l=t[h][r]&&t[h][r].id;this.setFocusOnCard(l);break;case this.keyCodes.PAGE_UP:e.preventDefault();h=o.dashboardLayout.column;if(e.altKey==true){(h===1)?r=0:h=1;l=t[h][r]&&t[h][r].id;}else{m=t[h].length-1;for(var i=m;i>0;i--){n=document.getElementById(this.layoutUtil.getCardDomId(t[h][i].id));if(n.getBoundingClientRect().bottom<0){l=t[h][i].id;break;}}if(!l){l=t[h][0].id;}}this.setFocusOnCard(l);break;case this.keyCodes.PAGE_DOWN:e.preventDefault();h=o.dashboardLayout.column;if(e.altKey==true){l=(h+o.dashboardLayout.colSpan)>d?C[C.length-1].id:t[d][r]&&t[d][r].id;}else{var w=q(window).height();m=t[h].length;for(var i=0;i<m;i++){n=document.getElementById(this.layoutUtil.getCardDomId(t[h][i].id));if(n.getBoundingClientRect().top>w){l=t[h][i].id;break;}}if(!l){l=t[h][m-1].id;}}this.setFocusOnCard(l);break;case this.keyCodes.HOME:e.preventDefault();h=o.dashboardLayout.column;if(e.ctrlKey==true){(r===0)?h=1:r=0;}else{(h===1)?r=0:h=1;}l=t[h][r]&&t[h][r].id;this.setFocusOnCard(l);break;case this.keyCodes.END:e.preventDefault();h=o.dashboardLayout.column;if(e.ctrlKey==true){var u=t[h].length-1;l=(u===r)?C[C.length-1].id:t[h][u]&&t[h][u].id;}else{l=(h+o.dashboardLayout.colSpan)>d?C[C.length-1].id:t[d][r]&&t[d][r].id;}this.setFocusOnCard(l);break;}};
K.prototype.setFocusOnCard=function(c){if(c){var b=document.getElementById(this.layoutUtil.getCardDomId(c));b&&b.focus();}};
K.prototype.getCardPosition=function(c,b){for(var i=0;i<b.length;i++){if(b[i].id===c){break;}}return i;};
return a;},true);
sap.ui.predefine('sap/ovp/ui/EasyScanLayout',["jquery.sap.global",'sap/ovp/cards/CommonUtils',"sap/ovp/library"],function(q,c){"use strict";q.sap.require('sap.ovp.ui.UIActions');var R=function(s){this.init(s);};
R.prototype.init=function(s){s.beforeDragCallback=this._beforeDragHandler.bind(this);s.dragStartCallback=this._dragStartHandler.bind(this);s.dragMoveCallback=this._dragMoveHandler.bind(this);s.dragEndCallback=this._dragEndHandler.bind(this);s.endCallback=this._endHandler.bind(this);this.layout=s.layout;this.afterReplaceElements=s.afterReplaceElements||function(){};this.settings=s;delete s.afterReplaceElements;this.destroy();this.uiActions=new sap.ovp.ui.UIActions(this.settings).enable();this.aCardsOrder=null;this.verticalMargin=null;this.horizontalMargin=null;this.columnCount=null;this.top=null;this.left=null;this.width=null;this.layoutOffset=null;this.jqLayout=null;this.jqLayoutInner=null;this.isRTLEnabled=null;this.lastCollidedEl=null;this.lastCollisionTop=null;this.SCROLL_OFFSET=16;};
R.prototype.findCollision=function(d,e,f){var h;for(var i=0;i<f.length;i++){var j=f[i];var k=!(j.posDnD.right<d||j.posDnD.left>d);var l=!(j.posDnD.bottom<e||j.posDnD.top>e);if(k&&l){h=j;break;}}return h;};
R.prototype.isCollisionTop=function(d,e,i){var h=((i.posDnD.bottom-i.posDnD.top)/2)+i.posDnD.top;var f=!(h<e||i.posDnD.top>e);return f;};
R.prototype._dragMoveHandler=function(d,e){var s=d.element;var f=d.moveX-this.layoutOffset.left;var h=d.moveY-this.jqLayout.get(0).getBoundingClientRect().top+this.jqLayout.scrollTop();if(!e){var v=document.getElementsByClassName("sapFDynamicPageContentWrapper")[0];var i=v.offsetHeight;var j=v.getBoundingClientRect();if((d.evt.clientY-v.offsetTop+this.SCROLL_OFFSET)>i){v.scrollTop=v.scrollTop+this.SCROLL_OFFSET;}else if(((d.evt.clientY-v.offsetTop)<j.top+this.SCROLL_OFFSET)&&v.scrollTop!==0){v.scrollTop=v.scrollTop-this.SCROLL_OFFSET;}}var k=this.findCollision(f,h,this.aCardsOrder);if(!k){return;}var l=this.isCollisionTop(f,h,k);if(k===s){this.lastCollidedEl=k;return;}if(k===this.lastCollidedEl){if(this.lastCollisionTop===l){return;}if(this.lastCollisionTop){this.lastCollisionTop=l;if(s.posDnD.top>k.posDnD.top){return;}}else{this.lastCollisionTop=l;if(s.posDnD.top<k.posDnD.top){return;}}}if(this.lastCollidedEl&&(this.lastCollidedEl!==k&&this.lastCollidedEl!==s)&&(this.lastCollidedEl.posDnD.left===k.posDnD.left&&this.lastCollidedEl.posDnD.left===s.posDnD.left)){k=this.lastCollidedEl;}this.dragAndDropElement(s,k);this.lastCollidedEl=this.findCollision(f,h,this.aCardsOrder);if(this.lastCollidedEl){this.lastCollisionTop=this.isCollisionTop(f,h,this.lastCollidedEl);}};
R.prototype.dragAndDropElement=function(s,t){if(s&&t){this.aCardsOrder=this.dragAndDropSwapElement(s,t,this.aCardsOrder);this.drawLayout(this.aCardsOrder);}};
R.prototype.dragAndDropSwapElement=function(s,t,i){var n=i.slice();var d=i.indexOf(s);var e=i.indexOf(t);n[e]=s;n[d]=t;if(!!this.positionChanges&&t&&t.children){var T=t.children[0].getAttribute("id");this.positionChanges.push({changeType:"position",content:{cardId:T.substring(T.indexOf("mainView--")+10,T.length),position:d,oldPosition:e},isUserDependent:true});}return n;};
R.prototype.dragAndDropSwapElementForKeyboardNavigation=function(s,t){if(s&&t){var l=this.layout.getVisibleLayoutItems().map(function(e){return e.$().parent()[0];});var d=0;for(var i=0;i<l.length;i++){if(l[i]===s){l[i]=t;d++;continue;}if(l[i]===t){l[i]=s;d++;continue;}}if(d===2){this.afterReplaceElements(l);}}};
R.prototype.initCardsSettingsForDragAndDrop=function(){this.jqLayout=this.layout.$();this.jqLayoutInner=this.jqLayout.children().first();var l=this.jqLayout.scrollTop();var d=this.jqLayoutInner.height();this.isRTLEnabled=sap.ui.getCore().getConfiguration().getRTL()?1:-1;this.aCardsOrder=[];this.layoutOffset=this.jqLayout.offset();if(sap.ui.Device.system.tablet===true&&sap.ui.Device.system.desktop===false){this.jqLayout.css('height',this.jqLayoutInner.height());}var v=this.layout.getVisibleLayoutItems();if(!v){return;}this.aCardsOrder=v.map(function(i){var h=i.$().parent()[0];h.posDnD={width:h.offsetWidth,height:h.offsetHeight};h.style.width=h.offsetWidth+"px";return h;});var j=this.jqLayoutInner.children().first();var e=(this.isRTLEnabled===1)?"margin-left":"margin-right";this.verticalMargin=parseInt(j.css(e),10);var f=this.aCardsOrder[0];this.horizontalMargin=parseInt(q(f).css("margin-bottom"),10);this.columnCount=this.layout.getColumnCount();this.top=f.getBoundingClientRect().top-this.jqLayoutInner[0].getBoundingClientRect().top;this.left=f.getBoundingClientRect().left-this.jqLayoutInner[0].getBoundingClientRect().left;this.width=f.offsetWidth;q(this.aCardsOrder).css("position","absolute");this.drawLayout(this.aCardsOrder);this.jqLayoutInner.height(d);this.jqLayout.scrollTop(l);};
R.prototype.drawLayout=function(C){var o=[];for(var i=0;i<this.columnCount;i++){o[i]=0;}for(var n=0;n<C.length;n++){var d=n%this.columnCount;var e=o[d]++;var f=this.left-this.isRTLEnabled*(d*this.verticalMargin+d*this.width);var h=this.top;var k=C[n];for(var j=0;j<e;j++){h+=this.horizontalMargin;var p=n-(j+1)*this.columnCount;h+=C[p].posDnD.height;}k.posDnD.top=h;k.posDnD.bottom=h+k.posDnD.height;k.posDnD.left=f;k.posDnD.right=f+k.posDnD.width;this.updateElementCSS(C[n]);}};
R.prototype.updateElementCSS=function(e){q(e).css({top:e.posDnD.top,left:e.posDnD.left});};
R.prototype._dragStartHandler=function(e,d){this.positionChanges=[];if(sap.ui.Device.system.desktop){q('body').addClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}if(window.getSelection){var s=window.getSelection();s.removeAllRanges();}this.initCardsSettingsForDragAndDrop();};
R.prototype._beforeDragHandler=function(e,u){if(sap.ui.Device.browser.mobile){this.selectableElemets=q(u).find('.sapUiSelectable');this.selectableElemets.removeClass('sapUiSelectable');}q(this.settings.wrapper).addClass("dragAndDropMode");};
R.prototype._dragEndHandler=function(e,u){this.lastCollidedEl=null;if(e.type=='mouseup'||e.type=='touchend'){if(this.aCardsOrder){this.afterReplaceElements(this.aCardsOrder);}}if(sap.ui.Device.system.desktop){q('body').removeClass("sapOVPDisableUserSelect sapOVPDisableImageDrag");}q(this.settings.wrapper).removeClass("dragAndDropMode");if(this.jqLayoutInner){this.jqLayoutInner.removeAttr("style");}if(this.aCardsOrder){q(this.aCardsOrder).removeAttr("style");}this.uiActions.removeClone();};
R.prototype._endHandler=function(e,u){if(sap.ui.Device.browser.mobile&&this.selectableElemets){this.selectableElemets.addClass('sapUiSelectable');}};
R.prototype.getSwapItemsFunction=function(){return this.dragAndDropSwapElementForKeyboardNavigation.bind(this);};
R.prototype.destroy=function(){if(this.uiActions){this.uiActions.disable();this.uiActions=null;}};
var D={buildReplaceItemsInstance:function(s){var d={containerSelector:".sapUshellEasyScanLayoutInner",wrapper:".sapUshellEasyScanLayout",draggableSelector:".easyScanLayoutItemWrapper",placeHolderClass:"easyScanLayoutItemWrapper-placeHolder",cloneClass:"easyScanLayoutItemWrapperClone",moveTolerance:10,switchModeDelay:800,isTouch:!sap.ui.Device.system.desktop,debug:false};s=q.extend(d,s);return new R(s);}};var K=function(e,s){this.init(e,s);};
K.prototype.init=function(e,s){this.easyScanLayout=e;this.swapItemsFunction=(typeof s==="function")?s:function(){};this.keyCodes=q.sap.KeyCodes;this.jqElement=e.$();this.jqElement.on('keydown.keyboardNavigation',this.keydownHandler.bind(this));this.jqElement.find(".after").on("focus.keyboardNavigation",this.afterFocusHandler.bind(this));this.jqElement.find(".sapUshellEasyScanLayoutInner").on("focus.keyboardNavigation",this.layoutFocusHandler.bind(this));this.jqElement.on("focus.keyboardNavigation",".easyScanLayoutItemWrapper",this.layoutItemFocusHandler.bind(this));this._ignoreSelfFocus=false;this.swapSourceElement=null;this.lastFocussedElement=null;this.lastFocussedClassId=null;this.jqElement.on('keyup',this.ctrlArrowUpDownHandler.bind(this));};
K.prototype.ctrlArrowUpDownHandler=function(e){switch(e.keyCode){case this.keyCodes.ARROW_UP:if(e.ctrlKey==true){this.ctrlArrowHandler(e);this.arrowUpDownHandler(e,true);}break;case this.keyCodes.ARROW_DOWN:if(e.ctrlKey==true){this.ctrlArrowHandler(e);this.arrowUpDownHandler(e,false);}break;case this.keyCodes.PAGE_UP:if(e.ctrlKey){this.ctrlArrowHandler(e);this.pageUpDownHandler(e,true);}break;case this.keyCodes.PAGE_DOWN:if(e.ctrlKey){this.ctrlArrowHandler(e);this.pageUpDownHandler(e,false);}break;}};
K.prototype.destroy=function(){if(this.jqElement){this.jqElement.off(".keyboardNavigation");this.jqElement.find(".after").off(".keyboardNavigation");this.jqElement.find(".sapUshellEasyScanLayoutInner").off(".keyboardNavigation");}delete this.jqElement;delete this.easyScanLayout;};
K.prototype.getVisibleLayoutItems=function(){var d=this.easyScanLayout.getContent();var f=d.filter(function(i){return i.getVisible();});return f;};
K.prototype.afterFocusHandler=function(){if(this._ignoreSelfFocus){this._ignoreSelfFocus=false;return;}var j=this.jqElement.find(".easyScanLayoutItemWrapper:sapTabbable").first();var l=j.find(":sapTabbable").last();if(!l.length){l=j;}l.focus();};
K.prototype.layoutFocusHandler=function(){if(this._ignoreSelfFocus){this._ignoreSelfFocus=false;return;}this.jqElement.find(".easyScanLayoutItemWrapper:sapTabbable").first().focus();};
K.prototype.layoutItemFocusHandler=function(){var j=q(document.activeElement);if(j){var l=j.find("[aria-label]");var i,s="";if(j.find('.valueStateText').length==1){var t=j.find('.valueStateText').find('.sapMObjectNumberText').text();var v=j.find('.valueStateText').find('.sapUiInvisibleText').text();j.find('.valueStateText').attr('aria-label',t+" "+v);j.find('.valueStateText').attr('aria-labelledby',"");}if(q(l).hasClass('kpiHeaderClass')){var k=q(l).closest('div.kpiHeaderClass');var d=k.text();var n=k.attr("id");var V=sap.ui.getCore().byId(n).getValueColor();k.attr('aria-label',d+" "+V);}j.find("[role='listitem']").attr('aria-label',"");if(j.hasClass('easyScanLayoutItemWrapper')){var C="";var e=j.find('.cardCount');var f=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("cardPositionInApp",[j.attr('aria-posinset'),j.attr('aria-setsize')]);if(e.length===0){C="countDiv_"+new Date().getTime();var h='<div id="'+C+'" class="cardCount" aria-label="'+f+'" hidden></div>';j.append(h);}else{C=e[0].id;e.attr('aria-label',f);}s+=C+" ";var o=j.find('.cardType');if(o.length!==0){s+=o[0].id+" ";}}if(j.hasClass('sapOvpCardHeader')&&!j.hasClass('sapOvpStackCardContent')){var p="";var r=j.find('.cardHeaderType');if(r.length===0){var u=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("CardHeaderType");p="cardHeaderType_"+new Date().getTime();var w='<div id="'+p+'" class="cardHeaderType" aria-label="'+u+'" hidden></div>';j.append(w);}else{p=r[0].id;}s+=p+" ";}for(i=0;i<l.length;i++){if(l[i].getAttribute("role")==="heading"){s+=l[i].id+" ";}}if(j.hasClass('sapOvpCardHeader')){var x=j.find('.cardHeaderText');if(x.length!==0){for(var i=0;i<x.length;i++){s+=x[i].id+" ";}}}if(s.length){j.attr("aria-labelledby",s);}if(j.prop('nodeName')==="LI"&&j.find('.linkListHasPopover').length!==0){if(j.find('#hasDetails').length===0){j.append("<div id='hasDetails' hidden>"+sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("HAS_DETAILS")+"</div>");j.attr('aria-describedby',"hasDetails");}}}};
K.prototype._getLayoutItemIndex=function(j){if(!j.hasClass("easyScanLayoutItemWrapper")){return false;}var d=j.children().attr("id");var i=false;this.getVisibleLayoutItems().forEach(function(e,f){if(d==e.getId()){i=f;}});return i;};
K.prototype._changeItemsFocus=function(j){var d=q('.easyScanLayoutItemWrapper');d.attr("tabindex","-1");j.attr("tabindex",0);setTimeout(function(){j.focus();},500);};
K.prototype._swapItemsFocus=function(e,j,d){e.preventDefault();j.attr("tabindex","-1");setTimeout(function(){d.attr("tabindex","0").focus();},0);};
K.prototype.tabButtonHandler=function(e){var j=q(document.activeElement);this.lastFocussedElement=j;if(j.hasClass("easyScanLayoutItemWrapper")){return;}var d=j.closest(".easyScanLayoutItemWrapper");if(!d.length){return;}var f=d.find(":sapTabbable");f=f.filter(":not([id$=after])");if(f.eq(f.length-1).is(j)){e.stopPropagation();e.stopImmediatePropagation();var h=this.jqElement.scrollTop();this._ignoreSelfFocus=true;this.jqElement.find(".after").focus();this.jqElement.scrollTop(h);}};
K.prototype.f7Handler=function(e){var j=q(document.activeElement);if(j.hasClass("easyScanLayoutItemWrapper")){j.find(":sapTabbable").first().focus();}else{j.closest(".easyScanLayoutItemWrapper").focus();}e.preventDefault();};
K.prototype.shiftTabButtonHandler=function(e){var j=q(document.activeElement);if(j.hasClass('after')){this.lastFocussedElement.focus();return;}if(!j.hasClass("easyScanLayoutItemWrapper")){return;}this._ignoreSelfFocus=true;this.jqElement.find(".sapUshellEasyScanLayoutInner").focus();};
K.prototype.arrowUpDownHandler=function(e,i){e.preventDefault();var n=i?"prev":"next";var j=q(document.activeElement);if(!j.hasClass("sapOvpCardHeader")){var d=q(j)[n](".easyScanLayoutItemWrapper");if(!d.is(j)){this._swapItemsFocus(e,j,d);}}};
K.prototype.arrowRightLeftHandler=function(e,i){var d=i?1:-1;var j=q(document.activeElement);var f=this._getLayoutItemIndex(j);if(f===false){return;}var I=this.getVisibleLayoutItems()[f+d];if(I){this._swapItemsFocus(e,j,I.$().parent());}};
K.prototype.altPageUpAndHomeHandler=function(e){var j=q(document.activeElement);var f=this._getLayoutItemIndex(j);if(f===false){return;}var d=this.easyScanLayout.getColumnCount();var i=f%d;var h;var l=this.getVisibleLayoutItems();if(i==0){h=l[0];}else{h=l[f-i];}this._swapItemsFocus(e,j,h.$().parent());};
K.prototype.altPageDownAndEndHandler=function(e){var j=q(document.activeElement);var f=this._getLayoutItemIndex(j);if(f===false){return;}var d=this.easyScanLayout.getColumnCount();var i=f%d;var h;var l=this.getVisibleLayoutItems();if((i==(d-1))||((f+(d-i))>l.length)){h=l[(l.length-1)];}else{h=l[f+(d-i-1)];}this._swapItemsFocus(e,j,h.$().parent());};
K.prototype.ctrlHomeHandler=function(e){var j=q(document.activeElement);var f=this._getLayoutItemIndex(j);if(f===false){return;}var d=this.easyScanLayout.getColumnCount();var i=f%d;var v=this.getVisibleLayoutItems();var h=v[i];var n=h.$().parent();if(n.is(j)){n=v[0].$().parent();}this._swapItemsFocus(e,j,n);};
K.prototype.ctrlEndHandler=function(e){var j=q(document.activeElement);var f=this._getLayoutItemIndex(j);if(f<0){return;}var d=this.easyScanLayout.getColumnCount();var h=f%d;var k;var v=this.getVisibleLayoutItems();for(var i=v.length-1;i>=0;i--){if((i%d)==h){k=v[i];break;}}var n=k.$().parent();if(n.is(j)){n=v[v.length-1].$().parent();}this._swapItemsFocus(e,j,n);};
K.prototype.pageUpDownHandler=function(e,i){var n=i?"prev":"next";var j=q(document.activeElement);if(!j.hasClass("easyScanLayoutItemWrapper")){return;}if(!j[n]().length){return;}var d=false;var f=j;var w=q(window).height();while(!d){var h=f[n]();if(!h.length){d=f;break;}if(!i&&h.offset().top>w){d=h;break;}var o=h.offset().top;var s=o?o<0?-1:1:0;if(i&&(s<=0)){d=h;break;}f=h;}this._swapItemsFocus(e,j,d);};
K.prototype.ctrlArrowHandler=function(e){if(this.swapSourceElement==null){this.swapSourceElement=q(document.activeElement);if(!this.swapSourceElement.hasClass("easyScanLayoutItemWrapper")){this.endSwap();}else{this.jqElement.on('keyup.keyboardNavigation',this.keyupHandler.bind(this));this.jqElement.addClass('dragAndDropMode');this.swapSourceElement.addClass('dragHovered');}}};
K.prototype.keyupHandler=function(e){if(this.swapSourceElement!=null&&e.keyCode===this.keyCodes.CONTROL){var j=q(document.activeElement);if(j.hasClass("easyScanLayoutItemWrapper")){this.swapItemsFunction(this.swapSourceElement[0],j[0]);this._changeItemsFocus(this.swapSourceElement);}this.endSwap();}};
K.prototype.endSwap=function(e){this.swapSourceElement.removeClass('dragHovered');this.jqElement.removeClass('dragAndDropMode');this.swapSourceElement=null;this.jqElement.off('keyup.keyboardNavigation');};
K.prototype.checkIfSwapInterrupted=function(e){if(this.swapSourceElement!=null&&e.keyCode!=this.keyCodes.ARROW_LEFT&&e.keyCode!=this.keyCodes.ARROW_RIGHT&&e.keyCode!=this.keyCodes.ARROW_UP&&e.keyCode!=this.keyCodes.ARROW_DOWN){this.endSwap();}};
K.prototype.spacebarHandler=function(e){var i=sap.ui.getCore().byId(e.target.id);if(i&&i.mEventRegistry.hasOwnProperty('press')){q('#'+e.target.id).addClass('sapMLIBActive');q('#'+e.target.id+' span').css('color','#FFFFFF');i.firePress();}};
K.prototype.keydownHandler=function(e){this.checkIfSwapInterrupted(e);switch(e.keyCode){case this.keyCodes.TAB:(e.shiftKey)?this.shiftTabButtonHandler(e):this.tabButtonHandler(e);break;case this.keyCodes.F6:if(e.shiftKey){this._ignoreSelfFocus=true;this.jqElement.find(".sapUshellEasyScanLayoutInner").focus();q.sap.handleF6GroupNavigation(e);}else{this._ignoreSelfFocus=true;var d=this.jqElement.scrollTop();this.jqElement.find(".after").focus();q.sap.handleF6GroupNavigation(e);this.jqElement.scrollTop(d);}break;case this.keyCodes.F7:this.f7Handler(e);break;case this.keyCodes.ARROW_UP:if(e.ctrlKey==true){this.ctrlArrowHandler(e);}this.arrowUpDownHandler(e,true);break;case this.keyCodes.ARROW_DOWN:if(e.ctrlKey==true){this.ctrlArrowHandler(e);}this.arrowUpDownHandler(e,false);break;case this.keyCodes.ARROW_RIGHT:if(e.ctrlKey==true){this.ctrlArrowHandler(e);}this.arrowRightLeftHandler(e,true);break;case this.keyCodes.ARROW_LEFT:if(e.ctrlKey==true){this.ctrlArrowHandler(e);}this.arrowRightLeftHandler(e,false);break;case this.keyCodes.HOME:(e.ctrlKey==true)?this.ctrlHomeHandler(e):this.altPageUpAndHomeHandler(e);break;case this.keyCodes.END:(e.ctrlKey==true)?this.ctrlEndHandler(e):this.altPageDownAndEndHandler(e);break;case this.keyCodes.PAGE_UP:(e.altKey==true)?this.altPageUpAndHomeHandler(e):this.pageUpDownHandler(e,true);if(e.ctrlKey){this.ctrlArrowHandler(e);this.pageUpDownHandler(e,true);}break;case this.keyCodes.PAGE_DOWN:(e.altKey==true)?this.altPageDownAndEndHandler(e):this.pageUpDownHandler(e,false);if(e.ctrlKey){this.ctrlArrowHandler(e);this.pageUpDownHandler(e,false);}break;case this.keyCodes.SPACE:case this.keyCodes.ENTER:this.spacebarHandler(e);break;}};
var E=sap.ui.core.Control.extend("sap.ovp.ui.EasyScanLayout",{
metadata:{designTime:true,library:"sap.ovp",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},defaultAggregation:"content",events:{afterRendering:{},afterDragEnds:{},afterColumnUpdate:{}},properties:{useMediaQueries:{group:"Misc",type:"boolean",defaultValue:false},dragAndDropRootSelector:{group:"Misc",type:"string"},dragAndDropEnabled:{group:"Misc",type:"boolean",defaultValue:true},debounceTime:{group:"Misc",type:"int",defaultValue:150}}},
renderer:{render:function(r,C){r.write("<div");r.writeControlData(C);r.addClass("sapUshellEasyScanLayout");r.writeClasses();r.write(">");r.write("<div class='sapUshellEasyScanLayoutInner' role='list' tabindex='0' aria-label='Cards'>");var d=C.columnCount;var e=Array.apply(null,new Array(d)).map(function(){return[];});var f=C.getContent().filter(function(j){return j.getVisible();});for(var i=0;i<f.length;i++){e[i%d].push(f[i]);}var h=1;e.forEach(function(j){r.write("<div");r.addClass("easyScanLayoutColumn");r.writeClasses();r.write(">");j.forEach(function(k,l){r.write("<div ");(h===1)?r.write("tabindex='0' "):r.write("tabindex='-1' ");r.addClass("easyScanLayoutItemWrapper");r.write("aria-setsize="+f.length+" aria-posinset="+h);h++;r.writeClasses();r.write(">");r.renderControl(k);r.write("</div>");});r.write("</div>");});r.write("</div>");r.write("<div class='after' tabindex='0'></div>");r.write("</div>");}}
});
var g=function(){return[{minWidth:0,styleClass:"columns-blank",columnCount:1},{minWidth:240,styleClass:"columns-block",columnCount:1},{minWidth:352,styleClass:"columns-narrow",columnCount:1},{minWidth:433,styleClass:"columns-wide",columnCount:1},{minWidth:704,styleClass:"columns-narrow",columnCount:2},{minWidth:864,styleClass:"columns-wide",columnCount:2},{minWidth:1024,styleClass:"columns-narrow",columnCount:3},{minWidth:1280,styleClass:"columns-wide",columnCount:3},{minWidth:1440,styleClass:"columns-narrow",columnCount:4},{minWidth:1800,styleClass:"columns-wide",columnCount:4},{minWidth:2560,styleClass:"columns-narrow",columnCount:5},{minWidth:3008,styleClass:"columns-wide",columnCount:5},{minWidth:3600,styleClass:"columns-narrow",columnCount:4},{minWidth:3840,styleClass:"columns-wide",columnCount:4},{minWidth:5120,styleClass:"columns-wide",columnCount:5},{minWidth:6016,styleClass:"columns-wide",columnCount:5}];};
E.prototype.init=function(){this.data("sap-ui-fastnavgroup","true",true);this.columnResolutionList=g();this.columnCount=this.columnResolutionList[0].columnCount;this.columnStyle="";this.updateColumnClass(this.columnResolutionList[0].styleClass);var d=sap.ui.Device.browser.msie&&sap.ui.Device.browser.version>9;if(d&&this.getUseMediaQueries()){this.mediaQueryList=this.initMediaListeners(this.columnResolutionList);}else{this.resizeHandlerId=this.initResizeHandler(this.columnResolutionList);}};
var m;var a=function(d,e,f){var h=function(i,j){this.updateColumnClass(j);this.refreshColumnCount(i,this.getContent());};if(f.matches){window.clearTimeout(m);m=window.setTimeout(h.bind(this,d,e),this.getDebounceTime());}};var b=function(d,t){var e=d.minWidth;var f=t&&t.minWidth;return"(min-width: "+e+"px)"+(f?" and (max-width: "+(f-1)+"px)":"");};
E.prototype.initMediaListeners=function(d){var e=[];for(var i=0;i<d.length;i++){var f=b(d[i],d[i+1]);var h=window.matchMedia(f);var j=a.bind(this,d[i].columnCount,d[i].styleClass);h.addListener(j);h.bindedListener=j;j(h);e.push(h);}return e;};
E.prototype.initResizeHandler=function(d){var r;var e=this.getDebounceTime();var f=function(){window.clearTimeout(r);r=window.setTimeout(this.oControl.resizeHandler.bind(this,d),e);};return sap.ui.core.ResizeHandler.register(this,f);};
E.prototype.resizeHandler=function(d){var w=this.iWidth;var t=this;var C=this.oControl;var r;if(q(".sapFDynamicPageContent").length>0){w=window.innerWidth;}for(var i=0;i<d.length;i++){if(!d[i+1]){r=d[i];break;}if(d[i].minWidth<=w&&d[i+1].minWidth>w){r=d[i];break;}}C.refreshColumnCount(r.columnCount,C.getContent(),t);C.updateColumnClass(r.styleClass);C.fireAfterColumnUpdate(r);};
E.prototype.getColumnWidth=function(s){var d;switch(s){case"columns-blank":d=0;break;case"columns-narrow":d=20;break;case"columns-wide":d=25;break;}return d;};
E.prototype.refreshColumnCount=function(d,e,t){this.columnCount=d;var f=q();for(var i=0;i<d;i++){f=f.add("<div class='easyScanLayoutColumn'/>");}var h=e.filter(function(k){return k.getVisible();});var n=1;for(var j=0;j<h.length;j++){q(h[j].getDomRef()).parent().attr('aria-posinset',n);n++;f.get(j%d).appendChild(h[j].getDomRef().parentNode);}this.$().children(".sapUshellEasyScanLayoutInner").empty().append(f);if(t&&t.iWidth){this.headerMargin(t);}};
E.prototype.headerMargin=function(t){var d=0,e=0;var w=t.iWidth;var r,f,h,s=0,j,v=0;var k=g();var l=c.getPixelPerRem();var n=(window.innerWidth*1.0)/l;if(q(".sapFDynamicPageContent").length>0){w=window.innerWidth;}for(var i=0;i<k.length;i++){if(!k[i+1]){r=k[i];break;}if(k[i].minWidth<=w&&k[i+1].minWidth>w){r=k[i];break;}}j=this.getColumnWidth(r.styleClass);h=(r.columnCount*j+(r.columnCount-1)*1);if(sap.ui.Device.system.desktop){s=q('.sapFDynamicPageScrollBar').css('width');if(typeof s==="string"||s instanceof String){v=s.length>0?parseInt(s.split("px")[0],10):0;}s=(v*1.0)/l;}f=(n-s-h)/2;q('.sapFDynamicPageTitle').css({"margin-left":f+"rem","margin-right":f+"rem","visibility":"visible"});q('.sapFDynamicPageHeader').css({"margin-left":f+"rem","margin-right":f+"rem","visibility":"visible"});if(sap.ui.Device.system.desktop){n=q("body").width();if(q(".sapFDynamicPageContentFitContainer").length>0){d=q(".sapFDynamicPageContentFitContainer")[0].clientWidth;}if(n===d){var o=q('.sapFDynamicPageTitle').css('margin-left');var p=q('.sapFDynamicPageTitle').css('margin-right');if(typeof o==="string"||o instanceof String){o=o.length>0?parseInt(o.split("px")[0],10):0;}if(typeof p==="string"||p instanceof String){p=p.length>0?parseInt(p.split("px")[0],10):0;}s=q('.sapFDynamicPageScrollBar').css('width');if(typeof s==="string"||s instanceof String){v=s.length>0?parseInt(s.split("px")[0],10):0;}s=v;e=s/2;o=(o+e)/(l*1.0);p=(p+e)/(l*1.0);q('.sapFDynamicPageTitle').css({"margin-left":o+"rem","margin-right":p+"rem","visibility":"visible"});q('.sapFDynamicPageHeader').css({"margin-left":o+"rem","margin-right":p+"rem","visibility":"visible"});}}};
E.prototype.getColumnCount=function(){return this.columnCount;};
E.prototype.getVisibleLayoutItems=function(){var d=this.getContent();var f=d.filter(function(i){return i.getVisible();});return f;};
E.prototype.updateColumnClass=function(d){if(this.columnStyle===d){return;}this.removeStyleClass(this.columnStyle);this.addStyleClass(d);this.columnStyle=d;};
E.prototype.afterDragAndDropHandler=function(e){var A=this.removeAllAggregation("content",true);var v=[];var V=0;e.forEach(function(d,f){var h=d.children[0].getAttribute("id");var C=sap.ui.getCore().byId(h);v.push(C);q(d).attr('aria-posinset',f+1);});for(var i=0;i<A.length;i++){if(A[i].getVisible()){this.addAggregation("content",v[V],true);V++;}else{this.addAggregation("content",A[i],true);}}this.fireAfterDragEnds({positionChanges:this.layoutDragAndDrop.positionChanges});this.refreshColumnCount(this.getColumnCount(),this.getContent());};
E.prototype.onAfterRendering=function(){if(!this.getDragAndDropRootSelector()){this.setDragAndDropRootSelector("#"+this.getId());}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy();}if(this.getDragAndDropEnabled()){this.layoutDragAndDrop=D.buildReplaceItemsInstance({afterReplaceElements:this.afterDragAndDropHandler.bind(this),rootSelector:this.getDragAndDropRootSelector(),layout:this});}if(this.keyboardNavigation){this.keyboardNavigation.destroy();}var s=this.layoutDragAndDrop?this.layoutDragAndDrop.getSwapItemsFunction():null;this.keyboardNavigation=new K(this,s);this.fireAfterRendering();};
E.prototype.exit=function(){if(this.mediaQueryList){this.mediaQueryList.forEach(function(d){d.removeListener(d.bindedListener);});delete this.mediaQueryList;}if(this.resizeHandlerId){sap.ui.core.ResizeHandler.deregister(this.resizeHandlerId);}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy();delete this.layoutDragAndDrop;}};
return E;},true);
sap.ui.predefine('sap/ovp/ui/OVPWrapper',["sap/ui/core/Control"],function(C){"use strict";return C.extend("sap.ovp.ui.OVPWrapper",{metadata:{library:"sap.ovp",designTime:true,aggregations:{DynamicPage:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"DynamicPage"},init:function(){},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("ovpWrapper");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("DynamicPage"));r.write("</div>");}});},true);
/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ovp/cards/loading/State',function(){"use strict";return{ERROR:"Error",LOADING:"Loading"};},true);
jQuery.sap.registerPreloadedModules({
"name":"sap/ovp/library-preload",
"version":"2.0",
"modules":{
	"sap/ovp/app/CardContainer.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <ovp:EasyScanLayout id="ovpLayout" dragAndDropRootSelector=".ovpApplication" afterDragEnds="layoutChanged"\n                        dragAndDropEnabled="{path:\'ui>\', formatter:\'.isDragAndDropEnabled\'}">\n        <ovp:content>\n            <template:repeat list="{ui>/cards}" var="card">\n                <core:ComponentContainer id="{card>id}">\n\n                <core:customData>\n                    <ovp:CustomData key="role" value="listitem" writeToDom="true" />\n                </core:customData>\n\n                </core:ComponentContainer>\n            </template:repeat>\n        </ovp:content>\n\n        <ovp:customData>\n            <ovp:CustomData key="role" value="region" writeToDom="true" />\n            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>Cards}" writeToDom="true" />\n        </ovp:customData>\n\n    </ovp:EasyScanLayout>\n\n</core:FragmentDefinition>',
	"sap/ovp/app/DashboardCardContainer.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <ovp:DashboardLayout id="ovpLayout" dragAndDropRootSelector=".ovpApplication" afterDragEnds="layoutChanged"\n                        dragAndDropEnabled="{path:\'ui>\', formatter:\'.isDragAndDropEnabled\'}">\n        <ovp:content>\n            <template:repeat list="{ui>/cards}" var="card">\n                <core:ComponentContainer id="{card>id}"/>\n            </template:repeat>\n        </ovp:content>\n    </ovp:DashboardLayout>\n\n</core:FragmentDefinition>',
	"sap/ovp/app/Error.view.xml":'<mvc:View\r\n        xmlns="sap.m"\r\n        xmlns:core="sap.ui.core"\r\n        xmlns:mvc="sap.ui.core.mvc">\r\n    <MessagePage icon="sap-icon://message-error" text="{ovplibResourceBundle>LOAD_DATA_ERROR_PAGE}"\r\n                 description="{ovplibResourceBundle>LOAD_DATA_ERROR_CONTENT}"\r\n                 showHeader="false"></MessagePage>\r\n</mvc:View>',
	"sap/ovp/app/Main.view.xml":'<mvc:View\n        controllerName="sap.ovp.app.Main"\n        xmlns="sap.m"\n        xmlns:variants="sap.ui.comp.smartvariants"\n        xmlns:core="sap.ui.core"\n        xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"\n        xmlns:mvc="sap.ui.core.mvc"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n        xmlns:build="sap.build"\n        xmlns:f="sap.f"\n        >\n    <MessagePage id="ovpErrorPage" icon="sap-icon://message-error" text="{ovplibResourceBundle>LOAD_DATA_ERROR_HEADER}"\n                 description="{ovplibResourceBundle>LOAD_DATA_ERROR_CONTENT}"\n                 showHeader="false"></MessagePage>\n    <ovp:OVPWrapper id="ovpWrapper">\n        <f:DynamicPage id="ovpMain" class="ovpApplication" preserveHeaderStateOnScroll="false" headerExpanded="false"\n                     build:metadata="#pattern:OVP">\n            <template:if test="{= !${ui>/globalFilterEntityType} &amp;&amp; !${ui>/description} ? false : true}">\n                <f:title>\n                    <f:DynamicPageTitle>\n                        <!-- Header definition -->\n                        <f:heading>\n                            <HBox class="ovpDescription">\n                                <Title text="{ui>/description}"\n                                       visible="{= ${ui>/globalFilterEntityType} ? (!!${ui>/description} &amp;&amp; ${ui>/smartVariantRequired} === false) : ${ui>/description} ? true : false}"/>\n                                <template:if test="{= ${ui>/smartVariantRequired} === true || !${ui>/description}}">\n                                    <variants:SmartVariantManagement id="ovpPageVariant" persistencyKey="ovpGlobalFilter"\n                                                                     visible="{= ${ui>/globalFilterEntityType} ? true : false}" showShare="true" />\n                                </template:if>\n                            </HBox>\n\n                        </f:heading>\n                        <f:actions>\n                            <ToolbarSpacer />\n                            <OverflowToolbarButton id="sapOvpShareButton" type="Transparent" icon="sap-icon://action"\n                            visible="{= (${ui>/globalFilterEntityType} &amp;&amp; ${ui>/smartVariantRequired})}"\n                            press = "onShareButtonPress" tooltip="{ovplibResourceBundle>shareBtn}"/>\n                        </f:actions>\n                        <f:snappedContent>\n                            <Text id="ovpFilterText"></Text>\n                        </f:snappedContent>\n                    </f:DynamicPageTitle>\n                </f:title>\n            </template:if>\n            <template:if test="{ui>/globalFilterEntityType}">\n                <f:header>\n                    <f:DynamicPageHeader pinnable="true"\n                                       build:metadata="#pattern:Header;prop:objectTitle:Title:\\{i18n>title\\};prop:objectSubtitile:Description:\\{i18n>description\\};prop:objectImageURI:ImageSource:\\{manifest>sap.ui/icons/icon\\}">\n                        <f:content>\n                            <template:if test="{= ${ui>/smartVariantRequired} === true || !${ui>/description}}">\n                                <template:then>\n                                    <core:Fragment fragmentName="sap.ovp.app.SmartFilterBarWithVariant" type="XML"/>\n                                </template:then>\n\n                                <template:else>\n                                    <core:Fragment fragmentName="sap.ovp.app.SmarFilterBarWithoutVariant" type="XML"/>\n                                </template:else>\n                            </template:if>\n                        </f:content>\n                    </f:DynamicPageHeader>\n                </f:header>\n            </template:if>\n            <f:content>\n                <!-- Add the content here -->\n                <core:Fragment fragmentName="{ui>/cardContainerFragment}" type="XML"/>\n            </f:content>\n        </f:DynamicPage>\n    </ovp:OVPWrapper>\n</mvc:View>\n\n',
	"sap/ovp/app/SharePage.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:footerbar="sap.ushell.ui.footerbar">\n   <ActionSheet id="template::ShareSheet" placement="VerticalPreferedBottom">\n      <buttons>\n         <Button id="ShareEmailButton" icon="sap-icon://email" press="shareEmailPressed" text="{ovplibResourceBundle>Email_Text}"/>\n         <footerbar:AddBookmarkButton id="BookmarkButton" \n                                      title="{ui>/tileInfo/tileTitle}"\n                                      tileIcon="sap-icon://bookmark" \n                                      customUrl="{ui>/tileInfo/tileCustomURL}"/>\n          <Button id="shareJamButton"  icon="sap-icon://share-2" press="shareJamPressed"\n                  text="{ovplibResourceBundle>share_jam}"  class="sapMFlexBox" visible="{ui>/jamVisible}" />\n      </buttons>\n   </ActionSheet>\n</core:FragmentDefinition>\n',
	"sap/ovp/app/SmarFilterBarWithoutVariant.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <smartFilterBar:SmartFilterBar id="ovpGlobalFilter"\n                                   entitySet="{ui>/globalFilterEntitySet}"\n                                   entityType="{ui>/globalFilterEntityType}"\n                                   filterBarExpanded="false"\n                                   assignedFiltersChanged="onAssignedFiltersChanged"\n                                   useToolbar="false"\n                                   showMessages="false"\n                                   liveMode="{ui>/enableLiveFilter}"\n                                   considerAnalyticalParameters="{ui>/considerAnalyticalParameters}"\n                                   useDateRangeType="{ui>/useDateRangeType}">\n        <template:if test="{meta>}">\n            <smartFilterBar:controlConfiguration>\n                <template:with path=\'meta>com.sap.vocabularies.UI.v1.SelectionFields\'\n                               var=\'selectionField\'>\n                    <template:repeat list="{selectionField>}">\n                        <smartFilterBar:ControlConfiguration\n                                key="{= (${selectionField>PropertyPath}).replace(\'/\', \'.\') }"\n                                groupId="_BASIC"\n                                />\n                    </template:repeat>\n                </template:with>\n                <!-- Extension provided in manifest will be automatically hooked into matching extension point -->\n                <template:if test="{= ${ui>globalFilterEntitySet}}">\n                    <template:then>\n                        <core:ExtensionPoint\n                                name="SmartFilterBarControlConfigurationExtension|{ui>globalFilterEntitySet}"/>\n                    </template:then>\n                    <template:elseif test="{= ${ui>globalFilterEntityType}}">\n                        <core:ExtensionPoint\n                                name="SmartFilterBarControlConfigurationExtension|{ui>globalFilterEntityTypeNQ}"/>\n                        <core:ExtensionPoint\n                                name="SmartFilterBarControlConfigurationExtension|{ui>globalFilterEntityType}"/>\n                    </template:elseif>\n                </template:if>\n            </smartFilterBar:controlConfiguration>\n        </template:if>\n\t\t<smartFilterBar:customData>\n\t\t\t<core:CustomData key="dateFormatSettings" value=\'\\{"UTC":true,"style":"medium"\\}\'/>\n\t\t</smartFilterBar:customData>\n        \n    </smartFilterBar:SmartFilterBar>\n\n</core:FragmentDefinition>',
	"sap/ovp/app/SmartFilterBarWithVariant.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <smartFilterBar:SmartFilterBar id="ovpGlobalFilter"\n                                   entitySet="{ui>/globalFilterEntitySet}"\n                                   entityType="{ui>/globalFilterEntityType}"\n                                   persistencyKey="ovpGlobalFilter"\n                                   filterBarExpanded="true"\n                                   showMessages="false"\n                                   beforeVariantSave="onBeforeSFBVariantSave"\n                                   afterVariantLoad="onAfterSFBVariantLoad"\n                                   assignedFiltersChanged="onAssignedFiltersChanged"\n                                   useToolbar="false"\n                                   smartVariant="ovpPageVariant"\n                                   useDateRangeType="{ui>/useDateRangeType}"\n                                   liveMode="{ui>/enableLiveFilter}"\n                                   considerAnalyticalParameters="{ui>/considerAnalyticalParameters}">\n        <template:if test="{meta>}">\n            <smartFilterBar:controlConfiguration>\n                <template:with path=\'meta>com.sap.vocabularies.UI.v1.SelectionFields\'\n                               var=\'selectionField\'>\n                    <template:repeat list="{selectionField>}">\n                        <smartFilterBar:ControlConfiguration\n                                key="{= (${selectionField>PropertyPath}).replace(\'/\', \'.\') }"\n                                groupId="_BASIC"\n                                />\n                    </template:repeat>\n                </template:with>\n                <!-- Extension provided in manifest will be automatically hooked into matching extension point -->\n                <template:if test="{= ${ui>globalFilterEntitySet}}">\n                    <template:then>\n                        <core:ExtensionPoint\n                                name="SmartFilterBarControlConfigurationExtension|{ui>globalFilterEntitySet}"/>\n                    </template:then>\n                    <template:elseif test="{= ${ui>globalFilterEntityType}}">\n                        <core:ExtensionPoint\n                                name="SmartFilterBarControlConfigurationExtension|{ui>globalFilterEntityTypeNQ}"/>\n                        <core:ExtensionPoint\n                                name="SmartFilterBarControlConfigurationExtension|{ui>globalFilterEntityType}"/>\n                    </template:elseif>\n                </template:if>\n            </smartFilterBar:controlConfiguration>\n        </template:if>\n\t\t<smartFilterBar:customData>\n\t\t\t<core:CustomData key="dateFormatSettings" value=\'\\{"UTC":true,"style":"medium"\\}\'/>\n\t\t</smartFilterBar:customData>\n    </smartFilterBar:SmartFilterBar>\n\n</core:FragmentDefinition>',
	"sap/ovp/app/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.ovp.app","type":"application","i18n":"../messagebundle.properties","applicationVersion":{"version":"1.54.4"},"title":"{{TITLE}}","description":"{{DESCRIPTION}}","tags":{"keywords":["{{TITLE}}"]},"ach":"CA-UI5-ST-OVP","offline":false,"resources":"resources.json"},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_bluecrystal","sap_belize","sap_belize_plus"]},"sap.ui5":{"_version":"1.1.0","services":{"ShellUIService":{"factoryName":"sap.ushell.ui5service.ShellUIService"}},"dependencies":{"minUI5Version":"1.30.1","libs":{"sap.ui.core":{"minVersion":"1.30.1"},"sap.ui.comp":{"minVersion":"1.30.1"},"sap.ui.generic.app":{"minVersion":"1.30.1"},"sap.ui.layout":{"minVersion":"1.30.1"},"sap.m":{"minVersion":"1.30.1"},"sap.ui.rta":{"minVersion":"1.30.1"},"sap.f":{"minVersion":"1.41.0"}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"../messagebundle.properties"}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ovp/cards/charts/analytical/analyticalChart.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:suite="sap.suite.ui.commons" xmlns:viz="sap.viz.ui5.controls"\n\txmlns:dataSet="sap.viz.ui5.data" xmlns:feed="sap.viz.ui5.controls.common.feeds"\n\txmlns:ovp="sap.ovp.ui" xmlns:charts="sap.ovp.cards.charts">\n\n\t<VBox class="ovpChartTitleVBox cardType" id="vbLayout">\n        <customData>\n            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>analyticalCardType}" writeToDom="true" />\n        </customData>\n\t<template:with path="ovpCardProperties>/chartAnnotationPath"\n\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'chart\'>\n\t\t<template:with path="ovpCardProperties>/selectionAnnotationPath"\n\t\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'selVar\'>\n\t\t\t<template:with path="ovpCardProperties>/presentationAnnotationPath"\n\t\t\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'preVar\'>\n\t\t\t\t<template:if test="{chart>}">\n<!-- \t\t\t\tFIORITECHP1-4935Reversal of Scale factor in Chart and Chart title. -->\n<!-- \t\t\t\t\t<template:if test="{chart>Title}"> -->\n\t\t\t\t\t\t<HBox class="ovpChartTitleHBox" > \n\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<VBox class="ovpChartTitleText">\n\t\t\t\t\t\t\t\t<Text id="ovpCT" class="ovpChartTitle"  maxLines="1" \n\t\t\t\t\t\t\t\t\ttext="{path: \'chart>Title\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}" >\n\t\t\t\t\t\t\t\t\t<customData>\n\t\t\t\t\t\t\t\t\t\t<template:if test="{chart>Title}">\n\t\t\t\t\t\t\t\t\t\t\t<ovp:CustomData key="aria-label" value="{path: \'chart>Title\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true" />\n\t\t\t\t\t\t\t\t\t\t</template:if>\n\t\t\t\t\t\t\t\t\t</customData>\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t<VBox class="ovpChartTitleScaleText">\n\t\t\t\t\t\t\t\t<Text id="ovpUoMTitle" class="ovpChartTitle" maxLines="1">\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t</HBox>\n<!-- \t\t\t\t\t</template:if> -->\n\t\t\t\t\t<template:if test="{path:\'chart>DimensionAttributes\', formatter: \'sap.ovp.cards.charts.VizAnnotationManager.dimensionAttrCheck\'}">\n\t\t\t\t\t\t<template:if test="{path:\'chart>MeasureAttributes\', formatter: \'sap.ovp.cards.charts.VizAnnotationManager.measureAttrCheck\'}">\n\t\t\t\t\t\t\t<template:if test="{chart>ChartType}">\n\t\t\t\t\t\t\t\t<charts:OVPVizDataHandler chartType="{path: \'chart>ChartType\', formatter: \'sap.ovp.cards.charts.VizAnnotationManager.getChartType\'}"\n\t\t\t\t\t\t\t\tentitySet="{ path:\'entitySet>\' , formatter: \'sap.ovp.cards.charts.VizAnnotationManager.getEntitySet\' }" \n\t\t\t\t\t\t\t\tdata="{parts: [{path:\'entitySet>\'}, {path:\'selVar>\'}, {path:\'preVar>\'}, {path:\'chart>DimensionAttributes\'}, {path:\'chart>MeasureAttributes\'}, {path:\'chart>ChartType\'}], formatter: \'sap.ovp.cards.charts.VizAnnotationManager.formatItems\'}"\n\t\t\t\t\t\t\t\taggregateData="{parts: [{path:\'entitySet>\'}, {path:\'selVar>\'}, {path:\'preVar>\'}, {path:\'chart>undefined\'}, {path:\'chart>MeasureAttributes\'}, {path:\'chart>ChartType\'}], formatter: \'sap.ovp.cards.charts.VizAnnotationManager.formatItems\'}">\n\t\t\t\t\t\t\t\t<charts:data>\n\t\t\t\t\t\t\t\t\t<core:Element />\n\t\t\t\t\t\t\t\t</charts:data>\n\t\t\t\t\t\t\t\t<charts:aggregateData>\n\t\t\t\t\t\t\t\t\t<core:Element />\n\t\t\t\t\t\t\t\t</charts:aggregateData>\n\t\t\t\t\t\t\t\t<charts:content width="100%">\n\t\t\t\t\t\t\t\t\t\t<viz:VizFrame id="analyticalChart" class="ovpViz" uiConfig="{applicationSet:\'fiori\'}"\n\t\t\t\t\t\t\t\t\t\t\tvizType="{parts: [{path: \'chart>ChartType\'}, {path: \'chart>DimensionAttributes\'}],\n\t\t\t\t\t\t\t\t\t\t\t\tformatter: \'sap.ovp.cards.charts.VizAnnotationManager.getChartType\'}" width="100%">\n\t\t\t\t\t\t\t\t\t\t\t<viz:customData>\n\t\t\t\t\t\t\t\t\t\t\t\t<template:if test="{chart>Title}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ovp:CustomData key="aria-label"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{path: \'chart>Title\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true" />\n\t\t\t\t\t\t\t\t\t\t\t\t</template:if>\n\t\t\t\t\t\t\t\t\t\t\t</viz:customData>\n\t\t\t\t\t\t\t\t\t\t\t<viz:dataset>\n\t\t\t\t\t\t\t\t\t\t\t\t<dataSet:FlattenedDataset\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata="{analyticalmodel>/}">\n\t\t\t\t\t\t\t\t\t\t\t\t</dataSet:FlattenedDataset>\n\t\t\t\t\t\t\t\t\t\t\t</viz:dataset>\n\t\t\t\t\t\t\t\t\t\t</viz:VizFrame>\n\t\t\t\t\t\t\t\t\t\t</charts:content>\n\t\t\t\t\t\t\t</charts:OVPVizDataHandler>\n\t\t\t\t\t\t\t</template:if>\n\t\t\t\t\t\t</template:if>\n\t\t\t\t\t</template:if>\n\t\t\t\t</template:if>\n\t\t\t</template:with>\n\t\t</template:with>\n\t</template:with>\n\t</VBox>\n\t\n\t<template:with path="ovpCardProperties>/chartAnnotationPath"\n\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'chart\'>\n\t\t<template:if test="{chart>}">\n\t\t\t<template:if test="{chart>ChartType}">\n\t\t\t\t<template:if test="{path:\'chart>ChartType\',formatter:\'sap.ovp.cards.charts.VizAnnotationManager.checkBubbleChart\'}">\n\t\t\t\t\t<Text id="bubbleText" class="ovpChartFooter"/>\n\t\t\t\t</template:if>\n\t\t\t</template:if>\n\t\t</template:if>\n\t</template:with>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/charts/generic/noData.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core"\n\txmlns:ovp="sap.ovp.ui"\n\txmlns="sap.m">\n\t<FlexBox alignItems="Center" justifyContent="SpaceAround" class="noDataSection">\n\t\t<Text maxLines="1"\n\t\t\ttext="{ovplibResourceBundle>noData}">\n\t\t\t<customData>\n\t\t\t\t<ovp:CustomData key="aria-label"\n\t\t\t\t\tvalue="{ovplibResourceBundle>noData}"\n\t\t\t\t\twriteToDom="true" />\n\t\t\t\t<ovp:CustomData key="tabindex" value="0" writeToDom="true" />\n\t\t\t</customData>\n\t\t</Text>\n\t</FlexBox>\n</core:FragmentDefinition>',
	"sap/ovp/cards/charts/smart/chart/analyticalChart.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"\r\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\r\n\txmlns:suite="sap.suite.ui.commons" xmlns:viz="sap.viz.ui5.controls"\r\n\txmlns:dataSet="sap.viz.ui5.data" xmlns:feed="sap.viz.ui5.controls.common.feeds"\r\n\txmlns:ovp="sap.ovp.ui" xmlns:charts="sap.ovp.cards.charts" xmlns:smart="sap.ui.comp.smartchart"\r\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">\r\n\r\n\t<VBox class="ovpSmartChartTitleVBox" id="vbLayout">\r\n\t\t<items>\r\n\t\t\t<template:with path="ovpCardProperties>/chartAnnotationPath"\r\n\t\t\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'chart\'>\r\n\t\t\t\t<template:with path="ovpCardProperties>/selectionAnnotationPath"\r\n\t\t\t\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'selVar\'>\r\n\t\t\t\t\t<template:with path="ovpCardProperties>/presentationAnnotationPath"\r\n\t\t\t\t\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'preVar\'>\r\n\t\t\t\t\t\t<template:if test="{chart>}">\r\n\t\t\t\t\t\t\t<!-- <HBox class="ovpChartTitleHBox" > \r\n\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t<VBox class="ovpChartTitleText">\r\n\t\t\t\t\t\t\t\t\t\t<Text id="ovpCT1" class="ovpChartTitle"  maxLines="1" \r\n\t\t\t\t\t\t\t\t\t\t\ttext="{path: \'chart>Title\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}" >\r\n\t\t\t\t\t\t\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template:if test="{chart>Title}">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ovp:CustomData key="aria-label" value="{path: \'chart>Title\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t\t\t\t\t\t\t</customData>\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t\t<VBox class="ovpChartTitleScaleText">\r\n\t\t\t\t\t\t\t\t\t\t<Text id="ovpUoMTitle" class="ovpChartTitle" maxLines="1">\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t</HBox> -->\r\n\t\t\t\t\t\t\t<template:if\r\n\t\t\t\t\t\t\t\ttest="{path:\'chart>DimensionAttributes\', formatter: \'sap.ovp.cards.charts.SmartAnnotationManager.dimensionAttrCheck\'}">\r\n\t\t\t\t\t\t\t\t<template:if\r\n\t\t\t\t\t\t\t\t\ttest="{path:\'chart>MeasureAttributes\', formatter: \'sap.ovp.cards.charts.SmartAnnotationManager.measureAttrCheck\'}">\r\n\t\t\t\t\t\t\t\t\t<template:if test="{chart>ChartType}">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<smart:SmartChart id="analyticalChart2" class="ovpSmartChart" header="{path: \'chart>Title\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth="100%" showDrillBreadcrumbs="false" useVariantManagement="false" height="400px"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowDetailsButton="false" showDrillButtons="false" showChartTypeSelectionButton="false"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowZoomButtons="false" showLegendButton="false" showFullScreenButton="false" showSemanticNavigationButton="false"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseChartPersonalisation="false" useListForChartTypeSelection="false"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableAutoBinding="true" beforeRebindChart="beforeRebindSmartChart"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchartBindingPath="{parts: [{path:\'entitySet>\'}, {path:\'selVar>\'}, {path:\'preVar>\'}, {path:\'chart>DimensionAttributes\'}, {path:\'chart>MeasureAttributes\'}, {path:\'chart>ChartType\'}], formatter: \'sap.ovp.cards.charts.SmartAnnotationManager.formatItems\'}"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomData:presentationVariantQualifier="{ path: \'ovpCardProperties>/presentationAnnotationPath\' , formatter: \'sap.ovp.cards.charts.SmartAnnotationManager.getAnnotationQualifier\' }"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tentitySet="{ path:\'entitySet>\' , formatter: \'sap.ovp.cards.charts.SmartAnnotationManager.getEntitySet\' }">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- customData:chartQualifier="{ path: \'ovpCardProperties>/chartAnnotationPath\' \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t, formatter: \'sap.ovp.cards.charts.SmartAnnotationManager.getAnnotationQualifier\' \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}" -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</smart:SmartChart>\r\n\t\t\t\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t</template:with>\r\n\t\t\t\t</template:with>\r\n\t\t\t</template:with>\r\n\t\t</items>\r\n\t</VBox>\r\n\r\n\t<template:with path="ovpCardProperties>/chartAnnotationPath"\r\n\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'chart\'>\r\n\t\t<template:if test="{chart>}">\r\n\t\t\t<template:if test="{chart>ChartType}">\r\n\t\t\t\t<template:if\r\n\t\t\t\t\ttest="{path:\'chart>ChartType\',formatter:\'sap.ovp.cards.charts.SmartAnnotationManager.checkBubbleChart\'}">\r\n\t\t\t\t\t<Text id="bubbleText" class="ovpChartFooter" />\r\n\t\t\t\t</template:if>\r\n\t\t\t</template:if>\r\n\t\t</template:if>\r\n\t</template:with>\r\n\r\n</core:FragmentDefinition>\r\n',
	"sap/ovp/cards/generic/Action.fragment.xml":'<core:FragmentDefinition\nxmlns="sap.m" xmlns:core="sap.ui.core"\nxmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <template:if test="{=  ${dataField>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAction\' ||\n                           ${dataField>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation\'||\n                           ${dataField>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldWithUrl\'}">\n\n        <Button text="{path: \'dataField>Label\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                press="onActionPress" type="Transparent">\n            <layoutData>\n                <OverflowToolbarLayoutData moveToOverflow="true"\n                                           stayInOverflow="false"/>\n            </layoutData>\n            <customData>\n                <core:CustomData key="type" value="{dataField>RecordType}"/>\n                <template:if test="{= ${dataField>SemanticObject}}">\n                    <core:CustomData key="semanticObject"\n                                     value="{path: \'dataField>SemanticObject\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                </template:if>\n                <template:if test="{= ${dataField>Url}}">\n                    <core:CustomData key="url"\n                                     value="{path: \'dataField>Url\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                </template:if>\n                <template:if test="{= ${dataField>Action}}">\n                <core:CustomData key="action"\n                                 value="{path: \'dataField>Action\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                </template:if>\n                <core:CustomData key="label"\n                                 value="{path: \'dataField>Label\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n            </customData>\n        </Button>\n\n    </template:if>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/generic/ActionsFooter.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n    <template:with path=\'ovpCardProperties>/identificationAnnotationPath\' helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'identification\'>\n        <template:if test="{path: \'identification>\', formatter: \'sap.ovp.cards.AnnotationHelper.hasActions\'}">\n            <OverflowToolbar id="ovpActionFooter" class="sapOvpActionFooter">\n                <customData>\n                    <ovp:CustomData key="tabindex" value="0" writeToDom="true" />\n                    <ovp:CustomData key="role" value="toolbar" writeToDom="true" />\n                </customData>\n                <ToolbarSpacer/>\n                <template:repeat\n                        list="{path:\'identification>\',\n                                filters: [\n                                    {path:\'com.sap.vocabularies.UI.v1.Importance/EnumMember\', operator: \'EndsWith\', value1: \'High\'},\n                                    {path:\'com.sap.vocabularies.UI.v1.Importance/EnumMember\', operator: \'EndsWith\', value1: \'Medium\'}\n                                ],\n                                sorter: [{path:\'com.sap.vocabularies.UI.v1.Importance/EnumMember\'}]\n                             }" var="dataField">\n                    <core:Fragment fragmentName="sap.ovp.cards.generic.Action" type="XML"/>\n                </template:repeat>\n                <template:repeat\n                        list="{path:\'identification>\',\n                                filters: [\n                                    {path:\'com.sap.vocabularies.UI.v1.Importance/EnumMember\', operator: \'EndsWith\', value1: \'Low\'}\n                                ]\n                             }" var="dataField">\n                    <core:Fragment fragmentName="sap.ovp.cards.generic.Action" type="XML"/>\n                </template:repeat>\n                <template:repeat list="{path:\'identification>\'}" var="dataField">\n                    <template:if test="{=  !${dataField>com.sap.vocabularies.UI.v1.Importance/EnumMember} }">\n                        <core:Fragment fragmentName="sap.ovp.cards.generic.Action" type="XML"/>\n                    </template:if>\n                </template:repeat>\n            </OverflowToolbar>\n        </template:if>\n    </template:with>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/generic/Card.view.xml":'<mvc:View\n        controllerName="sap.ovp.cards.generic.Card"\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:mvc="sap.ui.core.mvc"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <VBox class="sapOvpCardOverlaySideContainer sapOvpCardRightOverlayCursor"></VBox> <!--Div to enable cursor ew-resize in Right Corner of the card-->\n\n    <FlexBox width="100%" justifyContent="End" class="sapOvpNewBadgeWrapper" visible="{= ${ovpCardProperties>/cloneCard} ? true : false}">\n        <HBox class="sapOvpNewBadge">\n            <Text text="Copy" class="sapOvpNewBadgeText"/>\n        </HBox>\n    </FlexBox>\n\n    <template:if test="{= ${ovpCardProperties>/contentPosition} === \'Right\'}" >\n\n        <template:then>\n            <core:Fragment fragmentName="sap.ovp.cards.generic.ContentRight" type="XML"/>\n        </template:then>\n\n        <template:else>\n            <core:Fragment fragmentName="sap.ovp.cards.generic.ContentMiddle" type="XML"/>\n        </template:else>\n\n    </template:if>\n    \n\t<template:if test="{device>/support/touch}">\n        <template:then>\n            <core:HTML content="&lt;div&gt;&lt;/div&gt;">\n        \t</core:HTML>\n        </template:then>\n\n        <template:else>\n            <core:HTML content="&lt;div;&gt;&lt;/div&gt;">\n        \t</core:HTML>\n        </template:else>\n    </template:if>\n    <HBox class="sapOvpCardOverlayContainer sapOvpCardBottomOverlayCursor"></HBox> <!--Div to enable cursor ns-resize in Bottom of the card-->\n\n</mvc:View>',
	"sap/ovp/cards/generic/ContactDetails.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:build="sap.build"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <QuickView placement="Auto">\n        <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetailsQuickViewGroup" type="XML"/>\n    </QuickView>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/generic/ContactDetailsQuickViewGroup.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:build="sap.build"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <QuickViewPage header="{ovplibResourceBundle>CONTACT_INFO}"\n                   icon="{= ${contact>photo} ? ${path: \'contact>photo\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} : \'sap-icon://person-placeholder\'}"\n                   title="{path: \'contact>fn\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                   description="{path: \'contact>role\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}">\n\n        <QuickViewGroup>\n            <QuickViewGroupElement label="{ovplibResourceBundle>CONTACT_JOB_TITLE}" type="text"\n                                   value="{path: \'contact>title\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                   visible="{= !!${contact>title}}"\n                                   build:metadata="#pattern:ContactList;prop:value:JobTitle"/>\n\n            <QuickViewGroupElement label="{ovplibResourceBundle>CONTACT_DEPARTMENT}" type="text"\n                                   value="{path: \'contact>org\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                   visible="{= !!${contact>org}}"\n                                   build:metadata="#pattern:ContactList;prop:value:Department"/>\n\n            <QuickViewGroupElement label="{ovplibResourceBundle>CONTACT_EMAIL}" type="email"\n                                   value="{path: \'contact>email/[${type/EnumMember}.indexOf(\\\'ContactInformationType/work\\\')>=0]/address\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                   visible="{= !!${path: \'contact>email/[${type/EnumMember}.indexOf(\\\'ContactInformationType/work\\\')>=0]/address\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} }"\n                                   build:metadata="#pattern:ContactList;prop:value:Email:{contact>email/0/address};set:contact>email/0/type/EnumMember:work"/>\n\n            <QuickViewGroupElement label="{ovplibResourceBundle>CONTACT_PHONE}" type="phone"\n                                   value="{= ${path: \'contact>tel/[${type/EnumMember}.indexOf(\\\'PhoneType/work\\\')>=0]/uri\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}.replace(\'tel:\',\'\') }"\n                                   visible="{= !!${path: \'contact>tel/[${type/EnumMember}.indexOf(\\\'PhoneType/work\\\')>=0]/uri\'} }"\n                                   build:metadata="#pattern:ContactList;prop:value:Phone:{contact>tel/0/uri};set:contact>tel/0/type/EnumMember:work"/>\n\n            <QuickViewGroupElement  label="{ovplibResourceBundle>CONTACT_MOBILE}" type="{= (${device>/system/phone} || ${device>/system/tablet})  ? \'mobile\'  : \'phone\' }"\n                                    value="{= ${path: \'contact>tel/[${type/EnumMember}.indexOf(\\\'PhoneType/cell\\\')>=0]/uri\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}.replace(\'tel:\',\'\') }"\n                                    visible="{= !!${path: \'contact>tel/[${type/EnumMember}.indexOf(\\\'PhoneType/cell\\\')>=0]/uri\'} }"\n                                    build:metadata="#pattern:ContactList;prop:value:Mobile:{contact>tel/1/uri};set:contact>tel/1/type/EnumMember:cell"/>\n\n            <QuickViewGroupElement label="{ovplibResourceBundle>CONTACT_FAX}" type="text"\n                                   value="{= ${path: \'contact>tel/[${type/EnumMember}.indexOf(\\\'PhoneType/fax\\\')>=0]/uri\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}.replace(\'tel:\',\'\') }"\n                                   visible="{= !!${path: \'contact>tel/[${type/EnumMember}.indexOf(\\\'PhoneType/fax\\\')>=0]/uri\'} }"\n                                   build:metadata="#pattern:ContactList;prop:value:Fax:{contact>tel/2/uri};set:contact>tel/2/type/EnumMember:fax"/>\n\n        </QuickViewGroup>\n    </QuickViewPage>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/generic/ContentMiddle.fragment.xml":'<core:FragmentDefinition\n        controllerName="sap.ovp.cards.generic.Card"\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:mvc="sap.ui.core.mvc"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n\t<ovp:Card id="ovpCardControl">\n\t\t<VBox class="sapOvpBaseCard">\n\t        <template:if test="{ovpCardProperties>/headerFragment}">\n\t            <core:Fragment fragmentName="{ovpCardProperties>/headerFragment}" type="XML"/>\n\t        </template:if>\n\t        <ovp:CardContentContainer id="ovpCardContentContainer" class="{= ${ovpCardProperties>/cardLayout/containerLayout} === \'resizable\' &amp;&amp; ${ovpCardProperties>/cardLayout/showOnlyHeader} === true ? \'sapOvpWrapper sapOvpContentHidden\' :  \'sapOvpWrapper\'}">\n\t            <template:if test="{= ${ovpCardProperties>/state} !== \'Loading\' || ${ovpCardProperties>/state} === \'undefined\'}" >\n\t                <template:if test="{ovpCardProperties>/tabs}">\n\t                    <Toolbar id="toolbar" class="sapOvpDropDown {= ${ovpCardProperties>/densityStyle} === \'compact\' ? \'sapUiSizeCompact dropDrownCompact\' : \'sapUiSizeCozy sapOvpDropDownPadding dropDrownCozy\' }">\n\t                        <Select id="ovp_card_dropdown" selectedKey="1" change="changeSelection">\n\t                            <template:repeat list="{ovpCardProperties>/tabs}" var="tab">\n\t                                <core:Item\n\t                                        id ="{parts: [{path: \'ovpCardProperties>/tabs\'}, {path: \'tab>\'}], formatter: \'sap.ovp.cards.CommonUtils.createKeyForCB\'}"\n\t                                        key="{parts: [{path: \'ovpCardProperties>/tabs\'}, {path: \'tab>\'}], formatter: \'sap.ovp.cards.CommonUtils.createKeyForCB\'}"\n\t                                        text="{tab>value}">\n\t                                </core:Item>\n\t                            </template:repeat>\n\t                        </Select>\n\t                    </Toolbar>\n\t                </template:if>\n\t                <template:if test="{ovpCardProperties>/contentFragment}">\n\t                    <core:Fragment fragmentName="{ovpCardProperties>/contentFragment}" type="XML"/>\n\t                </template:if>\n\t            </template:if>\n\t        </ovp:CardContentContainer>\n\t        <template:if\n\t                test="{= ${ovpCardProperties>/contentFragment} === \'sap.ovp.cards.quickview.Quickview\' || ${ovpCardProperties>/layoutDetail} !== \'resizable\' || ${ovpCardProperties>/state} === \'Loading\'}">\n\t            <template:if test="{ovpCardProperties>/footerFragment}">\n\t                <core:Fragment fragmentName="{ovpCardProperties>/footerFragment}" type="XML"/>\n\t            </template:if>\n\t        </template:if>\n    \t</VBox>\n\t</ovp:Card>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/generic/ContentRight.fragment.xml":'<core:FragmentDefinition\n        controllerName="sap.ovp.cards.generic.Card"\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:mvc="sap.ui.core.mvc"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n\t<ovp:Card id="ovpCardControl" class = "cardType">\n        <ovp:customData>\n            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>stackCardType}" writeToDom="true"/>\n        </ovp:customData>\n        <HBox class="sapOvpBaseCard sapOvpCardRightContent">\n\t        <FlexBox class="sapOvpCardContentRightHeader">\n\t            <core:Fragment fragmentName="sap.ovp.cards.generic.Header" type="XML"/>\n\t            <layoutData>\n\t                <FlexItemData growFactor="1" baseSize="1rem"/>\n\t            </layoutData>\n\t        </FlexBox>\n\t        <ovp:CardContentContainer id="ovpCardContentContainer">\n\t            <template:if test="{ovpCardProperties>/contentFragment}">\n\t                    <core:Fragment fragmentName="{ovpCardProperties>/contentFragment}" type="XML"/>\n\t            </template:if>\n\t        </ovp:CardContentContainer>\n    \t</HBox>\n\t</ovp:Card>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/generic/CountFooter.fragment.xml":'<core:FragmentDefinition\nxmlns="sap.m" xmlns:core="sap.ui.core"\nxmlns:ovp="sap.ovp.ui">\n    <Text id="ovpCountFooter" class="sapOvpCardFooter">\n        <customData>\n            <ovp:CustomData key="role" value="heading" writeToDom="true" />\n        </customData>\n    </Text>\n</core:FragmentDefinition>',
	"sap/ovp/cards/generic/CountHeader.fragment.xml":'<core:FragmentDefinition\nxmlns="sap.m" xmlns:core="sap.ui.core"\nxmlns:ovp="sap.ovp.ui">\n<FlexBox class = "sapOvpHeaderCountMainDiv">\n\t<Text id="ovpCountHeader" class="sapOvpHeaderCounter" maxLines="1">\n\t\t<customData>\n\t\t\t<ovp:CustomData key="role" value="heading" writeToDom="true" />\n\t\t</customData>\n\t</Text>\n</FlexBox>\n</core:FragmentDefinition>',
	"sap/ovp/cards/generic/Header.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:build="sap.build"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n<!--     <template:if test="{= ${ovpCardProperties>/state} !== \'Loading\' &amp;&amp; ${ovpCardProperties>/state} !== \'Error\' || ${ovpCardProperties>/state} === \'undefined\'}" > -->\n        <VBox id="ovpCardHeader"\n              class="{= ${ovpCardProperties>/category} || ${ovpCardProperties>/title} || ${ovpCardProperties>/subTitle} ? \'sapOvpCardHeader\' : \'sapOvpCardHeader sapOvpCardHideHeader\' } {= ${ovpCardProperties>/contentFragment} === \'sap.ovp.cards.stack.Stack\' ? \'sapOvpStackCardHeader\' :  \'sapOvpCardHeaderBorder\'}"\n              build:metadata="#pattern:GenericCard;isAbstract;prop::EntitySet:\\{ovpCardProperties>/entitySet\\}">\n            <customData>\n                <ovp:CustomData key="tabindex" value="0" writeToDom="true"/>\n                <ovp:CustomData key="role" value="button" writeToDom="true"/>\n            </customData>\n            <!--\n                For a Quickview card, the header is in the format "TypeName: Title".\n                TypeName is set in stack.controller and is hardcoded in the annotations.\n                Title comes from the data. Path to Title comes from annotation HeaderInfo/Title/Value.\n            -->\n            <template:if test="{= ${ovpCardProperties>/contentFragment} === \'sap.ovp.cards.quickview.Quickview\'}">\n                <template:then>\n                    <template:with path="entityType>com.sap.vocabularies.UI.v1.HeaderInfo" var="header">\n                        <Text id="ovpQuickviewCardHeader"\n                                text="{= ${ovpCardProperties>/title} + \': \' + ${path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}"\n                                class="sapOvpCardTitle tabindex-1"\n                                build:metadata="#pattern:GenericCard;prop:text:Title">\n                            <customData>\n                                <ovp:CustomData key="aria-label" value="{= ${ovpCardProperties>/title} + \': \' + ${path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}" writeToDom="true"/>\n                                <ovp:CustomData key="role" value="heading" writeToDom="true"/>\n                            </customData>\n                        </Text>\n                    </template:with>\n                </template:then>\n            <!--\n                For a other cards, the header is just the title.\n            -->\n                <template:else>\n                    <core:Fragment fragmentName="sap.ovp.cards.generic.Title" type="XML"/>\n                </template:else>\n\n            </template:if>\n            <!--\n                   *********** SubTitle *************\n            -->\n\n            <template:if test="{= ${ovpCardProperties>/contentFragment} !== \'sap.ovp.cards.quickview.Quickview\'}">\n                <core:Fragment fragmentName="sap.ovp.cards.generic.SubTitle" type="XML"/>\n            </template:if>\n\n            <template:if test="{ovpCardProperties>/headerExtensionFragment}">\n                <core:Fragment fragmentName="{ovpCardProperties>/headerExtensionFragment}" type="XML"/>\n            </template:if>\n            <template:if test="{= ${ovpCardProperties>/contentFragment} === \'sap.ovp.cards.stack.Stack\'}">\n                <FlexBox class="sapOvpCardViewAllContainer">\n                    <Text   \n                            id= "ViewAll"\n                            text="{ovplibResourceBundle>View_All_Stack_Card}"\n                            class="sapOvpCardViewAll cardHeaderText">\n                        <customData>\n                            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>View_All_Stack_Card}" writeToDom="true" />\n                        </customData>\n                    </Text>\n                </FlexBox>\n            </template:if>\n        </VBox>\n    \n</core:FragmentDefinition>\n\n',
	"sap/ovp/cards/generic/KPIHeader.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n                         xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"\n                         xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" >\n    <template:with path="ovpCardProperties>/dataPointAnnotationPath"\n                   helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'dataPoint\'>\n        <template:with path="ovpCardProperties>/selectionAnnotationPath"\n                       helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'selVar\'>\n            <template:with path="ovpCardProperties>/presentationAnnotationPath"\n                           helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'preVar\'>\n\n\n                <template:if test="{dataPoint>}">\n                    <VBox id="kpiHeader" class="sapOVPKpiHeaderVbox" tabindex="-1">\n\n                        <template:if test="{dataPoint>Value/Path}">\n                            <FlexBox items="{parts:[{path:\'entitySet>\'}, {path:\'dataPoint>\'}, {path:\'selVar>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.getAggregateNumber\'}"\n                                     id="kpiHBoxNumeric" class="numericContentHbox sapOvpKPIHeaderAggregateNumber" >\n                                <items>\n                                    <HBox class="innerNumericContentHbox sapOvpKpiContent" alignItems="End" justifyContent="SpaceBetween">\n                                        <ovp:OVPNumericContent id="kpiNumberValue"\n                                                        size="M" truncateValueTo="5"\n                                                        icon="{path:\'dataPoint>\',formatter:\'sap.ovp.cards.AnnotationHelper.formThePathForTrendIcon\'}"\n                                                        value="{path:\'dataPoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.formThePathForAggregateNumber\'}"\n                                                        formatterValue="true"\n                                                        valueColor="{path:\'dataPoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatKPIHeaderState\'}"\n                                                        state="Loaded" class="sapOvpKPIHeaderNumberValueStyle"\n                                                        press="press"\n                                                        withMargin="false">\n                                            <ovp:customData>\n                                                <ovp:CustomData key="role" value="heading" writeToDom="true" />\n                                                <ovp:CustomData key="class" value="kpiHeaderClass" writeToDom="true" />\n                                            </ovp:customData>\n                                        </ovp:OVPNumericContent>\n\n                                        <template:if test="{= ${path:\'dataPoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.formPathForPercentageChange\'} !== \'\'}">\n                                            <FlexBox class="TargetDeviationFlexbox">\n                                                <VBox class="KpiTargetContainer">\n                                                    <Text id = "ovpKpiTarget" text="{ovplibResourceBundle>KPI_Target_Text}" class="KpiTargetText tabindex-1 cardHeaderText">\n                                                        <customData>\n                                                            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>KPI_Target_Text}" writeToDom="true" />\n                                                        </customData>\n                                                    </Text>\n                                                    <Text id = "ovpTargetValue" text="{path:\'dataPoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.formPathForTargetValue\'}"\n                                                          class="sapOvpKPIHeaderTrendPercentStyle tabindex-1 cardHeaderText">\n                                                        <customData>\n                                                            <ovp:CustomData key="aria-label" value="{path:\'dataPoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.formPathForTargetValue\'}" writeToDom="true" />\n                                                        </customData>\n                                                        <layoutData>\n                                                            <FlexItemData growFactor="1"/>\n                                                        </layoutData>\n                                                    </Text>\n                                                </VBox>\n                                                <VBox class="KpiDeviationContainer">\n                                                    <Text id= "ovpKPIDeviation" text="{ovplibResourceBundle>KPI_Deviation_Text}" class="KpiDeviationText tabindex-1 cardHeaderText">\n                                                        <customData>\n                                                            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>KPI_Deviation_Text}" writeToDom="true" />\n                                                        </customData>\n                                                    </Text>\n                                                    <Text\n                                                            id="kpiNumberPercentage"\n                                                            text="{path:\'dataPoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.formPathForPercentageChange\'}"\n                                                            class="sapOvpKPIHeaderTrendPercentStyle tabindex-1 cardHeaderText">\n                                                        <customData>\n                                                            <ovp:CustomData key="aria-label" value="{path:\'dataPoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.formPathForPercentageChange\'}" writeToDom="true" />\n                                                        </customData>\n                                                        <layoutData>\n                                                            <FlexItemData growFactor="1"/>\n                                                        </layoutData>\n                                                    </Text>\n                                                </VBox>\n                                            </FlexBox>\n                                        </template:if>\n\n\n                                    </HBox>\n                                </items>\n                            </FlexBox>\n                        </template:if>\n\n                        <template:if test="{dataPoint>Value/Path}">\n                            <FlexBox class="UOMFlexbox">\n                                <template:if test="{ovpCardProperties>/valueSelectionInfo}">\n                                    <Text\n                                            id="ovpValueSelectionInfo"\n                                            maxLines="1"\n                                            text="{ovpCardProperties>/valueSelectionInfo}"\n                                            class="sapOvpKPIHeaderUnitOfMeasureStyle tabindex-1 cardHeaderText">\n                                        <customData>\n                                            <ovp:CustomData key="aria-label"\n                                                            value="{ovpCardProperties>/valueSelectionInfo}"\n                                                            writeToDom="true"/>\n                                        </customData>\n                                    </Text>\n                                </template:if>\n                            </FlexBox>\n                        </template:if>\n\n                        <template:if  test="{= (${ovpCardProperties>/showSortingInHeader} === true) &amp;&amp; ${path:\'preVar>\', formatter: \'sap.ovp.cards.AnnotationHelper.isPresentationVarientPresent\'} === true}">\n                            <FlexBox alignItems="Start" justifyContent="SpaceBetween" class="KpiPreVarFlex" visible="{ovpCardProperties>/showSortingInHeader}">\n                                <Text id="headerGroupByText" maxLines="1"\n                                      text="{path:\'preVar>\', formatter:\'sap.ovp.cards.AnnotationHelper.listGroupBy\'}"\n                                      class="sapOvpKPIHeaderDimensionStyle tabindex-1 cardHeaderText">\n                                    <customData>\n                                        <ovp:CustomData key="aria-label" value="{path:\'preVar>\', formatter:\'sap.ovp.cards.AnnotationHelper.listGroupBy\'}" writeToDom="true" />\n                                    </customData>\n                                </Text>\n                            </FlexBox>\n                        </template:if>\n\n                        <template:if test="{= (${ovpCardProperties>/showFilterInHeader} === true) &amp;&amp; {parts:[{path:\'selectionVar>\'}, {path:\'selVar>\'}], formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByString\'} !== \'\'}">\n                            <template:if test="{= !${ovpCardProperties>/ignoreSelectionVariant} === true}">\n                                <template:then>\n                                    <FlexBox alignItems="Start" justifyContent="flex-start" class="KpiSelVarFlex" visible="{ovpCardProperties>/showFilterInHeader}">\n                                        <template:repeat list="{path:\'selVar>SelectOptions\'}" var="selectionVar">\n                                            <Text id="{path:\'selectionVar>\', formatter:\'sap.ovp.cards.AnnotationHelper.formTheIdForFilter\'}" text="{parts:[{path:\'selectionVar>\'}, {path:\'selVar>\'}], formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByString\'}" class="sapOvpKPIHeaderFilterStyle tabindex-1 cardHeaderText" >\n                                                <customData>\n                                                    <ovp:CustomData key="aria-label" value="{parts:[{path:\'selectionVar>\'}, {path:\'selVar>\'}], formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByString\'}" writeToDom="true" />\n                                                </customData>\n                                            </Text>\n                                        </template:repeat>\n                                    </FlexBox>\n                                </template:then>\n                                <template:else>\n                                    <FlexBox alignItems="Start" justifyContent="flex-start" class="KpiSelVarFlex" visible="{ovpCardProperties>/showFilterInHeader}">\n                                        <template:repeat list="{path:\'ovpCardProperties>/idForExternalFilters\'}" var="selectionVar">\n                                            <Text id="{path:\'selectionVar>\', formatter:\'sap.ovp.cards.AnnotationHelper.formTheIdForFilterNotFromSelVar\'}" text="{parts:[{path:\'selectionVar>\'}, {path:\'ovpCardProperties>/filters\'}], formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByStringNotFromSelVar\'}" class="sapOvpKPIHeaderFilterStyle tabindex-1 cardHeaderText" >\n                                                <customData>\n                                                    <ovp:CustomData key="aria-label" value="{parts:[{path:\'selectionVar>\'}, {path:\'ovpCardProperties>/filters\'}], formatter:\'sap.ovp.cards.AnnotationHelper.formTheFilterByStringNotFromSelVar\'}" writeToDom="true" />\n                                                </customData>\n                                            </Text>\n                                        </template:repeat>\n                                    </FlexBox>\n                                </template:else>\n                            </template:if>\n                        </template:if>\n\n                    </VBox>\n                </template:if>\n\n            </template:with>\n        </template:with>\n    </template:with>\n</core:FragmentDefinition>\n',
	"sap/ovp/cards/generic/SubTitle.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:build="sap.build"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <template:if test="{= ${ovpCardProperties>/state} !== \'Loading\'}">\n        <template:if test="{ovpCardProperties>/dynamicSubtitleAnnotationPath}">\n            <template:then>\n                <template:with path=\'ovpCardProperties>/dynamicSubtitleAnnotationPath\'\n                               helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath"\n                               var=\'headerInfo\'>\n                    <template:if test="{headerInfo>Description}">\n                        <HBox>\n                            <FlexBox items="{parts:[{path:\'entitySet>\'}, {path:\'headerInfo>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.getAggregateNumber\'}"\n                                     class="sapOvpCardSubtitleContainer ovpHeaderContainer">\n                                <Text\n                                        id = "ovpDescriptionValue" maxLines="2"\n                                        text="{path: \'headerInfo>Description/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                        class="sapOvpCardSubtitle tabindex-1"\n                                        build:metadata="#pattern:GenericCard;prop:text:subTitle">\n                                    <customData>\n                                        <ovp:CustomData key="aria-label"\n                                                        value="{path: \'headerInfo>Description/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                        writeToDom="true"/>\n                                        <ovp:CustomData key="role" value="heading" writeToDom="true"/>\n                                        <ovp:CustomData key="aria-level" value="4" writeToDom="true"/>\n                                    </customData>\n                                </Text>\n                            </FlexBox>\n                        </HBox>\n                    </template:if>\n                </template:with>\n            </template:then>\n            <template:else>\n                <template:if test="{ovpCardProperties>/subTitle}">\n                    <template:then>\n                        <FlexBox class="sapOvpCardSubtitleContainer ovpHeaderContainer">\n                            <Text\n                          id = "SubTitle-Text" maxLines="2"\n                                    text="{ovpCardProperties>/subTitle}"\n                                    class="sapOvpCardSubtitle tabindex-1 {= ${ovpCardProperties>/subTitle} === \'\' ? \'sapOvpCardEmptySubtitle\' : \'\'}"\n                                    build:metadata="#pattern:GenericCard;prop:text:subTitle">\n                                <customData>\n                                    <ovp:CustomData key="aria-label" value="{ovpCardProperties>/subTitle}"\n                                                    writeToDom="true"/>\n                                    <ovp:CustomData key="role" value="heading" writeToDom="true"/>\n                                    <ovp:CustomData key="aria-level" value="4" writeToDom="true"/>\n                                </customData>\n                            </Text>\n                        </FlexBox>\n                    </template:then>\n                    <template:else>\n                        <template:if test="{ovpCardProperties>/dataPointAnnotationPath}">\n                            <template:then>\n                                <template:with path=\'ovpCardProperties>/dataPointAnnotationPath\'\n                                               helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath"\n                                               var=\'dataPoint\'>\n                                <template:with path="ovpCardProperties>/selectionAnnotationPath"\n                                               helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'selVar\'>\n                                    <template:if test="{dataPoint>Description}">\n                                        <HBox>\n                                            <FlexBox\n                                                    items="{parts:[{path:\'entitySet>\'}, {path:\'dataPoint>\'}, {path:\'selVar>\'} ], formatter: \'sap.ovp.cards.AnnotationHelper.getAggregateNumber\'}"\n                                                    class="sapOvpCardSubtitleContainer ovpHeaderContainer">\n                                                <Text\n                                                    id = "ovpDescriptionValue" maxLines="2"\n                                                        text="{path: \'dataPoint>Description\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                        class="sapOvpCardSubtitle tabindex-1"\n                                                        build:metadata="#pattern:GenericCard;prop:text:subTitle">\n                                                    <customData>\n                                                        <ovp:CustomData key="aria-label"\n                                                                        value="{path: \'dataPoint>Description\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                        writeToDom="true"/>\n                                                        <ovp:CustomData key="role" value="heading" writeToDom="true"/>\n                                                        <ovp:CustomData key="aria-level" value="4" writeToDom="true"/>\n                                                    </customData>\n                                                </Text>\n                                            </FlexBox>\n                                        </HBox>\n                                    </template:if>\n                                    </template:with>\n                                </template:with>\n                            </template:then>\n                            <template:else>\n                                <FlexBox class="sapOvpCardSubtitleContainer ovpHeaderContainer sapOvpCardEmptySubtitle"></FlexBox>\n                            </template:else>\n                        </template:if>\n                    </template:else>\n                </template:if>\n            </template:else>\n        </template:if>\n    </template:if>\n\n</core:FragmentDefinition>\n',
	"sap/ovp/cards/generic/Title.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:build="sap.build"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <template:if test="{ovpCardProperties>/title} || {ovpCardProperties>/dataPointAnnotationPath}">\n        <HBox>\n            <template:if test="{ovpCardProperties>/title}">\n                <template:then>\n            <FlexBox class="ovpHeaderContainer sapOvpCardHeaderTitleWidth">\n                <Text\n                        id= "ovpHeaderTitle" maxLines="3"\n                        text="{ovpCardProperties>/title}"\n                        class="sapOvpCardTitle tabindex-1"\n                        build:metadata="#pattern:GenericCard;prop:text:Title">\n                    <customData>\n                        <ovp:CustomData key="aria-label" value="{ovpCardProperties>/title}"\n                                        writeToDom="true"/>\n                        <ovp:CustomData key="role" value="heading" writeToDom="true"/>\n                        <ovp:CustomData key="aria-level" value="3" writeToDom="true"/>\n                    </customData>\n                </Text>\n            </FlexBox>\n                </template:then>\n                <template:else>\n                    <template:if test="{= ${ovpCardProperties>/state} !== \'Loading\' &amp;&amp; ${ovpCardProperties>/dataPointAnnotationPath}}">\n                        <template:then>\n                            <template:with path=\'ovpCardProperties>/dataPointAnnotationPath\'\n                                           helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath"\n                                           var=\'dataPoint\'>\n                                <template:if test="{dataPoint>Title}">\n                                    <FlexBox items="{parts:[{path:\'entitySet>\'}, {path:\'dataPoint>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.getAggregateNumber\'}" class="ovpHeaderContainer sapOvpCardHeaderTitleWidth">\n                                        <Text\n                                                id="ovpHeaderTitle" maxLines="3"\n                                                text="{path: \'dataPoint>Title\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                class="sapOvpCardTitle tabindex-1"\n                                                build:metadata="#pattern:GenericCard;prop:text:Title">\n                                            <customData>\n                                                <ovp:CustomData key="aria-label" value="{path: \'dataPoint>Title\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                writeToDom="true"/>\n                                                <ovp:CustomData key="role" value="heading" writeToDom="true"/>\n                                                <ovp:CustomData key="aria-level" value="3" writeToDom="true"/>\n                                            </customData>\n                                        </Text>\n                                    </FlexBox>\n                                </template:if>\n                            </template:with>\n                        </template:then>\n                    </template:if>\n                </template:else>\n            </template:if>\n            <template:if\n                    test="{= ${ovpCardProperties>/contentFragment} === \'sap.ovp.cards.list.List\' || ${ovpCardProperties>/contentFragment} === \'sap.ovp.cards.table.Table\'}">\n                <template:if test="{ovpCardProperties>/countHeaderFragment}">\n                    <core:Fragment fragmentName="{ovpCardProperties>/countHeaderFragment}"\n                                       type="XML"/>\n                </template:if>\n            </template:if>\n        </HBox>\n    </template:if>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/image/Image.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:build="sap.build"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <template:if test="{ovpCardProperties>/imageUrl}">\n        <HBox class="ovpImageContainer">\n            <customData>\n                <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>imageCard}" writeToDom="true" />\n                <ovp:CustomData key="role" value="heading" writeToDom="true" />\n            </customData>\n            <Image press="onImagePress"\n                src="{path: \'ovpCardProperties>/imageUrl\', formatter: \'sap.ovp.cards.AnnotationHelper.formatUrl\'}"\n                densityAware="true"\n                width="100%"\n                build:metadata="#pattern:GenericCard>Image;prop:src:ImageSource">\n                <customData>\n                    <ovp:CustomData key="draggable" value="false" writeToDom="true" />\n                    <ovp:CustomData key="ondragstart" value="return false;" writeToDom="true" />\n                </customData>\n            </Image>\n        </HBox>\n    </template:if>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/linklist/LinkList.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns="sap.m">\n\t<template:if test="{ovpCardProperties>/staticContent}">\n\t\t<template:then>\n\t\t\t<template:if test="{= ${ovpCardProperties>/listFlavor} === \'standard\'}">\n\t\t\t\t<template:then>\n\t\t\t\t\t<core:Fragment fragmentName="sap.ovp.cards.linklist.fragments.LinkListStaticDataStandard" type="XML"/>\n\t\t\t\t</template:then>\n\t\t\t\t<template:elseif test="{= ${ovpCardProperties>/listFlavor} === \'carousel\'}">\n\t\t\t\t\t<core:Fragment fragmentName="sap.ovp.cards.linklist.fragments.LinkListStaticDataCarousel" type="XML"/>\n\t\t\t\t</template:elseif>\n\t\t\t</template:if>\n\t\t</template:then>\n\t\t<template:else>\n\t\t\t<template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path=\'ovpCardProperties>/headerAnnotationPath\' var=\'header\'>\n\t\t\t\t<template:if test="{= ${ovpCardProperties>/listFlavor} === \'standard\'}">\n\t\t\t\t\t<template:then>\n\t\t\t\t\t\t<core:Fragment fragmentName="sap.ovp.cards.linklist.fragments.LinkListStandard" type="XML"/>\n\t\t\t\t\t</template:then>\n\t\t\t\t\t<template:elseif test="{= ${ovpCardProperties>/listFlavor} === \'carousel\'}">\n\t\t\t\t\t\t<core:Fragment fragmentName="sap.ovp.cards.linklist.fragments.LinkListCarousel" type="XML"/>\n\t\t\t\t\t</template:elseif>\n\t\t\t\t</template:if>\n\t\t\t</template:with>\n\t\t</template:else>\n\t</template:if>\n</core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListCarousel.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m">\n\t<Carousel id="pictureCarousel" loop="true" class="sapOvpCardLinkListCarousel cardType" arrowsPlacement="PageIndicator"\n\t\tpages="{parts:[{path:\'entitySet>\'}, {path:\'ovpCardProperties>/annotationPath\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatItems\'}">\n        <customData>\n            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>linkListCarouselType}" writeToDom="true" />\n        </customData>\n\t\t<pages>\n\t\t\t<VBox class="sapMCrslItemTableCell">\n                <template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path=\'ovpCardProperties>/identificationAnnotationPath\' var=\'identification\'>\n\t\t\t\t<template:if\n\t\t\t\t\ttest="{= ${header>Title/Value} || ${header>Description/Value}}">\n\t\t\t\t\t<VBox\n\t\t\t\t\t\tclass="{= ${header>Title/Value} || ${header>Description/Value} ? \'sapOvpCarouselContentHeader\' : \'sapOvpCarouselContentHeader sapOvpCarouselHideContentHeader\' }">\n                        <template:if\n\t\t\t\t\t\t\ttest="{path: \'identification>0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n\t\t\t\t\t\t\t<template:then>\n\t\t\t\t\t\t\t\t<Link class="sapOvpCardLinkListTitle " press="onLinkNavigationSingleTarget"\n\t\t\t\t\t\t\t\t\ttext="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}">\n\n                                    <customData>\n                                        <ovp:CustomData key="aria-label" value="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/>\n                                        <ovp:CustomData key="role" value="link" writeToDom="true" />\n                                    </customData>\n\n                                </Link>\n\t\t\t\t\t\t\t</template:then>\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n\t\t\t\t\t\t\t\t<Link class="sapOvpCardLinkListTitle" press="onLinkListActionPress"\n\t\t\t\t\t\t\t\t\tapp:dataAction="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n\t\t\t\t\t\t\t\t\ttext="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}">\n\n                                    <customData>\n                                        <ovp:CustomData key="aria-label" value="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/>\n                                        <ovp:CustomData key="role" value="link" writeToDom="true" />\n                                    </customData>\n\n                                </Link>\n\t\t\t\t\t\t\t</template:elseif>\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Url\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n\t\t\t\t\t\t\t\t<Link class="sapOvpCardLinkListTitle" target="_blank"\n\t\t\t\t\t\t\t\t\thref="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Url\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.formatString\'}"\n\t\t\t\t\t\t\t\t\ttext="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}">\n\n                                    <customData>\n                                        <ovp:CustomData key="aria-label" value="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/>\n                                        <ovp:CustomData key="role" value="link" writeToDom="true" />\n                                    </customData>\n\n                                </Link>\n\t\t\t\t\t\t\t</template:elseif>\n                            <!-- to show contact info on click of title -->\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                <template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path=\'ovpCardProperties>/communicationPath\' var=\'contact\'>\n                                    <template:if test="{contact>}">\n                                            <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/>\n                                            <Link class="sapOvpCardLinkListTitle" press="onLinkPopover"\n                                                  text="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}">\n\n                                                <customData>\n                                                    <ovp:CustomData key="aria-label" value="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}" writeToDom="true"/>\n                                                    <ovp:CustomData key="role" value="link" writeToDom="true" />\n                                                </customData>\n                                            </Link>\n                                    </template:if>\n                                </template:with>\n\t\t\t\t\t\t\t</template:elseif>\n\t\t\t\t\t\t\t<template:else>\n\t\t\t\t\t\t\t\t<Text class="sapOvpCardLinkListTitle"\n\t\t\t\t\t\t\t\t\ttext="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n\t\t\t\t\t\t\t</template:else>\n\t\t\t\t\t\t</template:if>\n\t\t\t\t\t\t<Text class="sapOvpCardLinkListSubTitle"\n\t\t\t\t\t\t\ttext="{path: \'header>Description/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n\t\t\t\t\t</VBox>\n\t\t\t\t</template:if>\n\t\t\t\t<template:if\n\t\t\t\t\ttest="{path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}">\n\t\t\t\t\t<template:then>\n\t\t\t\t\t\t<template:if\n\t\t\t\t\t\t\ttest="{path: \'identification>0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n\t\t\t\t\t\t\t<template:then>\n                                <HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center">\n                                    <Image id="ovpLinkLinstCarouselImg" densityAware="true" press="onLinkNavigationSingleTarget"\n                                        src="{path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                        alt="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                </HBox>\n\t\t\t\t\t\t\t</template:then>\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                <HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center">\n                                    <Image id="ovpLinkLinstCarouselImg" densityAware="true" press="onLinkListActionPress"\n                                        app:dataAction="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                        src="{path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                        alt="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                </HBox>\n\t\t\t\t\t\t\t</template:elseif>\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Url\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                <HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center">\n                                    <Image id="ovpLinkLinstCarouselImg" densityAware="true" press="onLinkListItemPress"\n                                        src="{path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                        alt="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                </HBox>\n\t\t\t\t\t\t\t</template:elseif>\n                            <!-- to show contact info on click of image -->\n                            <template:elseif\n                                    test="{path: \'entityType>com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                <template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath"\n                                               path=\'ovpCardProperties>/communicationPath\' var=\'contact\'>\n                                    <template:if test="{contact>}">\n                                        <HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer"\n                                              alignItems="Center" justifyContent="Center">\n                                            <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                           type="XML"/>\n                                            <Image id="ovpLinkLinstCarouselImg" densityAware="true"\n                                                   press="onLinkPopover"\n                                                   src="{path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                   alt="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                        </HBox>\n                                    </template:if>\n                                </template:with>\n                            </template:elseif>\n\t\t\t\t\t\t\t<template:else>\n                                <HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center">\n                                    <Image id="ovpLinkLinstCarouselImg" densityAware="true"\n                                        src="{path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                        alt="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                </HBox>\n\t\t\t\t\t\t\t</template:else>\n\t\t\t\t\t\t</template:if>\n\t\t\t\t\t</template:then>\n\t\t\t\t\t<template:else>\n\t\t\t\t\t\t<template:if\n\t\t\t\t\t\t\ttest="{path: \'identification>0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n\t\t\t\t\t\t\t<template:then>\n\t\t\t\t\t\t\t\t<core:Icon width="100%" size="128px" press="onLinkNavigationSingleTarget"\n\t\t\t\t\t\t\t\t\tsrc="{path: \'header>TypeImageUrl\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/>\n\t\t\t\t\t\t\t</template:then>\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n\t\t\t\t\t\t\t\t<core:Icon width="100%" size="128px" press="onLinkListActionPress"\n\t\t\t\t\t\t\t\t\tapp:dataAction="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n\t\t\t\t\t\t\t\t\tsrc="{path: \'header>TypeImageUrl\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/>\n\t\t\t\t\t\t\t</template:elseif>\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Url\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n\t\t\t\t\t\t\t\t<core:Icon width="100%" size="128px" press="onLinkListItemPress"\n\t\t\t\t\t\t\t\t\tsrc="{path: \'header>TypeImageUrl\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/>\n\t\t\t\t\t\t\t</template:elseif>\n                            <!-- to show contact info on click of icon -->\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                <template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath"\n                                               path=\'ovpCardProperties>/communicationPath\' var=\'contact\'>\n                                    <template:if test="{contact>}">\n                                        <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                       type="XML"/>\n                                        <core:Icon width="100%" size="128px" press="onLinkPopover"\n                                                   src="{path: \'header>TypeImageUrl\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/>\n                                    </template:if>\n                                </template:with>\n\t\t\t\t\t\t\t</template:elseif>\n\t\t\t\t\t\t\t<template:else>\n\t\t\t\t\t\t\t\t<core:Icon width="100%" size="128px"\n\t\t\t\t\t\t\t\t\tsrc="{path: \'header>TypeImageUrl\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/>\n\t\t\t\t\t\t\t</template:else>\n\t\t\t\t\t\t</template:if>\n\t\t\t\t\t</template:else>\n\t\t\t\t</template:if>\n                </template:with>\n\t\t\t</VBox>\n\t\t</pages>\n        <customData>\n            <ovp:CustomData key="aria-live" value="assertive" writeToDom="true" />\n        </customData>\n\t</Carousel>\n</core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListNavigationTargets.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core">\n\t<Popover title="{ovplibResourceBundle>RELATED_APPS}" placement="Auto">\n\t\t<HBox class="sapOvpLinkListStandardHBox">\n\t\t\t<List showSeparators="None"\n\t\t\t\tclass="{= ${ovpCardProperties>/densityStyle} === \'cozy\' ? \'sapOvpLinkListStandardPaddingCozy\' : \'sapOvpLinkListStandardPaddingCompact\' }">\n\t\t\t\t<CustomListItem>\n\t\t\t\t\t<!-- Content will be added via controler-->\n\t\t\t\t</CustomListItem>\n\t\t\t</List>\n\t\t</HBox>\n\t</Popover>\n</core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListStandard.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:ovp="sap.ovp.ui"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m">\n\t<HBox id="ovpListRow" class="sapOvpLinkListStandardHBox cardType">\n        <customData>\n            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>linkListType}" writeToDom="true" />\n        </customData>\n        <List id="ovpLinkList"\n\t\t\tclass="{= ${ovpCardProperties>/densityStyle} === \'cozy\' ? \'sapOvpLinkListStandardPaddingCozy\' : \'sapOvpLinkListStandardPaddingCompact\'}"\n\t\t\tshowSeparators="None"\n\t\t\titems="{parts:[{path:\'entitySet>\'}, {path:\'header>\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.formatItems\'}">\n            <template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path=\'ovpCardProperties>/identificationAnnotationPath\' var=\'identification\'>\n            <CustomListItem id="ovpCLI" type="Active" press="{= ${path: \'identification>0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'onLinkNavigationSingleTarget\'\n\t\t\t: ${path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'onLinkListActionPress\'\n\t\t\t: ${path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Url\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'onLinkListLineItemUrl\'\n\t\t\t: ${path: \'entityType>com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'\'\n\t\t\t: \'\'}"\n                            app:dataAction="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}">\n\t\t\t\t<HBox\n                        class="{= ${ovpCardProperties>/densityStyle} === \'cozy\' &amp;&amp; !${header>ImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; !${header>Description/Value}) ? \'sapOvpCozyTitle\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; ${header>ImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; !${header>Description/Value}) ? \'sapOvpCozyTitleImage\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; ${header>TypeImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; !${header>Description/Value}) ? \'sapOvpCozyTitleIcon\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; !${header>ImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; ${header>Description/Value}) ? \'sapOvpCozyTitleSubtitle\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; ${header>ImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; ${header>Description/Value}) ? \'sapOvpCozyTitleImageSubtitle\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; ${header>TypeImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; ${header>Description/Value}) ? \'sapOvpCozyTitleIconSubtitle\'\n                    : ${ovpCardProperties>/densityStyle} === \'compact\' &amp;&amp; !${header>ImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; !${header>Description/Value}) ? \'sapOvpCompactTitle\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; ${header>ImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; !${header>Description/Value}) ? \'sapOvpCompactTitleImage\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; ${header>TypeImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; !${header>Description/Value}) ? \'sapOvpCompactTitleIcon\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; !${header>ImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; ${header>Description/Value}) ? \'sapOvpCompactTitleSubtitle\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; ${header>ImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; ${header>Description/Value}) ? \'sapOvpCompactTitleImageSubtitle\'\n                    : ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; ${header>TypeImageUrl} &amp;&amp; (${header>Title/Value} &amp;&amp; ${header>Description/Value}) ? \'sapOvpCompactTitleIconSubtitle\'\n                    : \'ovpDefaultClass\'}\n                        {= ${path: \'identification>0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'\'\n                        : ${path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'\'\n                        : ${path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Url\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'\'\n                        : ${path: \'entityType>com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'} ? \'linkListHasPopover\'\n                        : \'\'} ">\n\t\t\t\t\t<template:if\n\t\t\t\t\t\ttest="{= ${header>ImageUrl} || ${header>TypeImageUrl}}">\n\t\t\t\t\t\t<template:then>\n\t\t\t\t\t\t\t<VBox class="sapOvpLinkListItem {= ${ovpCardProperties>/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemImageCozy\' : \'sapOvpLinkListItemImageCompact\' }">\n\t\t\t\t\t\t\t\t<template:if\n\t\t\t\t\t\t\t\t\ttest="{path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}">\n\t\t\t\t\t\t\t\t\t<template:then>\n\t\t\t\t\t\t\t\t\t\t<template:if test="{= ${ovpCardProperties>/densityStyle} === \'cozy\'}">\n\t\t\t\t\t\t\t\t\t\t\t<template:then>\n\t\t\t\t\t\t\t\t\t\t\t\t<FlexBox height="40px">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image id="linkListImage"\n                                                           alt="no picture" densityAware="true" width="40px" height="40px" class="sapUiSmallMarginEnd" backgroundPosition="center center"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode="Background"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc="{path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"></Image>\n\t\t\t\t\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t\t\t\t\t</template:then>\n\t\t\t\t\t\t\t\t\t\t\t<template:else>\n\t\t\t\t\t\t\t\t\t\t\t\t<FlexBox height="40px">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image id="linkListImage"\n                                                           alt="no picture" densityAware="true" width="36px" height="36px" class="sapUiSmallMarginEnd" backgroundPosition="center center"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode="Background"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc="{path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"></Image>\n\t\t\t\t\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t\t\t\t\t</template:else>\n\t\t\t\t\t\t\t\t\t\t</template:if>\n\t\t\t\t\t\t\t\t\t</template:then>\n\t\t\t\t\t\t\t\t\t<template:else>\n\t\t\t\t\t\t\t\t\t\t<FlexBox height="40px">\n                                            <core:Icon id="linkListIcon" size="24px" class="sapOvpLinkListImageCenter"\n                                                       src="{path: \'header>TypeImageUrl\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.getIconPath\'}"/>\n\t\t\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t\t\t</template:else>\n\t\t\t\t\t\t\t\t</template:if>\n\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t</template:then>\n\t\t\t\t\t</template:if>\n\t\t\t\t\t<VBox class="sapOvpLinkListItem">\n\t\t\t\t\t\t<template:if\n\t\t\t\t\t\t\ttest="{path: \'identification>0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                            <template:then>\n                                <!--  navigation from identification annotation and quick view from contact annotation -->\n                                <template:if\n                                        test="{path: \'entityType>com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                    <template:then>\n                                        <template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath"\n                                                       path=\'ovpCardProperties>/communicationPath\' var=\'contact\'>\n                                            <template:if test="{contact>}">\n                                                <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                               type="XML"/>\n                                                <Link id="linkListTitleLabel" press="onLinkPopover"\n                                                      class="{= ${header>Description/Value} || !${header>Description/Value} &amp;&amp; !${header>ImageUrl} &amp;&amp; !${header>TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"\n                                                      text="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                            </template:if>\n                                        </template:with>\n                                    </template:then>\n                                    <!-- only  navigation from identification -->\n                                    <template:else>\n                                        <Label id="linkListTitleLabel"\n                                               class="{= ${header>Description/Value} || !${header>Description/Value} &amp;&amp; !${header>ImageUrl} &amp;&amp; !${header>TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"\n                                               text="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                    </template:else>\n                                </template:if>\n\t\t\t\t\t\t\t</template:then>\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                <!--  navigation from lineitem annotation and quick view from contact annotation -->\n                                <template:if\n                                        test="{path: \'entityType>com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                    <template:then>\n                                        <template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath"\n                                                       path=\'ovpCardProperties>/communicationPath\' var=\'contact\'>\n                                            <template:if test="{contact>}">\n                                                <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                               type="XML"/>\n                                                <Link id="linkListTitleLabel" press="onLinkPopover"\n                                                      class="{= ${header>Description/Value} || !${header>Description/Value} &amp;&amp; !${header>ImageUrl} &amp;&amp; !${header>TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"\n                                                      text="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                            </template:if>\n                                        </template:with>\n                                    </template:then>\n                                    <!-- only  navigation from lineitem -->\n                                    <template:else>\n                                        <Label id="linkListTitleLabel"\n                                               class="{= ${header>Description/Value} || !${header>Description/Value} &amp;&amp; !${header>ImageUrl} &amp;&amp; !${header>TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"\n                                               app:dataAction="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Action\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                               text="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                    </template:else>\n                                </template:if>\n\t\t\t\t\t\t\t</template:elseif>\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.UI.v1.LineItem/0/Url\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                <!--  navigation from lineitem annotation and quick view from contact annotation -->\n                                <template:if\n                                        test="{path: \'entityType>com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                    <template:then>\n                                        <template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath"\n                                                       path=\'ovpCardProperties>/communicationPath\' var=\'contact\'>\n                                            <template:if test="{contact>}">\n                                                <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                               type="XML"/>\n                                                <Link id="linkListTitleLabel" press="onLinkPopover"\n                                                      class="{= ${header>Description/Value} || !${header>Description/Value} &amp;&amp; !${header>ImageUrl} &amp;&amp; !${header>TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"\n                                                      text="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                            </template:if>\n                                        </template:with>\n                                    </template:then>\n                                    <!-- only  navigation from lineitem -->\n                                    <template:else>\n                                        <Label id="linkListTitleLabel"\n                                               target="_blank"\n                                               class="{= ${header>Description/Value} || !${header>Description/Value} &amp;&amp; !${header>ImageUrl} &amp;&amp; !${header>TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"\n                                               text="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                    </template:else>\n                                </template:if>\n\t\t\t\t\t\t\t</template:elseif>\n                            <!--  to show contact info on click of title -->\n\t\t\t\t\t\t\t<template:elseif\n\t\t\t\t\t\t\t\ttest="{path: \'entityType>com.sap.vocabularies.Communication.v1.Contact\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.linkedAction\'}">\n                                <template:with helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" path=\'ovpCardProperties>/communicationPath\' var=\'contact\'>\n                                    <template:if test="{contact>}">\n                                        <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails" type="XML"/>\n                                        <Link id="linkListTitleLabel" press="onLinkPopover"\n                                              class="{= ${header>Description/Value} || !${header>Description/Value} &amp;&amp; !${header>ImageUrl} &amp;&amp; !${header>TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"\n                                              text="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n                                    </template:if>\n                                </template:with>\n\t\t\t\t\t\t\t</template:elseif>\n                            <!-- only  Label no navigation no quickview -->\n\t\t\t\t\t\t\t<template:else>\n                                <Label id="linkListTitleLabel"\n                                        class="{= ${header>Description/Value} || !${header>Description/Value} &amp;&amp; !${header>ImageUrl} &amp;&amp; !${header>TypeImageUrl} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"\n                                        text="{path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n\t\t\t\t\t\t\t</template:else>\n\t\t\t\t\t\t</template:if>\n                        <!-- heder info description-->\n\t\t\t\t\t\t<template:if test="{header>Description/Value}">\n\t\t\t\t\t\t\t<template:then>\n\t\t\t\t\t\t\t\t<Label id="linkListSubTitleLabel"\n                                       class="sapOvpCardLinkListSubTitle"\n\t\t\t\t\t\t\t\t\ttext="{path: \'header>Description/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"/>\n\t\t\t\t\t\t\t</template:then>\n\t\t\t\t\t\t</template:if>\n\t\t\t\t\t</VBox>\n\t\t\t\t</HBox>\n\t\t\t</CustomListItem>\n            </template:with>\n\t\t</List>\n\t</HBox>\n</core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListStaticDataCarousel.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"\r\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\r\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m">\r\n\t<VBox>\r\n\t\t<Carousel id="pictureCarousel" loop="true" class="sapOvpCardLinkListCarousel cardType" arrowsPlacement="PageIndicator">\r\n            <customData>\r\n                <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>linkListCarouselType}" writeToDom="true" />\r\n            </customData>\r\n\t\t\t<pages>\r\n\t\t\t\t<template:repeat list="{ovpCardProperties>/staticContent}" var="contentRow">\r\n\t\t\t\t\t<VBox class="sapMCrslItemTableCell">\r\n\t\t\t\t\t\t<template:if test="{= ${contentRow>title} || ${contentRow>subTitle}}">\r\n\t\t\t\t\t\t\t<VBox\r\n\t\t\t\t\t\t\t\tclass="{= ${contentRow>title} || ${contentRow>subTitle} ? \'sapOvpCarouselContentHeader\' : \'sapOvpCarouselContentHeader sapOvpCarouselHideContentHeader\' }">\r\n\t\t\t\t\t\t\t\t<template:if test="{contentRow>dataAction}">\r\n\t\t\t\t\t\t\t\t\t<template:then>\r\n\t\t\t\t\t\t\t\t\t\t<Link id="linkListTitleLabel--{contentRow>id}" class="sapOvpCardLinkListTitle" text="{contentRow>title}" press="onLinkListActionPressLocalData"\r\n\t\t\t\t\t\t\t\t\t\t\tapp:dataAction="{contentRow>dataAction}">\r\n\r\n                                            <customData>\r\n                                                <ovp:CustomData key="aria-label" value="{contentRow>title}" writeToDom="true"/>\r\n                                                <ovp:CustomData key="role" value="link" writeToDom="true" />\r\n                                            </customData>\r\n\r\n                                        </Link>\r\n\t\t\t\t\t\t\t\t\t</template:then>\r\n\t\t\t\t\t\t\t\t\t<template:else>\r\n\t\t\t\t\t\t\t\t\t\t<Link id="linkListTitleLabel--{contentRow>id}" class="sapOvpCardLinkListTitle" text="{contentRow>title}" press="onLinkListItemPressLocalData"\r\n\t\t\t\t\t\t\t\t\t\t\tapp:targetUri="{contentRow>targetUri}" app:openInNewWindow="{contentRow>openInNewWindow}">\r\n\r\n                                            <customData>\r\n                                                <ovp:CustomData key="aria-label" value="{contentRow>title}" writeToDom="true" />\r\n                                                <ovp:CustomData key="role" value="link" writeToDom="true" />\r\n                                            </customData>\r\n\r\n                                        </Link>\r\n\t\t\t\t\t\t\t\t\t</template:else>\r\n\t\t\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t\t\t\t<Text id="linkListSubTitleLabel--{contentRow>id}" class="sapOvpCardLinkListSubTitle" text="{contentRow>subTitle}">\r\n\r\n                                    <customData>\r\n                                        <ovp:CustomData key="aria-label" value="{contentRow>subTitle}" writeToDom="true" />\r\n                                        <ovp:CustomData key="role" value="text" writeToDom="true" />\r\n                                    </customData>\r\n\r\n                                </Text>\r\n\t\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t\t<template:if test="{contentRow>dataAction}">\r\n\t\t\t\t\t\t\t<template:then>\r\n\t\t\t\t\t\t\t\t<template:if test="{path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'}">\r\n\t\t\t\t\t\t\t\t\t<template:then>\r\n                                        <HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center">\r\n                                            <Image id="linkListImage--{contentRow>id}" alt="{contentRow>imageAltText}" tooltip="{contentRow>toolTip}" press="onLinkListActionPressLocalData" app:dataAction="{contentRow>dataAction}" densityAware="true"\r\n                                                src="{path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.formatUrl\'}"></Image>\r\n                                        </HBox>\r\n\t\t\t\t\t\t\t\t\t</template:then>\r\n\t\t\t\t\t\t\t\t\t<template:else>\r\n\t\t\t\t\t\t\t\t\t\t<core:Icon id="linkListIcon--{contentRow>id}" size="128px" src="{contentRow>imageUri}" tooltip="{contentRow>toolTip}" useIconTooltip="false" press="onLinkListActionPressLocalData" app:dataAction="{contentRow>dataAction}"/>\r\n\t\t\t\t\t\t\t\t\t</template:else>\r\n\t\t\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t\t\t</template:then>\r\n\t\t\t\t\t\t\t<template:else>\r\n\t\t\t\t\t\t\t\t<template:if test="{path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'}">\r\n\t\t\t\t\t\t\t\t\t<template:then>\r\n                                        <HBox class="sapMCrslItemTableCell sapOVPCarouselImageContainer" alignItems="Center" justifyContent="Center">\r\n                                            <Image id="linkListImage--{contentRow>id}" alt="{contentRow>imageAltText}" tooltip="{contentRow>toolTip}" app:targetUri="{contentRow>targetUri}" app:openInNewWindow="{contentRow>openInNewWindow}"\r\n                                                densityAware="true" press="onLinkListItemPressLocalData"\r\n                                                src="{path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.formatUrl\'}"></Image>\r\n                                        </HBox>\r\n\t\t\t\t\t\t\t\t\t</template:then>\r\n\t\t\t\t\t\t\t\t\t<template:else>\r\n\t\t\t\t\t\t\t\t\t\t<core:Icon id="linkListIcon--{contentRow>id}" size="128px" src="{contentRow>imageUri}" tooltip="{contentRow>toolTip}" useIconTooltip="false" press="onLinkListItemPressLocalData" app:targetUri="{contentRow>targetUri}"\r\n\t\t\t\t\t\t\t\t\t\t\tapp:openInNewWindow="{contentRow>openInNewWindow}"/>\r\n\t\t\t\t\t\t\t\t\t</template:else>\r\n\t\t\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t\t\t</template:else>\r\n\t\t\t\t\t\t</template:if>\r\n\t\t\t\t\t</VBox>\r\n\t\t\t\t</template:repeat>\r\n\t\t\t</pages>\r\n            <customData>\r\n                <ovp:CustomData key="aria-live" value="assertive" writeToDom="true" />\r\n            </customData>\r\n\t\t</Carousel>\r\n\t</VBox>\r\n</core:FragmentDefinition>',
	"sap/ovp/cards/linklist/fragments/LinkListStaticDataStandard.fragment.xml":'<core:FragmentDefinition xmlns:build="sap.build" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:ovp="sap.ovp.ui"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:smartlink="sap.ui.comp.navpopover"\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m">\n\t<HBox id="ovpListRow" class="sapOvpLinkListStandardHBox">\n\t\t<List id="ovpLinkList"\n\t\t\tclass="{= ${ovpCardProperties>/densityStyle} === \'cozy\' ? \'sapOvpLinkListStandardPaddingCozy\' : \'sapOvpLinkListStandardPaddingCompact\' } cardType"\n\t\t\tshowSeparators="None">\n            <customData>\n                <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>linkListType}" writeToDom="true" />\n            </customData>\n\t\t\t<items>\n                    <template:repeat list="{ovpCardProperties>/staticContent}" var="contentRow">\n                        <CustomListItem id="{contentRow>id}" type="Active"\n                                        press="{= ${contentRow>semanticObject} &amp;&amp; ${contentRow>action} ? \'onLinkListSemanticObjectPressLocalData\' : ${contentRow>dataAction} ? \'onLinkListActionPressLocalData\' : ${contentRow>semanticObject} &amp;&amp; !${contentRow>action} ? \'\' : \'onLinkListItemPressLocalData\'}"\n                                        app:targetUri="{= ${contentRow>targetUri} ? ${contentRow>targetUri} : \'\'}"\n                                        app:openInNewWindow="{=${contentRow>openInNewWindow} ? ${contentRow>openInNewWindow} :\'\' }"\n                                        app:dataAction="{= ${contentRow>dataAction} ? ${contentRow>dataAction} : \'\'}"\n                                        app:contentRowIndex="{path: \'contentRow>\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.contentRowIndex\'}">\n                            <HBox\n                                    class="{= ${ovpCardProperties>/densityStyle} === \'cozy\' &amp;&amp; !${path: \'contentRow>imageUri\'} &amp;&amp; (${contentRow>title} &amp;&amp; !${contentRow>subTitle}) ? \'sapOvpCozyTitle\'\n: ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; ${path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true &amp;&amp; (${contentRow>title} &amp;&amp; !${contentRow>subTitle}) ? \'sapOvpCozyTitleImage\'\n: ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; ${path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false &amp;&amp; (${contentRow>title} &amp;&amp; !${contentRow>subTitle}) ? \'sapOvpCozyTitleIcon\'\n: ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; !${path: \'contentRow>imageUri\'} &amp;&amp; (${contentRow>title} &amp;&amp; ${contentRow>subTitle}) ? \'sapOvpCozyTitleSubtitle\'\n: ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; ${path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true &amp;&amp; (${contentRow>title} &amp;&amp; ${contentRow>subTitle}) ? \'sapOvpCozyTitleImageSubtitle\'\n: ( ${ovpCardProperties>/densityStyle} === \'cozy\') &amp;&amp; ${path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false &amp;&amp; (${contentRow>title} &amp;&amp; ${contentRow>subTitle}) ? \'sapOvpCozyTitleIconSubtitle\'\n: ${ovpCardProperties>/densityStyle} === \'compact\' &amp;&amp; !${path: \'contentRow>imageUri\'} &amp;&amp; (${contentRow>title} &amp;&amp; !${contentRow>subTitle}) ? \'sapOvpCompactTitle\'\n: ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; ${path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true &amp;&amp; (${contentRow>title} &amp;&amp; !${contentRow>subTitle}) ? \'sapOvpCompactTitleImage\'\n: ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; ${path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false &amp;&amp; (${contentRow>title} &amp;&amp; !${contentRow>subTitle}) ? \'sapOvpCompactTitleIcon\'\n: ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; !${path: \'contentRow>imageUri\'} &amp;&amp; (${contentRow>title} &amp;&amp; ${contentRow>subTitle}) ? \'sapOvpCompactTitleSubtitle\'\n: ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; ${path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true &amp;&amp; (${contentRow>title} &amp;&amp; ${contentRow>subTitle}) ? \'sapOvpCompactTitleImageSubtitle\'\n: ( ${ovpCardProperties>/densityStyle} === \'compact\') &amp;&amp; ${path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false &amp;&amp; (${contentRow>title} &amp;&amp; ${contentRow>subTitle}) ? \'sapOvpCompactTitleIconSubtitle\'\n: \'ovpDefaultClass\'}">\n                                <template:if\n                                        test="{path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'}">\n                                    <template:then>\n                                        <VBox class="sapOvpLinkListItem {= ${ovpCardProperties>/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemImageCozy\' : \'sapOvpLinkListItemImageCompact\' }">\n                                            <template:if test="{= ${ovpCardProperties>/densityStyle} === \'cozy\'}">\n                                                <template:then>\n                                                    <FlexBox height="40px">\n                                                        <Image id="linkListImage--{contentRow>id}"\n                                                               class="sapUiSmallMarginEnd"\n                                                               alt="{contentRow>imageAltText}"\n                                                               tooltip="{contentRow>toolTip}" densityAware="true"\n                                                               width="40px" height="40px"\n                                                               backgroundPosition="center center" mode="Background"\n                                                               src="{path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.formatUrl\'}"></Image>\n                                                    </FlexBox>\n                                                </template:then>\n                                                <template:else>\n                                                    <FlexBox height="40px">\n                                                        <Image id="linkListImage--{contentRow>id}"\n                                                               class="sapUiSmallMarginEnd"\n                                                               alt="{contentRow>imageAltText}"\n                                                               tooltip="{contentRow>toolTip}" densityAware="true"\n                                                               width="36px" height="36px"\n                                                               backgroundPosition="center center" mode="Background"\n                                                               src="{path: \'contentRow>imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.formatUrl\'}"></Image>\n                                                    </FlexBox>\n                                                </template:else>\n                                            </template:if>\n                                        </VBox>\n                                    </template:then>\n                                    <template:elseif test="{contentRow>imageUri}">\n                                        <VBox class="sapOvpLinkListItem {= ${ovpCardProperties>/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemIconCozy\' : \'sapOvpLinkListItemIconCompact\' }">\n                                            <FlexBox height="40px">\n                                                <core:Icon id="linkListIcon--{contentRow>id}"\n                                                           class="sapOvpLinkListImageCenter"\n                                                           tooltip="{contentRow>toolTip}" useIconTooltip="false"\n                                                           size="22px" src="{contentRow>imageUri}"/>\n                                            </FlexBox>\n                                        </VBox>\n                                    </template:elseif>\n                                </template:if>\n                                <!--Action calls a function import-->\n                                <template:if test="{contentRow>dataAction}">\n                                    <template:then>\n                                        <VBox class="sapOvpLinkListItem">\n                                            <Label id="linkListTitleLabel--{contentRow>id}"\n                                                   text="{contentRow>title}"\n                                                   class="{= ${contentRow>subTitle} || !${contentRow>subTitle} &amp;&amp; !${contentRow>imageUri} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"/>\n                                            <Label id="linkListSubTitleLabel--{contentRow>id}" class="sapOvpCardLinkListSubTitle" text="{contentRow>subTitle}"/>\n                                        </VBox>\n                                    </template:then>\n                                    <!--Action for CrossAppNavigation with SemanticObject & action-->\n                                    <template:elseif\n                                            test="{= ${contentRow>semanticObject} &amp;&amp; ${contentRow>action} }">\n                                        <VBox class="sapOvpLinkListItem">\n                                            <Label id="linkListTitleLabel--{contentRow>id}"\n                                                   text="{contentRow>title}"\n                                                   class="{= ${contentRow>subTitle} || !${contentRow>subTitle} &amp;&amp; !${contentRow>imageUri} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"/>\n                                            <Label id="linkListSubTitleLabel--{contentRow>id}" class="sapOvpCardLinkListSubTitle" text="{contentRow>subTitle}"/>\n                                        </VBox>\n                                    </template:elseif>\n                                    <!--Action for CrossAppNavigation with SmartLink if only SemanticObject is provided -->\n                                    <!--<template:elseif test="{= ${contentRow>semanticObject} &amp;&amp; !${contentRow>action} }">\n                                        <VBox class="sapOvpLinkListItem smartLinkVbox">\n                                            <smartlink:SmartLink text="{contentRow>title}"\n                                                fieldName="{contentRow>semanticObject}"\n                                                semanticObject="{contentRow>semanticObject}"\n                                                semanticObjectLabel="{contentRow>title}"\n                                                class="{= ${contentRow>subTitle} || !${contentRow>subTitle} &amp;&amp; !${contentRow>imageUri} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"/>\n                                            <smartlink:SmartLink text="{contentRow>subTitle}"\n                                                                 fieldName="{contentRow>semanticObject}"\n                                                                 semanticObject="{contentRow>semanticObject}"\n                                                                 semanticObjectLabel="{contentRow>title}"\n                                                            class="smartLinkSubtitle"/>\n\n                                            <Label class="sapOvpCardLinkListSubTitle" text="{contentRow>subTitle}"/>\n                                        </VBox>\n                                    </template:elseif>-->\n                                    <!--Action for navigation to external target-->\n                                    <template:else>\n                                        <VBox class="sapOvpLinkListItem {= ${ovpCardProperties>/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemCozy\' : \'sapOvpLinkListItemCompact\' }">\n                                            <Label id="linkListTitleLabel--{contentRow>id}"\n                                                   text="{contentRow>title}"\n                                                   class="{= ${contentRow>subTitle} || !${contentRow>subTitle} &amp;&amp; !${contentRow>imageUri} ? \'sapOvpCardLinkListTitle\' : \'sapOvpCardLinkListTitleOnly\'}"/>\n                                            <Label id="linkListSubTitleLabel--{contentRow>id}" class="sapOvpCardLinkListSubTitle" text="{contentRow>subTitle}"/>\n                                        </VBox>\n                                    </template:else>\n                                </template:if>\n                            </HBox>\n                        </CustomListItem>\n                    </template:repeat>\n\t\t\t</items>\n\t\t</List>\n\t</HBox>\n</core:FragmentDefinition>',
	"sap/ovp/cards/list/CondensedBarList.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n        xmlns:build="sap.build"\n        xmlns:sfi="sap.ui.comp.smartfield"\n        xmlns:navpopover="sap.ui.comp.navpopover"\n        xmlns:micro="sap.suite.ui.microchart">\n\n    <items>\n        <CustomListItem\n                id="listItem"\n                type="Active"\n                press="onListItemPress"\n                class="sapOvpBarList sapOvpBarCondensedList"\n                build:metadata="#pattern:GenericCard>CondensedBarList;set:ovpCardProperties>/annotationPath:com.sap.vocabularies.UI.v1.LineItem;set:ovpCardProperties>/listFlavor:bar">\n            <template:if\n                    test="{parts:[{path:\'entitySet>\'}, {path:\'lineItem>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField\'}">\n                <template:then>\n                    <navpopover:SmartLink\n                            class="sapOvpBarListDataField sapOvpOverflowEllipsisDataField sapOvpBarListTitle"\n                            text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                            semanticObject="{parts:[{path:\'entitySet>\'}, {path:\'lineItem>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField\'}">\n                    </navpopover:SmartLink>\n                </template:then>\n                <template:else>\n                    <Text\n                            id="DataField"\n                            class="sapOvpBarListDataField sapOvpOverflowEllipsisDataField sapOvpBarListTitle"\n                            text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                            build:metadata="#pattern:GenericCard>CondensedBarList;prop::ItemFirstAttribute:\\{lineItem>/0/Value\\};"/>\n                </template:else>\n            </template:if>\n            <HBox class="sapOvpBarListHBox sapOvpBarStandardList">\n                <micro:ComparisonMicroChart \n                                            id= "BarChartDataPoint"\n                                            class="sapOvpBarListComparisonMicroChartAlignment" width="100%"\n                                            shrinkable="true"\n                                            colorPalette="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.colorPaletteForComparisonMicroChart\'}"\n                                            minValue="{minMaxModel>/minValue}"\n                                            maxValue="{minMaxModel>/maxValue}"> \n                    <micro:data> \n                        <micro:ComparisonMicroChartData displayValue=" "\n                                                        value="{= \'{path: \\\'\' + ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getFirstDataPointValue\'} + \'\\\', formatter: \\\'.returnBarChartValue\\\'}\' }"\n                                                        color="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointColor\'}">\n\n                        </micro:ComparisonMicroChartData>\n\n                    </micro:data>\n\n                </micro:ComparisonMicroChart>\n                <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0}" >\n                    <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointPercentageUnit\'}}" >\n                        <template:then>\n                            <ObjectNumber\n                                    id="DataPoint1"\n                                    class="sapOvpBarListObjectNumber sapOvpBarListSubDataField sapOvpBarListObjectNumberPercentage"\n                                    textAlign="End"\n                                    number="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}"/>\n                        </template:then>\n                        <template:else>\n                            <ObjectNumber\n                                    id="DataPoint1"\n                                    class="sapOvpBarListObjectNumber sapOvpBarListSubDataField sapOvpObjectNumber"\n                                    textAlign="End"\n                                    state="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'}"\n                                    number="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}"\n                                    unit="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"/>\n                        </template:else>\n                    </template:if>\n                </template:if>\n\n                <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstContactAnnotation\'} === true}">\n                    <template:then>\n                        <template:repeat list="{path:\'lineItem>\'}" var="dataField">\n                            <template:if\n                                    test="{= ${dataField>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                <template:then>\n                                    <template:if\n                                            test="{= ${dataField>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0}">\n                                        <template:then>\n                                            <template:with path="dataField>Target"\n                                                           helper="sap.ui.model.odata.AnnotationHelper.resolvePath"\n                                                           var="contact">\n                                                <VBox class="textAlignRight">\n                                                <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                               type="XML"/>\n                                                <Link binding="{= ${ path: \'dataField>Target/AnnotationPath\'}.indexOf(\'/\') > -1 ? \'{\' + ${path: \'dataField>Target/AnnotationPath\'}.slice(0, ${ path: \'dataField>Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}"\n                                                      text="{path: \'contact>fn\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                      press="onContactDetailsLinkPress">\n                                                </Link>\n                                                </VBox>\n                                            </template:with>\n                                        </template:then>\n                                    </template:if>\n                                </template:then>\n                            </template:if>\n                        </template:repeat>\n                    </template:then>\n                    <template:else>\n                        <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 1}" >\n                            <ObjectNumber\n                                    id="DataPoint2"\n                                    class="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} === \'None\' ?\n                                            \'sapOvpBarListObjectNumber sapOvpBarListSubDataField\' : \'sapOvpBarListObjectNumber sapOvpBarListSubDataField sapOvpBarListObjectNumberWithoutState\'} sapOvpObjectNumber"\n                                    textAlign="End"\n                                    number="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataPointIndex\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}"\n                                    state="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatSecondDataPointState\'}"\n                                    unit="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"\n                                    build:metadata="#pattern:GenericCard>CondensedBarList;prop::ItemSecondNumberAttribute:\\{lineItem>/2/Target@@Value\\};prop::ItemSecondAttributeToleranceRangeLowValue:\\{lineItem>/2/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemSecondAttributeDeviationRangeLowValue:\\{lineItem>/2/Target@@CriticalityCalculation/DeviationRangeLowValue\\}"/>\n                        </template:if>\n                    </template:else>\n                </template:if>\n            </HBox>\n        </CustomListItem>\n    </items>\n\n</core:FragmentDefinition>\n',
	"sap/ovp/cards/list/ExtendedBarList.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n        xmlns:build="sap.build"\n        xmlns:sfi="sap.ui.comp.smartfield"\n        xmlns:navpopover="sap.ui.comp.navpopover"\n        xmlns:micro="sap.suite.ui.microchart">\n\n    <items>\n        <CustomListItem\n                id="listItem"\n                type="Active"\n                press="onListItemPress"\n                build:metadata="#pattern:GenericCard>ExtendedBarList;set:ovpCardProperties>/annotationPath:com.sap.vocabularies.UI.v1.LineItem;set:ovpCardProperties>/listType:extended;set:ovpCardProperties>/listFlavor:bar">\n            <HBox class="sapOvpBarListHBox sapOvpExtendedBarListHBox">\n                <VBox class="sapOvpBarListVBoxLeft">\n                    <!-- if first data field contain semantic object then smartlink to show semantic object info else  first data field value -->\n                    <template:if\n                            test="{parts:[{path:\'entitySet>\'}, {path:\'lineItem>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField\'}">\n                        <template:then>\n                            <navpopover:SmartLink\n                                    class="sapOvpExtendedBarListFirstDataField sapOvpOverflowEllipsisDataField"\n                                    text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                    semanticObject="{parts:[{path:\'entitySet>\'}, {path:\'lineItem>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField\'}">\n                            </navpopover:SmartLink>\n                        </template:then>\n                        <template:else>\n                            <Text\n                                    id="DataField1"\n                                    class="sapOvpExtendedBarListFirstDataField sapOvpOverflowEllipsisDataField"\n                                    text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                    build:metadata="#pattern:GenericCard>ExtendedBarList;prop::ItemFirstAttribute:\\{lineItem>/0/Value\\};"/>\n                        </template:else>\n                    </template:if>\n                    <!-- if second data field contain semantic object then smartlink to show semantic object info else  second data field value -->\n                    <template:if\n                            test="{parts:[{path:\'entitySet>\'}, {path:\'lineItem>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.semanticObjectOfSecondDataField\'}">\n                        <template:then>\n                            <navpopover:SmartLink\n                                    class="sapOvpExtendedBarListFirstDataField sapOvpOverflowEllipsisDataField"\n                                    text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                    semanticObject="{parts:[{path:\'entitySet>\'}, {path:\'lineItem>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.semanticObjectOfSecondDataField\'}">\n                            </navpopover:SmartLink>\n                        </template:then>\n                        <template:else>\n                            <Text\n                                    id="DataField2"\n                                    class="sapOvpBarListDataField sapOvpBarListSubDataField sapOvpExtendedBarListBlock sapOvpOverflowEllipsisDataField"\n                                    text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                    build:metadata="#pattern:GenericCard>ExtendedBarList;prop::ItemSecondAttribute:\\{lineItem>/1/Value\\};"/>\n                        </template:else>\n                    </template:if>\n\n                    <layoutData>\n                        <FlexItemData\n                                growFactor="1"/>\n                    </layoutData>\n                    <micro:ComparisonMicroChart id="BarChartDataPoint" class="sapOvpBarListComparisonMicroChartAlignment" width="100%" height="1rem"\n                            colorPalette="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.colorPaletteForComparisonMicroChart\'}"\n                            minValue="{minMaxModel>/minValue}"\n                            maxValue="{minMaxModel>/maxValue}">\n                        <micro:data>\n                            <micro:ComparisonMicroChartData displayValue=" "\n                                                            value="{= \'{path: \\\'\' + ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getFirstDataPointValue\'} + \'\\\', formatter: \\\'.returnBarChartValue\\\'}\' }"\n                                                            color="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointColor\'}">\n                            </micro:ComparisonMicroChartData>\n                        </micro:data>\n                    </micro:ComparisonMicroChart>\n\n                </VBox>\n                <VBox class="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0 ? \'sapOvpBarListVBoxRight\' : \'sapOvpListEmptyField\'}">\n                    <!-- if contact annotation then show link to display contact detail else second data point value -->\n                    <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstContactAnnotation\'} === true}">\n                        <template:then>\n                            <template:repeat list="{path:\'lineItem>\'}" var="dataField">\n                                <template:if\n                                        test="{= ${dataField>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                    <template:then>\n                                        <template:if\n                                                test="{= ${dataField>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0}">\n                                            <template:then>\n                                                <template:with path="dataField>Target"\n                                                               helper="sap.ui.model.odata.AnnotationHelper.resolvePath"\n                                                               var="contact">\n                                                    <VBox class="textAlignRight" width="100%">\n                                                        <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                                       type="XML"/>\n                                                        <Link binding="{= ${ path: \'dataField>Target/AnnotationPath\'}.indexOf(\'/\') > -1 ? \'{\' + ${path: \'dataField>Target/AnnotationPath\'}.slice(0, ${ path: \'dataField>Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}"\n                                                              text="{path: \'contact>fn\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                              textAlign="Right"\n                                                              press="onContactDetailsLinkPress">\n                                                        </Link>\n                                                    </VBox>\n                                                </template:with>\n                                            </template:then>\n                                        </template:if>\n                                    </template:then>\n                                </template:if>\n                            </template:repeat>\n                        </template:then>\n                        <template:else>\n                            <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 1}" >\n                                <ObjectNumber\n                                        id="DataPoint2"\n                                        class="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} === \'None\' ?\n                                            \'sapOvpBarListObjectNumber\' : \'sapOvpBarListObjectNumber sapOvpBarListObjectNumberWithoutState\'} sapOvpObjectNumber"\n                                        textAlign="End"\n                                        number="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataPointIndex\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}"\n                                        unit="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"\n                                        state="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatSecondDataPointState\'}"\n                                        build:metadata="#pattern:GenericCard>ExtendedBarList;prop::ItemThirdAttribute:\\{lineItem>/3/Target@@Value\\};prop::ItemThirdAttributeToleranceRangeLowValue:\\{lineItem>/3/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemThirdAttributeDeviationRangeLowValue:\\{lineItem>/3/Target@@CriticalityCalculation/DeviationRangeLowValue\\}"/>\n                            </template:if>\n                        </template:else>\n                    </template:if>\n                    <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 2}" >\n                        <ObjectNumber\n                                id="DataPoint3"\n                                class="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} === \'None\' ?\n                                            \'sapOvpBarListObjectNumber\' : \'sapOvpBarListObjectNumber sapOvpBarListObjectNumberWithoutState\'} sapOvpObjectNumber"\n                                textAlign="End"\n                                number="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/thirdDataPointIndex\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}"\n                                unit="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/thirdDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"\n                                state="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatThirdDataPointState\'}"\n                                build:metadata="#pattern:GenericCard>ExtendedBarList;prop::ItemFourthAttribute:\\{lineItem>/4/Target@@Value\\}"/>\n                    </template:if>\n                    <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointPercentageUnit\'}}" >\n                        <template:then>\n                            <ObjectNumber\n                                    id="BarChartValue"\n                                    class="sapOvpBarListObjectNumber sapOvpBarListObjectNumberPercentage sapOvpObjectNumber"\n                                    textAlign="End"\n                                    number="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}"\n                                    build:metadata="#pattern:GenericCard>ExtendedBarList;prop::ItemProgressBarValue:\\{lineItem>/2/Target@@Value\\}"/>\n                        </template:then>\n                        <template:else>\n                            <ObjectNumber\n                                    id="BarChartStateValue"\n                                    class="sapOvpBarListObjectNumber valueStateText "\n                                    textAlign="End"\n                                    number="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}"\n                                    unit="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"\n                                    state="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'}">\n                            </ObjectNumber>\n                        </template:else>\n                    </template:if>\n                </VBox>\n            </HBox>\n\n        </CustomListItem>\n    </items>\n\n</core:FragmentDefinition>\n',
	"sap/ovp/cards/list/List.fragment.xml":'<core:FragmentDefinition\r\n        xmlns="sap.m"\r\n        xmlns:core="sap.ui.core"\r\n        xmlns:ovp="sap.ovp.ui"\r\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\r\n\r\n    <template:if test="{= ${ovpCardProperties>/imageSupported} &amp;&amp; ${ovpCardProperties>/listType} === \'condensed\' }" >\r\n\r\n        <template:then>\r\n            <core:Fragment fragmentName="sap.ovp.cards.list.StandardListImage" type="XML"/>\r\n        </template:then>\r\n\r\n        <template:else>\r\n            <List id="ovpList" items="{parts:[{path:\'entitySet>\'}, {path:\'ovpCardProperties>/annotationPath\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatItems\'}" class = "cardType">\r\n                <template:with path=\'ovpCardProperties>/annotationPath\' helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'lineItem\'>\r\n                    <template:if test="{= ${ovpCardProperties>/listType} === \'extended\'}" >\r\n                        <template:then>\r\n                            <template:if test="{= ${ovpCardProperties>/listFlavor} === \'bar\'}" >\r\n                                <template:then>\r\n                                    <customData>\r\n                                        <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>barChartCard}" writeToDom="true" />\r\n                                    </customData>\r\n                                    <core:Fragment fragmentName="sap.ovp.cards.list.ExtendedBarList" type="XML"/>\r\n                                </template:then>\r\n                                <template:else>\r\n                                    <customData>\r\n                                        <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>listCard}" writeToDom="true" />\r\n                                    </customData>\r\n                                    <core:Fragment fragmentName="sap.ovp.cards.list.ObjectList" type="XML"/>\r\n                                </template:else>\r\n                            </template:if>\r\n                        </template:then>\r\n                        <template:else>\r\n                            <template:if test="{= ${ovpCardProperties>/listFlavor} === \'bar\'}" >\r\n                                <template:then>\r\n                                    <customData>\r\n                                        <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>barChartCard}" writeToDom="true" />\r\n                                    </customData>\r\n                                    <core:Fragment fragmentName="sap.ovp.cards.list.CondensedBarList" type="XML"/>\r\n                                </template:then>\r\n                                <template:else>\r\n                                    <customData>\r\n                                        <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>listCard}" writeToDom="true" />\r\n                                    </customData>\r\n                                    <core:Fragment fragmentName="sap.ovp.cards.list.StandardList" type="XML"/>\r\n                                </template:else>\r\n                            </template:if>\r\n                        </template:else>\r\n                    </template:if>\r\n                </template:with>\r\n            </List>\r\n        </template:else>\r\n\r\n    </template:if>\r\n\r\n</core:FragmentDefinition>',
	"sap/ovp/cards/list/ObjectList.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n        xmlns:build="sap.build">\n\n    <items>\n        <!-- Title is first Row first Column -->\n        <!-- number is first Row second Column -->\n        <ObjectListItem\n                id="listItem"\n                class="sapOvpObjectListItem sapOvpListFragment"\n                title="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                number="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}, {path:\'ovpConstants>/thirdDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointOrField\'}"\n                numberState="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0 ? ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} : \'None\' }"\n                type="Active"\n                press="onListItemPress"\n                build:metadata="#pattern:GenericCard>ObjectList;prop::ItemTitle:\\{lineItem>/0/Value\\};prop::ItemNumber:\\{lineItem>/3/Target@@Value\\};prop::ItemNumberToleranceRangeLowValue:\\{lineItem>/3/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemNumberDeviationRangeLowValue:\\{lineItem>/3/Target@@CriticalityCalculation/DeviationRangeLowValue\\};set:ovpCardProperties>/annotationPath:com.sap.vocabularies.UI.v1.LineItem;set:ovpCardProperties>/listType:extended" >\n            <attributes>\n                <!--This is second Row first Column -->\n                <ObjectAttribute id="listItem2Row1Column"\n                                 text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                 build:metadata="#pattern:GenericCard>ObjectList;prop::ItemFirstAttribute:\\{lineItem>/1/Value\\};"/>\n                <!--This is third Row first Column -->\n                <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 1}" >\n                    <template:then>\n                        <ObjectAttribute id="listItem3row1column"\n                                         text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/thirdDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                         build:metadata="#pattern:GenericCard>ObjectList;prop::ItemSecondAttribute:\\{lineItem>/2/Value\\};"/>\n                    </template:then>\n                    <template:else>\n                        <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0}" >\n                            <template:then>\n                                <ObjectAttribute id="listItem3row1column"\n                                                 text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/fourthDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"/>\n                            </template:then>\n                            <template:else>\n                                <ObjectAttribute id="listItem3row1column" text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/fifthDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"/>\n                            </template:else>\n                        </template:if>\n                    </template:else>\n                </template:if>\n            </attributes>\n            <!-- This is Second Row Second Column -->\n            <firstStatus>\n                <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 1}" >\n                    <template:then>\n                        <ObjectStatus\n                                id="listItem2row2column"\n                                text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}"\n                                state="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatSecondDataPointState\'}"\n                                build:metadata="#pattern:GenericCard>ObjectList;prop::ItemFirstStatus:\\{lineItem>/4/Target@@Value\\};prop::ItemFirstStatusToleranceRangeLowValue:\\{lineItem>/4/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemFirstStatusDeviationRangeLowValue:\\{lineItem>/4/Target@@CriticalityCalculation/DeviationRangeLowValue\\};"/>\n                    </template:then>\n                    <template:else>\n                        <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0}" >\n                            <template:then>\n                                <ObjectStatus\n                                        id="listItem2row2column"\n                                        text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/thirdDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                        state="None" />\n                            </template:then>\n                            <template:else>\n                                <ObjectStatus\n                                        id="listItem2row2column"\n                                        text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/fourthDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                        state="None" />\n                            </template:else>\n                        </template:if>\n                    </template:else>\n                </template:if>\n            </firstStatus>\n            <!-- This is Third Row Second Column -->\n            <secondStatus>\n                <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 2}" >\n                    <template:then>\n                        <ObjectStatus\n                                id="listItem3row2column"\n                                text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/thirdDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}"\n                                state="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatThirdDataPointState\'}"\n                                build:metadata="#pattern:GenericCard>ObjectList;prop::ItemSecondStatus:\\{lineItem>/5/Target@@Value\\};prop::ItemSecondStatusToleranceRangeLowValue:\\{lineItem>/5/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemSecondStatusDeviationRangeLowValue:\\{lineItem>/5/Target@@CriticalityCalculation/DeviationRangeLowValue\\};"/>\n                    </template:then>\n                    <template:else>\n                        <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 1}" >\n                            <template:then>\n                                <ObjectStatus\n                                        id="listItem3row2column"\n                                        text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/fourthDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                        state="None" />\n                            </template:then>\n                            <template:else>\n                                <template:if test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0}" >\n                                    <template:then>\n                                        <ObjectStatus\n                                                id="listItem3row2column"\n                                                text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/fifthDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                                state="None" />\n                                    </template:then>\n                                    <template:else>\n                                        <ObjectStatus\n                                                id="listItem3row2column"\n                                                text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/sixthDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                                                state="None" />\n                                    </template:else>\n                                </template:if>\n                            </template:else>\n                        </template:if>\n                    </template:else>\n                </template:if>\n            </secondStatus>\n        </ObjectListItem>\n    </items>\n\n</core:FragmentDefinition>\n',
	"sap/ovp/cards/list/StandardList.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n        xmlns:build="sap.build">\n\n    <!-- for info: the formatter function checks the number of data points and if the data points are more than 0, then third data point is displayed. else first data point is displayed -->\n    <items>\n        <StandardListItem\n                id="listItem"\n                class="sapOvpStandardListItem"\n                title="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                description="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                info="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}, {path:\'ovpConstants>/thirdDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointOrField\'}"\n                infoState="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0 ? ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} : \'None\' }"\n                type="Active"\n                press="onListItemPress"\n                build:metadata="#pattern:GenericCard>StandardList;prop::ItemTitle:\\{lineItem>/0/Value\\};prop::ItemDescription:\\{lineItem>/1/Value\\};prop::ItemInfo:\\{lineItem>/2/Target@@Value\\};prop::ItemNumberToleranceRangeLowValue:\\{lineItem>/2/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemNumberDeviationRangeLowValue:\\{lineItem>/2/Target@@CriticalityCalculation/DeviationRangeLowValue\\};set:ovpCardProperties>/annotationPath:com.sap.vocabularies.UI.v1.LineItem">\n        </StandardListItem>\n    </items>\n\n</core:FragmentDefinition>\n',
	"sap/ovp/cards/list/StandardListImage.fragment.xml":'<core:FragmentDefinition\r\n        xmlns="sap.m"\r\n        xmlns:core="sap.ui.core"\r\n        xmlns:ovp="sap.ovp.ui"\r\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\r\n        xmlns:build="sap.build">\r\n\r\n    <List id="ovpList" items="{parts:[{path:\'entitySet>\'}, {path:\'ovpCardProperties>/annotationPath\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatItems\'}">\r\n\r\n        <template:with path=\'ovpCardProperties>/annotationPath\' helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'lineItem\'>\r\n                <customData>\r\n                    <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>imageListCardType}" writeToDom="true" />\r\n                </customData>\r\n                <items>\r\n                <!-- for info: the formatter function checks the number of data points and if the data points are more than 0, then third data point is displayed. else first data point is displayed -->\r\n                <StandardListItem\r\n                        id="listItem"\r\n                        class="sapOvpStandardListItem sapOvpStandardListItemImagesIcons"\r\n                        icon="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatImageUrl\'}"\r\n                        iconInset = "false"\r\n                        title="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\r\n                        description="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\r\n                        info="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}, {path:\'ovpConstants>/thirdDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointOrField\'}"\r\n                        infoState="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0 ? ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'} : \'None\' }"\r\n                        type="Active"\r\n                        press="onListItemPress"\r\n                        build:metadata="#pattern:GenericCard>StandardList;prop::ItemTitle:\\{lineItem>/0/Value\\};prop::ItemDescription:\\{lineItem>/1/Value\\};prop::ItemInfo:\\{lineItem>/2/Target@@Value\\};prop::ItemNumberToleranceRangeLowValue:\\{lineItem>/2/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::ItemNumberDeviationRangeLowValue:\\{lineItem>/2/Target@@CriticalityCalculation/DeviationRangeLowValue\\};set:ovpCardProperties>/annotationPath:com.sap.vocabularies.UI.v1.LineItem">\r\n                </StandardListItem>\r\n                </items>\r\n\r\n        </template:with>\r\n\r\n    </List>\r\n\r\n</core:FragmentDefinition>\r\n',
	"sap/ovp/cards/loading/LoadingBar.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?>\n\n<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui"\n\txmlns:sfi="sap.ui.comp.smartfield"\n\txmlns:template="http://schemas.sap.com/sapui3.5/extension/sap.ui.core.template/1"\n\tcontrollerName="sap.m.sample.Table.Table" xmlns:l="sap.ui.layout"\n\txmlns:mvc="sap.ui.core.mvc">\n\n\t<VBox class="colorVBox" height="3.91875rem">\n\t\t<HBox>\n\t\t\t<FlexBox class="sapOvpLoadingBar1" height="1rem" width="200px"></FlexBox>\n\t\t\t<FlexBox class="sapOvpLoadingBar2" height="1rem" width="0px"></FlexBox>\n\t\t</HBox>\n\t</VBox>\n\t<VBox class="colorVBox" height="3.91875rem">\n\t\t<HBox>\n\t\t\t<FlexBox class="sapOvpLoadingBar1" height="1rem" width="150px"></FlexBox>\n\t\t\t<FlexBox class="sapOvpLoadingBar2" height="1rem" width="50px"></FlexBox>\n\t\t</HBox>\n\t</VBox>\n\t<VBox class="colorVBox" height="3.91875rem">\n\t\t<HBox>\n\t\t\t<FlexBox class="sapOvpLoadingBar1" height="1rem" width="100px"></FlexBox>\n\t\t\t<FlexBox class="sapOvpLoadingBar2" height="1rem" width="100px"></FlexBox>\n\t\t</HBox>\n\t</VBox>\n\t<VBox class="colorVBox" height="6.11875rem">\n\t\t<HBox>\n\t\t\t<FlexBox class="sapOvpLoadingBar1" height="1rem" width="50px"></FlexBox>\n\t\t\t<FlexBox class="sapOvpLoadingBar2" height="1rem" width="150px"></FlexBox>\n\t\t</HBox>\n\t</VBox>\n\n</core:FragmentDefinition> ',
	"sap/ovp/cards/loading/LoadingContent.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n                         xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui"\r\n                         xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\r\n    <template:if\r\n            test="{= ${ovpCardProperties>/template} === \'sap.ovp.cards.stack\'}">\r\n        <template:then>\r\n            <template:if test="{= ${ovpCardProperties>/state} !== \'Error\'}">\r\n                <template:then>\r\n                    <core:Fragment fragmentName="sap.ovp.cards.loading.LoadingStack" type="XML" />\r\n                    <core:HTML id="sapOvpLoadingCanvas" content="&lt;canvas class=&quot;sapOvpLoadingCardsCanvas&quot;/&gt;"></core:HTML>\r\n                </template:then>\r\n                <template:else>\r\n                    <core:Fragment fragmentName="sap.ovp.cards.loading.StackLoadingError" type="XML" />\r\n                </template:else>\r\n            </template:if>\r\n        </template:then>\r\n        <template:else>\r\n            <template:if test="{= ${ovpCardProperties>/state} !== \'Error\'}">\r\n                <template:then>\r\n                    <VBox class="sapOvpLoadingHeaderVBox" height="9rem">\r\n                        <core:HTML content="&lt;svg width=&quot;100%&quot; height=&quot;148px&quot; viewbox=&quot;0 0 100 100&quot; preserveAspectRatio=&quot;none&quot; class=&quot;sapOvpLoadingCardsSVG&quot;&gt;&lt;polygon points=&quot;0 0, 0 100,7 100, 7 15,70 15, 70 25,7 25, 7 65,90 65, 90 75,7 75, 7 80,90 80, 90 90,7 90, 7 100,100 100,100 0&quot; style=&quot;fill: white;&quot;&gt;&lt;/polygon&gt;&lt;/svg&gt;">\r\n                        </core:HTML>\r\n                    </VBox>\r\n                    <template:if test="{= ${ovpCardProperties>/template} === \'sap.ovp.cards.table\'}">\r\n                        <template:then>\r\n                            <core:Fragment fragmentName="sap.ovp.cards.loading.LoadingTable" type="XML" />\r\n                        </template:then>\r\n                    </template:if>\r\n                    <template:if test="{= ${ovpCardProperties>/template} === \'sap.ovp.cards.list\'}">\r\n                        <template:then>\r\n                            <template:if test="{= ${ovpCardProperties>/listFlavor} === \'bar\'}">\r\n                                <template:then>\r\n                                    <core:Fragment fragmentName="sap.ovp.cards.loading.LoadingBar" type="XML" />\r\n                                </template:then>\r\n                                <template:else>\r\n                                    <core:Fragment fragmentName="sap.ovp.cards.loading.LoadingListExtended" type="XML" />\r\n                                </template:else>\r\n                            </template:if>\r\n                        </template:then>\r\n                    </template:if>\r\n                    <template:if test="{= ${ovpCardProperties>/template} === \'sap.ovp.cards.linklist\'}">\r\n                        <template:then>\r\n                            <core:Fragment fragmentName="sap.ovp.cards.loading.LoadingBar" type="XML" />\r\n                        </template:then>\r\n                    </template:if>\r\n                    <template:if test="{= ${ovpCardProperties>/template} === \'sap.ovp.cards.charts.analytical\'}">\r\n                        <template:then>\r\n                            <core:Fragment fragmentName="sap.ovp.cards.loading.LoadingBar" type="XML" />\r\n                        </template:then>\r\n                    </template:if>\r\n                    <VBox class="sapOvpLoadingHeaderVBox" height="3.125rem">\r\n                        <core:HTML content="&lt;svg width=&quot;100%&quot; height=&quot;50px&quot; viewbox=&quot;0 0 100 100&quot; preserveAspectRatio=&quot;none&quot; class=&quot;sapOvpLoadingCardsSVG&quot;&gt;&lt;polygon points=&quot;0 0,0 100,7 100,7 40,80 40,80 65,7 65,7 100,100 100,100 0&quot; style=&quot;fill: white;&quot;&gt;&lt;/polygon&gt;&lt;/svg&gt;">\r\n                        </core:HTML>\r\n                    </VBox>\r\n                    <core:HTML id="sapOvpLoadingCanvas" content="&lt;canvas class=&quot;sapOvpLoadingCardsCanvas&quot;/&gt;"></core:HTML>\r\n                </template:then>\r\n                <template:else>\r\n                    <core:Fragment fragmentName="sap.ovp.cards.loading.LoadingError" type="XML" />\r\n                </template:else>\r\n            </template:if>\r\n        </template:else>\r\n    </template:if>\r\n</core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingError.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui"\n\txmlns:sfi="sap.ui.comp.smartfield"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n\t<MessagePage icon="sap-icon://message-error" text="{ovplibResourceBundle>LOAD_DATA_ERROR_HEADER}"\n\t\tdescription="{ovplibResourceBundle>LOAD_DATA_ERROR_CONTENT}" class="contentOfError"\n\t\tsize="9rem" showHeader="false"></MessagePage>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingFooter.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:ovp="sap.ovp.ui">\n    <VBox id="ovpCardLoadingFooter">\n        <Text id="ovpLoadingFooter" width="100%" busy="false" class="sapOvpCardFooter">\n            <customData>\n                <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>errorCard}" writeToDom="true"/>\n                <ovp:CustomData key="role" value="heading" writeToDom="true"/>\n            </customData>\n        </Text>\n    </VBox>\n</core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingList.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui"\n\txmlns:sfi="sap.ui.comp.smartfield"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\t<HBox class="sapOvpLoadingListHBox">\n\t\t \t\t<HBox class="sapOvpLoadingListHBoxContent">\n        \t\t \t<FlexBox calss="sapOvpLoadingListContent1">\t\n\t\t\t\t\t</FlexBox>\n\t\t\t\t\t<FlexBox calss="sapOvpLoadingListContent2">\t\n\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\n\t\t\t\t</HBox>\n\t\t\t\t\t<FlexBox\n\t\t\t\t\t\talignItems="Start" direction="Column">\n\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t<Text text="1" width="90px" class="sapOvpLoadingTable" ></Text>\n\t\t\t\t\t\t\t\t<Text text="2" width="150px" class="sapOvpLoadingTable"></Text>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox\n\t\t\t\t\t\talignItems="Start" direction="Column">\n\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t<Text text="1" width="90px" class="sapOvpLoadingTable" ></Text>\n\t\t\t\t\t\t\t\t<Text text="2" width="150px" class="sapOvpLoadingTable"></Text>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox\n\t\t\t\t\t\talignItems="Start" direction="Column">\n\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t<Text text="1" width="90px" class="sapOvpLoadingTable" ></Text>\n\t\t\t\t\t\t\t\t<Text text="2" width="150px" class="sapOvpLoadingTable"></Text>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox\n\t\t\t\t\t\talignItems="Start" direction="Column">\n\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t<Text text="1" width="90px" class="sapOvpLoadingTable" ></Text>\n\t\t\t\t\t\t\t\t<Text text="2" width="150px" class="sapOvpLoadingTable"></Text>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\n\t</HBox>\n</core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingListExtended.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\t<items>\n\t\t<CustomListItem>\n\t\t\t<VBox class="sapOvpLoadingListVBox" height="3.575rem">\n\t\t\t\t<FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"></FlexBox>\n\t\t\t\t<FlexBox class="sapOvpLoadingListContentFlex" height="1rem"></FlexBox>\n\t\t\t</VBox>\n\t\t\t<VBox class="sapOvpLoadingListVBox" height="3.575rem">\n\t\t\t\t<FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"></FlexBox>\n\t\t\t\t<FlexBox class="sapOvpLoadingListContentFlex" height="1rem"></FlexBox>\n\t\t\t</VBox>\n\t\t\t<VBox class="sapOvpLoadingListVBox" height="3.575rem">\n\t\t\t\t<FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"></FlexBox>\n\t\t\t\t<FlexBox class="sapOvpLoadingListContentFlex" height="1rem"></FlexBox>\n\t\t\t</VBox>\n\t\t\t<VBox class="sapOvpLoadingListVBox" height="3.575rem">\n\t\t\t\t<FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"></FlexBox>\n\t\t\t\t<FlexBox class="sapOvpLoadingListContentFlex" height="1rem"></FlexBox>\n\t\t\t</VBox>\n\t\t\t<VBox class="sapOvpLoadingListVBox" height="3.575rem">\n\t\t\t\t<FlexBox class="sapOvpLoadingListTitleFlex" height="1rem"></FlexBox>\n\t\t\t\t<FlexBox class="sapOvpLoadingListContentFlex" height="1rem"></FlexBox>\n\t\t\t</VBox>\n\t\t</CustomListItem>\n\t</items>\n\n</core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingStack.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui"\n\txmlns:sfi="sap.ui.comp.smartfield"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\t<HBox class="sapOvpLoadingStackHBox" width="100%">\n            <VBox class="sapOvpLoadingStackVBoxLeft">\n\n                <core:HTML\n                        content="\n              &lt;svg width=&quot;100%&quot; height=&quot;176px&quot; viewbox=&quot;0 0 100 100&quot; preserveAspectRatio=&quot;none&quot; class=&quot;sapOvpLoadingCardsSVG&quot;&gt;\n              &lt;polygon points=&quot;0 0, 0 100,7 100,7 10, 70 10,70 20, 7 20,7 33, 90 33,90 43, 7 43,7 48, 90 48,90 58, 7 58,7 80, 90 80,90 90, 7 90,7 100, 100 100, 100 0&quot; style=&quot;fill: white;&quot;&gt;\n              &lt;/polygon&gt;\n              &lt;/svg&gt;"\n                        >\n\n                </core:HTML>\n\n\n            </VBox>\n            <VBox class="sapOvpLoadingStackVBoxRight">\n                <!--<FlexBox>-->\n                    <!--<Text></Text>-->\n                <!--</FlexBox>-->\n            </VBox>\n        </HBox>\n</core:FragmentDefinition>',
	"sap/ovp/cards/loading/LoadingTable.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?>\n\n<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui"\n\txmlns:sfi="sap.ui.comp.smartfield"\n\txmlns:template="http://schemas.sap.com/sapui3.5/extension/sap.ui.core.template/1"\n\tcontrollerName="sap.m.sample.Table.Table" xmlns:l="sap.ui.layout"\n\txmlns:mvc="sap.ui.core.mvc">\n\n\t<VBox>\n\t\t<HBox class="sapOvpLoadingTableVBox" height="3.575rem"\n\t\t\tjustifyContent="SpaceBetween">\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpTableRight" height="1rem" width="30%"></FlexBox>\n\t\t</HBox>\n\t\t<HBox class="sapOvpLoadingTableVBox" height="3.575rem"\n\t\t\tjustifyContent="SpaceBetween">\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpTableRight" height="1rem" width="30%"></FlexBox>\n\t\t</HBox>\n\t\t<HBox class="sapOvpLoadingTableVBox" height="3.575rem"\n\t\t\tjustifyContent="SpaceBetween">\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpTableRight" height="1rem" width="30%"></FlexBox>\n\t\t</HBox>\n\t\t<HBox class="sapOvpLoadingTableVBox" height="3.575rem"\n\t\t\tjustifyContent="SpaceBetween">\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpTableRight" height="1rem" width="30%"></FlexBox>\n\t\t</HBox>\n\t\t<HBox class="sapOvpLoadingTableVBox" height="3.575rem"\n\t\t\tjustifyContent="SpaceBetween">\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpLoadingFlex" height="1rem" width="30%"></FlexBox>\n\t\t\t<FlexBox class="sapOvpTableRight" height="1rem" width="30%"></FlexBox>\n\t\t</HBox>\n\t</VBox>\n\n</core:FragmentDefinition> ',
	"sap/ovp/cards/loading/StackLoadingError.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core" xmlns:build="sap.build" xmlns:ovp="sap.ovp.ui"\n\txmlns:sfi="sap.ui.comp.smartfield"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\t<MessagePage icon="sap-icon://message-error" text="{ovplibResourceBundle>LOAD_DATA_ERROR_HEADER}"\n\t\tdescription="{ovplibResourceBundle>LOAD_DATA_ERROR_CONTENT}" class="stackContentOfError"\n\t\tsize="6.5rem" showHeader="false"></MessagePage>\n</core:FragmentDefinition>',
	"sap/ovp/cards/map/Analytical/AnalyticalMap.fragment.xml":'<core:FragmentDefinition\n\txmlns:build="sap.build"\n\txmlns:core="sap.ui.core"\n\txmlns:lib="sap.ovp.cards.map.Analytical.AnalyticalMap"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:vbm="sap.ui.vbm"\n\txmlns:ovp="sap.ovp.ui">\n\n<template:with path=\'ovpCardProperties>/dynamicSubtitleAnnotationPath\'\n                               helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="header">\n\t<template:with path="ovpCardProperties>/dataPointAnnotationPath"\n\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="datapoint">\n\t\t\t<template:if test="{entitySet>name}">\n\t\t\t\t<vbm:AnalyticMap id="vbi" width="100%" height="25rem" regions="{= ${entitySet>name} ? \'{/\' + ${entitySet>name} + \'}\' : \'\' }" disableZoom="true" disablePan="true" class = "cardType">\n\t\t\t\t\t   \t<vbm:regions>\n\t\t\t\t\t\t<vbm:Region code="{path: \'datapoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.analyticRegions\'}"\n\t\t\t\t\t\t\t\t\tlabelText="{= ${header>Title/Value} ? ${path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }"\n\t\t\t\t\t\t\t\t\tclick="regionClick"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</vbm:regions>\n                        <vbm:customData>\n                            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>mapCardType}" writeToDom="true"/>\n                        </vbm:customData>\n\t\t\t\t</vbm:AnalyticMap>\n\t\t\t</template:if>\n\t</template:with>\n</template:with>\n</core:FragmentDefinition>\n',
	"sap/ovp/cards/map/GeographicalMap.fragment.xml":'<core:FragmentDefinition\n\txmlns:build="sap.build"\n\txmlns:core="sap.ui.core"\n\txmlns:lib="sap.ovp.cards.map.GeographicalMap"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:vbm="sap.ui.vbm"\n\txmlns:ovp="sap.ovp.ui">\n\t<!--Show Map -->\n\t<template:with path="entityType>com.sap.vocabularies.UI.v1.HeaderInfo" var="header">\n\n\t\t<template:with path="ovpCardProperties>/geoLocationAnnotationPath"\n\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="geoLocation">\n\t\t\t<template:with path="ovpCardProperties>/dataPointAnnotationPath"\n\t\thelper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="dataPoint">\n\t\t\t<template:if test="{entitySet>name}">\n\t\t\t\t<vbm:GeoMap id="oVBI" width="100%" height="25rem"\n\t\t\t\t\tdisableZoom="true" disablePan="true" class = "cardType">\n\t\t\t\t\t<vbm:Spots\n\t\t\t\t\t\tid="Spots"\n\t\t\t\t\t\titems="{= ${entitySet>name} ? \'{/\' + ${entitySet>name} + \'}\' : \'\' }">\n\t\t\t\t\t\t<vbm:Spot\n\t\t\t\t\t\t\tid="Spot"\n\t\t\t\t\t\t\tclick="onClickSpot"\n\t\t\t\t\t\t\ttype="{path: \'dataPoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.criticalityType\'}"\n\t\t\t\t\t\t\tlabelType="{path: \'dataPoint>\', formatter: \'sap.ovp.cards.AnnotationHelper.criticalityType\'}"\n\t\t\t\t\t\t\tposition="{path: \'geoLocation>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatterGeo\'} "\n\t\t\t\t\t\t\tlabelPos="1"\n\t\t\t\t\t\t\tlabelText="{= ${header>Title/Value} ? ${path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }" />\n\t\t\t\t\t</vbm:Spots>\n                    <vbm:customData>\n                        <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>mapCardType}" writeToDom="true"/>\n                    </vbm:customData>\n\t\t\t\t</vbm:GeoMap>\n\n\t\t\t\t<ResponsivePopover\n\t\t\t\tclass="quickViewResponsivePopover"\n\t\t\t\tid="quickViewPopover"\n\t\t\t\tcontentWidth="20rem"\n\t\t\t\tplacement="Auto"\n\t\t\t\tafterOpen="onAfterOpen">\n\t\t\t\t\t<customData>\n\t\t\t\t\t\t<ovp:CustomData key="tabindex" value="0" writeToDom="true"/>\n\t\t\t\t\t</customData>\n\t\t\t\t\t<customHeader>\n\t\t\t\t\t\t <Bar>\n\t\t\t\t\t\t\t  <contentMiddle>\n\t\t\t\t\t\t\t\t\t   <VBox\n\t\t\t\t\t\t\t\t\t\t\t   width="20rem"\n\t\t\t\t\t\t\t\t\t\t\t   class="mapPopoverHeader"\n\t\t\t\t\t\t\t\t\t\t\t   id="popoverHeader"\n\t\t\t\t\t\t\t\t\t\t\t   build:metadata="#pattern:GenericCard;isAbstract;prop::EntitySet:\\{ovpCardProperties>/entitySet\\}">\n\t\t\t\t\t\t\t\t\t\t\t   <customData>\n\t\t\t\t\t\t\t\t\t\t\t\t\t   <ovp:CustomData key="tabindex" value="0" writeToDom="true"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t   <ovp:CustomData key="role" value="button" writeToDom="true"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t   <ovp:CustomData key="aria-label" value="." writeToDom="true"/>\n\t\t\t\t\t\t\t\t\t\t\t   </customData>\n\t\t\t\t\t\t\t\t\t\t\t   <!--\n\t\t\t\t\t\t\t\t\t\t\t\t\t   For a Quickview card, the header is in the format "TypeName: Title".\n\t\t\t\t\t\t\t\t\t\t\t\t\t   TypeName is set in stack.controller and is hardcoded in the annotations.\n\t\t\t\t\t\t\t\t\t\t\t\t\t   Title comes from the data. Path to Title comes from annotation HeaderInfo/Title/Value.\n\t\t\t\t\t\t\t\t\t\t\t   -->\n\t\t\t\t\t\t\t\t\t\t\t   <Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   id="ovpQuickviewCardHeader"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   text="{= ${path: \'header>TypeName\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} + \': \' + ${path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   tooltip="{= ${path: \'header>TypeName\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} + \': \' + ${path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   class="sapOvpCardTitle tabindex-1 mapQuickViewHeaderText"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   build:metadata="#pattern:GenericCard;prop:text:Title">\n\t\t\t\t\t\t\t\t\t\t\t\t\t   <customData>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <ovp:CustomData key="aria-label" value="{= ${ovpCardProperties>/title} + \': \' + ${path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}}" writeToDom="true"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <ovp:CustomData key="role" value="heading" writeToDom="true"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t   </customData>\n\t\t\t\t\t\t\t\t\t\t\t   </Label>\n\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t</contentMiddle>\n\t\t\t\t\t   </Bar>\n\t\t\t\t\t</customHeader>\n\t\t\t\t\t<content>\n\t\t\t\t\t\t<core:Fragment fragmentName="sap.ovp.cards.quickview.Quickview" type="XML"/>\n\t\t\t\t\t   <!--\n\t\t\t\t\t\t\t   Footer area of the popover where the action buttons are\n\t\t\t\t\t   -->\n\t\t\t\t\t   <OverflowToolbar width="100%" class="mapQuickViewCardFooter">\n\t\t\t\t\t\t\t   <core:Fragment fragmentName="sap.ovp.cards.generic.ActionsFooter" type="XML"/>\n\t\t\t\t\t   </OverflowToolbar>\n\t\t\t\t\t</content>\n\t\t\t\t</ResponsivePopover>\n\n\t\t</template:if>\n\t\t</template:with>\n\t</template:with>\n\t</template:with>\n</core:FragmentDefinition>',
	"sap/ovp/cards/quickview/Quickview.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m" xmlns:l="sap.ui.layout"\n        xmlns:core="sap.ui.core"\n        xmlns:build="sap.build"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n    <QuickViewCard id="quickViewCard" class="sapMPanelContent sapOvpCardContent cardType">\n        <customData>\n            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>quickViewCard}" writeToDom="true" />\n        </customData>\n        <template:with path="entityType>com.sap.vocabularies.UI.v1.HeaderInfo" var="header">\n            <QuickViewPage\n                    pageId="quickViewPage"\n                    header="{= ${header>TypeNamePlural} ? ${path: \'header>TypeNamePlural\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }"\n                    icon="{= ${header>ImageUrl} ? ${path: \'header>ImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} : (${header>TypeImageUrl} ? ${path: \'header>TypeImageUrl\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} : \'\') }"\n                    title="{= ${header>Title/Value} ? ${path: \'header>Title/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }"\n                    description="{= ${header>Description/Value} ? ${path: \'header>Description/Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'} :  \'\' }"\n                    build:metadata="#pattern:GenericCard>StackCard;prop:icon:QuickviewImageUrl;prop:title:QuickviewTitle;prop:description:QuickviewDescription;set:entityType>com.sap.vocabularies.UI.v1.Facets/0/com.sap.vocabularies.UI.v1.IsSummary:">\n                <template:with path="ovpCardProperties>/annotationPath" helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var="facets">\n                    <template:repeat list="{path:\'facets>\'}" var="referenceFacet">\n                        <template:if test="{referenceFacet>com.sap.vocabularies.UI.v1.IsSummary}">\n                            <template:with path="referenceFacet>Target"\n                                           helper="sap.ui.model.odata.AnnotationHelper.resolvePath"\n                                           var="target">\n                                <QuickViewGroup\n                                        heading="{path: \'target>Label\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                        build:metadata="#pattern:GenericCard>StackCard;staticProp:heading:QuickviewFormHeading;condition:\\{target>AnnotationType:com.sap.vocabularies.UI.v1.FieldGroup\\}">\n                                    <template:repeat list="{path:\'target>Data\'}" var="dataField">\n                                        <template:if test="{dataField>Url}">\n                                            <template:then>\n                                                <template:if test="{dataField>Url/UrlRef}">\n                                                    <template:then>\n                                                        <QuickViewGroupElement\n                                                                label="{path: \'dataField>Label\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                value="{path: \'dataField>Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                url="{path: \'dataField>Url/UrlRef\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                type="link"\n                                                                build:metadata="#pattern:QuickViewGroupElement;staticProp:label:Label;prop:value:Value;prop:url:Url;staticProp::Type:\\{dataField>Value@@sap:semantics\\}">\n                                                        </QuickViewGroupElement>\n                                                    </template:then>\n                                                    <template:else>\n                                                        <QuickViewGroupElement\n                                                                label="{path: \'dataField>Label\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                value="{path: \'dataField>Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                url="{path: \'dataField>Url\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                type="link"\n                                                                build:metadata="#pattern:QuickViewGroupElement;staticProp:label:Label;prop:value:Value;prop:url:Url;staticProp::Type:\\{dataField>Value@@sap:semantics\\}">\n                                                        </QuickViewGroupElement>\n                                                    </template:else>\n                                                </template:if>\n                                            </template:then>\n                                            <template:else>\n                                                <template:if test="{dataField>Value}">\n                                                    <template:with path="dataField>Value"\n                                                                   helper="sap.ui.model.odata.AnnotationHelper.resolvePath"\n                                                                   var="fValue">\n                                                        <template:if test="{= ${fValue>sap:semantics} === \'url\'}">\n                                                            <template:then>\n                                                                <QuickViewGroupElement\n                                                                        label="{path: \'dataField>Label\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                        value="{path: \'dataField>Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                        url="{path: \'dataField>Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                        type="url">\n                                                                </QuickViewGroupElement>\n                                                            </template:then>\n                                                            <template:else>\n                                                                <template:if test="{= ${fValue>sap:semantics} === \'email\'}">\n                                                                    <template:then>\n                                                                        <QuickViewGroupElement\n                                                                                label="{path: \'dataField>Label\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                                value="{path: \'dataField>Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                                type="email">\n                                                                        </QuickViewGroupElement>\n                                                                    </template:then>\n                                                                    <template:else>\n                                                                        <template:if test="{= ${fValue>sap:semantics} === \'tel\'}">\n                                                                            <template:then>\n                                                                                <QuickViewGroupElement\n                                                                                        label="{path: \'dataField>Label\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                                        value="{path: \'dataField>Value\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                                        type="phone">\n                                                                                </QuickViewGroupElement>\n                                                                            </template:then>\n                                                                            <template:else>\n                                                                                <QuickViewGroupElement\n                                                                                        label="{path: \'dataField>Label\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                                                        value="{path: \'dataField>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatField\'}">\n                                                                                </QuickViewGroupElement>\n                                                                            </template:else>\n                                                                        </template:if>\n                                                                    </template:else>\n                                                                </template:if>\n                                                            </template:else>\n                                                        </template:if>\n                                                    </template:with>\n                                                </template:if>\n                                            </template:else>\n                                        </template:if>\n                                    </template:repeat>\n                                </QuickViewGroup>\n                            </template:with>\n                        </template:if>\n                    </template:repeat>\n                </template:with>\n            </QuickViewPage>\n        </template:with>\n    </QuickViewCard>\n</core:FragmentDefinition>\n',
	"sap/ovp/cards/rta/AppSettingsDialog.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core"\n           xmlns:f="sap.ui.layout.form"\n           xmlns:l="sap.ui.layout"\n           controllerName="sap.ovp.cards.rta.AppSettingsDialog">\n    <VBox class="sapOvpScrollContainer sapUiLargeMargin">\n        <f:Form editable="true">\n            <f:layout>\n                <f:ResponsiveGridLayout\n                        labelSpanXL="6" labelSpanL="6" labelSpanM="6" labelSpanS="6" adjustLabelSpan="false"\n                        emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"\n                        singleContainerFullSize="false" />\n            </f:layout>\n            <f:formContainers>\n                <f:FormContainer>\n                    <f:formElements>\n                        <f:FormElement label="{ovpResourceModel>showGlobalFilter}">\n                            <f:fields>\n                                <Switch state="{/showGlobalFilters}" type="Default" change="onChange" />\n                            </f:fields>\n                        </f:FormElement>\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LABEL_FILTER_ENTITY_TYPE}" visible="{/showGlobalFilters}">\n                            <f:fields>\n                                <ComboBox items="{path: \'/allEntityTypes\'}"\n                                        selectedKey= "{/globalFilterEntityType}"\n                                        forceSelection="false"\n                                        change="onChange" >\n                                    <core:Item key="{name}" text="{name}"/>\n                                </ComboBox>\n                            </f:fields>\n                        </f:FormElement>\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LABEL_LIVE_FILTER}" visible="{/showGlobalFilters}">\n                            <f:fields>\n                                <Switch state="{/enableLiveFilter}"  change="onChange" type="Default"  />\n                            </f:fields>\n                        </f:FormElement>\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LABEL_SMART_VARIANT}" visible="{/showGlobalFilters}">\n                            <f:fields>\n                                <Switch state="{/smartVariantRequired}"  change="onChange" type="Default"  />\n                            </f:fields>\n                        </f:FormElement>\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LABEL_CONTAINER_LAYOUT}">\n                            <f:fields>\n                                <SegmentedButton selectedKey="{/containerLayout}" select="onChange" >\n                                    <items>\n                                        <SegmentedButtonItem key="fixed"\n                                                             text="fixed" />\n                                        <SegmentedButtonItem key="resizable"\n                                                             text="resizable" />\n                                    </items>\n                                </SegmentedButton>\n                            </f:fields>\n                        </f:FormElement>\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LABEL_DATE_RANGE_TYPE}" visible="{/showGlobalFilters}">\n                            <f:fields>\n                                <Switch state="{/useDateRangeType}"  change="onChange" type="Default"  />\n                            </f:fields>\n                        </f:FormElement>\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LABEL_DATE_RELATIVE_FORMAT}">\n                            <f:fields>\n                                <Switch state="{/showDateInRelativeFormat}"  change="onChange" type="Default"  />\n                            </f:fields>\n                        </f:FormElement>\n\n                    </f:formElements>\n                </f:FormContainer>\n            </f:formContainers>\n        </f:Form>\n    </VBox>\n</mvc:View>',
	"sap/ovp/cards/rta/SettingsDialog.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n    xmlns:l="sap.ui.layout"\n\tcontrollerName="sap.ovp.cards.rta.SettingsDialog">\n\n    <OverflowToolbar width="100%" visible="{visibility>/viewSwitchEnabled}" class="sapOvpSettingsDialogOverFlowToolbar sapUiSmallMarginTopBottom">\n        <ToolbarSpacer/>\n            <Select enabled="{visibility>/showViewSwitch}"\n                    items="{\n                                path: \'/aViews\'\n                            }"\n                    selectedKey="{/selectedKey}" change="selectViewSwitch">\n                <core:Item key="{key}" text="{text}"/>\n            </Select>\n            <Button id="addView" text="{ovpResourceModel>OVP_KEYUSER_ADD_VIEW_BUTTON}" press="addView" type="Transparent"/>\n            <Button id="deleteView" enabled="{visibility>/showViewName}" type="Transparent"\n                    text="{ovpResourceModel>OVP_KEYUSER_DELETE_VIEW_BUTTON}" press="deleteView"/>\n        <ToolbarSpacer/>\n    </OverflowToolbar>\n\n    <template:if test="{= ${deviceSystemProperties>/phone}}" >\n        <template:then>\n            <Carousel>\n                <pages>\n                    <l:VerticalLayout>\n                        <core:Fragment fragmentName="sap.ovp.cards.rta.SettingsDialogCardPreview" type="XML"/>\n                    </l:VerticalLayout>\n                    <l:VerticalLayout>\n                        <core:Fragment fragmentName="sap.ovp.cards.rta.SettingsDialogForm" type="XML"/>\n                    </l:VerticalLayout>\n                </pages>\n            </Carousel>\n        </template:then>\n        <template:else>\n            <ScrollContainer\n                    id="SettingsDialogScrollContainerForForm"\n                    class="sapOvpScrollContainer"\n                    width="100%"\n                    horizontal="false"\n                    vertical="true"\n                    focusable="true">\n                <FlexBox id="dialogContainer" direction="{deviceMediaProperties>/deviceMedia}">\n                    <VBox id="dialogCardVBox">\n                        <core:Fragment fragmentName="sap.ovp.cards.rta.SettingsDialogCardPreview" type="XML"/>\n                    </VBox>\n                    <VBox id="sapOvpSettingsForm">\n                        <core:Fragment fragmentName="sap.ovp.cards.rta.SettingsDialogForm" type="XML"/>\n                    </VBox>\n                </FlexBox>\n            </ScrollContainer>\n        </template:else>\n    </template:if>\n</mvc:View>',
	"sap/ovp/cards/rta/SettingsDialogCardPreview.fragment.xml":'<core:FragmentDefinition\r\n                         xmlns:core="sap.ui.core"\r\n                         xmlns="sap.m">\r\n    <VBox class="sapUiSmallMarginTop sapUiSmallMarginBegin">\r\n        <HBox id="dialogCardOverlay" class="dialogCardVBox dialogCardOverlay">\r\n            <core:ComponentContainer id="dialogCard" busyIndicatorDelay="0" busy="true" visible="{visibility>/cardPreview}"/>\r\n            <MessagePage id="dialogCardNoPreview" visible="{= !${visibility>/cardPreview}}" icon="sap-icon://map-3"\r\n                         class="sapOvpSettingsDialogErrorPreviewWidth"\r\n                         showHeader="false" description=""/>\r\n        </HBox>\r\n        <HBox visible="{visibility>/showViewSwitch}">\r\n            <Button class="sapUiMediumMarginBottom" enabled="{/isViewResetEnabled}"\r\n                    press="resetView" text="{ovpResourceModel>OVP_KEYUSER_RESET_VIEW_BUTTON}" type="Transparent"/>\r\n        </HBox>\r\n    </VBox>\r\n</core:FragmentDefinition>',
	"sap/ovp/cards/rta/SettingsDialogForm.fragment.xml":'<core:FragmentDefinition xmlns:f="sap.ui.layout.form"\r\n                         xmlns:core="sap.ui.core"\r\n                         xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns="sap.m">\r\n        <f:Form editable="true">\r\n            <f:layout>\r\n                <f:ResponsiveGridLayout\r\n                        labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false"\r\n                        emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"\r\n                        singleContainerFullSize="false" />\r\n            </f:layout>\r\n            <f:formContainers>\r\n                <f:FormContainer id="sapOvpSettingsFormContainer">\r\n                    <f:formElements>\r\n                        <!-- Title -->\r\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_TITLE}" visible="{visibility>/title}">\r\n                            <f:fields>\r\n                                <Input id="sapOvpSettingsTitle" value="{/title}" change="validateInputField"\r\n                                       editable="true" required="true" \r\n                                       valueState="{= ${/title} === \'\' ? \'Error\' : \'None\'}"\r\n                                       valueStateText="{= ${/title} === \'\' ? ${ovpResourceModel>OVP_KEYUSER_INPUT_ERROR_VALUE_STATE} : \'\'}" />\r\n                            </f:fields>\r\n                        </f:FormElement>\r\n                        <!-- Dynamic Subtitle Switch -->\r\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_DYNAMIC_SUBTITLE_SWITCH}" visible="{visibility>/dynamicSwitchSubTitle}">\r\n                            <f:fields>\r\n                                <Switch id="sapOvpSettingsSwitchSubTitle"\r\n                                        state="{visibility>/dynamicSwitchStateSubTitle}"\r\n                                        type="Default"  change="updateCard" />\r\n                            </f:fields>\r\n                        </f:FormElement>\r\n                        <template:if test="{= ${ovpCardProperties>/template} !== \'sap.ovp.cards.linklist\'}">\r\n                            <!-- View Name -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_VIEW_NAME}" visible="{visibility>/showViewName}">\r\n                                <f:fields>\r\n                                    <Input id="sapOvpSettingsViewName" value="{/viewName}" change="validateInputField"\r\n                                           required="true"\r\n                                           valueState="{= ${/viewName} === \'\' ? \'Error\' : \'None\'}"\r\n                                           valueStateText="{= ${/viewName} === \'\' ? ${ovpResourceModel>OVP_KEYUSER_INPUT_ERROR_VIEW_NAME} : \'\'}" />\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- set Default -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_SET_DEFAULT}" visible="{visibility>/showDefaultView}">\r\n                                <f:fields>\r\n                                    <Switch id="sapOvpDefaultViewSwitch" state="{/isDefaultView}" change="updateCard"\r\n                                            type="Default"  />\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                        </template:if>\r\n                        <!-- Dynamic Sub Title -->\r\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_SUBTITLE}" visible="{visibility>/dynamicSubTitle}">\r\n                            <f:fields>\r\n                                <ComboBox id="sapOvpSettingsDynamicSubTitle" width="100%"\r\n                                        items="{\r\n                                                                path: \'/dynamicSubTitle\'\r\n                                                            }"\r\n                                        selectedKey= "{/dynamicSubtitleAnnotationPath}"\r\n                                        forceSelection="false"\r\n                                        change="updateCard" >\r\n                                    <core:Item key="{value}" text="{name}"/>\r\n                                </ComboBox>\r\n                            </f:fields>\r\n                        </f:FormElement>\r\n                        <!-- Sub Title -->\r\n                        <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_SUBTITLE}" visible="{visibility>/subTitle}">\r\n                            <f:fields>\r\n                                <Input id="sapOvpSettingsSubTitle" value="{/subTitle}" change="updateCard"\r\n                                       editable="true" \r\n                                        />\r\n                            </f:fields>\r\n                        </f:FormElement>\r\n                        <template:if test="{= ${ovpCardProperties>/template} !== \'sap.ovp.cards.linklist\'}" >\r\n                            <!-- KPIHeader Switch -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_KPI_HEADER}" visible="{visibility>/kpiHeader}">\r\n                                <f:fields>\r\n                                    <Switch id="sapOvpSettingsKPIHeaderSwitch"\r\n                                            state="{/hasKPIHeader}"\r\n                                            type="Default"  change="updateCard" />\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- DataPoint -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_KPI_Value}" visible="{visibility>/dataPoint}">\r\n                                <f:fields>\r\n                                    <ComboBox id="sapOvpSettingsDataPoint" width="100%"\r\n                                            items="{\r\n                                                                path: \'/dataPoint\'\r\n                                                            }"\r\n                                            selectedKey="{/dataPointAnnotationPath}"\r\n                                            forceSelection="false"\r\n                                             change="updateCard" >\r\n                                        <core:Item key="{value}" text="{name}"/>\r\n                                    </ComboBox>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- Value Selection Info -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_KPI_DESCRIPTION}" visible="{visibility>/valueSelectionInfo}">\r\n                                <f:fields>\r\n                                    <Input id="sapOvpSettingsValueSelectionInfo" value="{/valueSelectionInfo}" change="updateCard"\r\n                                           editable="true" \r\n                                            />\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- List Type -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LIST_TYPE}" visible="{visibility>/listType}">\r\n                                <f:fields>\r\n                                    <Switch id="sapOvpSettingsListType" state="{/isExtendedList}" change="updateCard"\r\n                                            type="Default"  />\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                        </template:if>\r\n                            <!-- List Flavor -->\r\n                            <f:FormElement label="{ovpCardProperties>/listFlavorName}" visible="{visibility>/listFlavor}">\r\n                                <f:fields>\r\n                                    <Switch id="sapOvpSettingsListFlavorForList" state="{/isBarList}" type="Default"\r\n                                             change="updateCard" />\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <f:FormElement label="{ovpCardProperties>/listFlavorName}" visible="{visibility>/listFlavorForLinkList}">\r\n                                <f:fields>\r\n                                    <SegmentedButton id="sapOvpSettingsListFlavorForLinkList" select="updateCard"\r\n                                                     selectedKey="{/listFlavor}" \r\n                                            >\r\n                                        <items>\r\n                                            <SegmentedButtonItem id="sapOvpSettingsListFlavorList" key="standard"\r\n                                                                 text="{ovpResourceModel>OVP_KEYUSER_LIST_TEXT_SEG_BUTTON}" />\r\n                                            <SegmentedButtonItem id="sapOvpSettingsListFlavorCarousel" key="carousel"\r\n                                                                 text="{ovpResourceModel>OVP_KEYUSER_CAROUSEL_TEXT_SEG_BUTTON}" />\r\n                                        </items>\r\n                                    </SegmentedButton>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                        <template:if test="{= ${ovpCardProperties>/template} !== \'sap.ovp.cards.linklist\'}" >\r\n                            <!-- Sort By -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_SORTBY}" visible="{visibility>/sortBy}">\r\n                                <f:fields>\r\n                                    <ComboBox id="sapOvpSettingsSortBy" width="100%"\r\n                                            items="{\r\n                                                                path: \'/modelProperties\'\r\n                                                            }"\r\n                                            selectedKey="{/sortBy}"  change="updateCard" >\r\n                                        <core:Item key="{value}" text="{name}"/>\r\n                                    </ComboBox>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- Sort Order -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_SORTORDER}" visible="{visibility>/sortOrder}">\r\n                                <f:fields>\r\n                                    <SegmentedButton id="sapOvpSettingsSortOrder" select="updateCard"\r\n                                                     selectedKey="{/sortOrder}" \r\n                                                     >\r\n                                        <items>\r\n                                            <SegmentedButtonItem id="sapOvpSettingsSortOrderDescending" key="descending"\r\n                                                                 text="{ovpResourceModel>OVP_KEYUSER_ORDER_DESC}" />\r\n                                            <SegmentedButtonItem id="sapOvpSettingsSortOrderAscending" key="ascending"\r\n                                                                 text="{ovpResourceModel>OVP_KEYUSER_ORDER_ASC}" />\r\n                                        </items>\r\n                                    </SegmentedButton>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- Selection Variant - Filter By -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_SELECTION_VAR}" visible="{visibility>/selectionVariant}">\r\n                                <f:fields>\r\n                                    <ComboBox id="sapOvpSettingsFilterBy" width="100%"\r\n                                            items="{\r\n                                                                path: \'/selectionVariant\'\r\n                                                            }"\r\n                                            selectedKey= "{/selectionAnnotationPath}"\r\n                                             change="updateCard" >\r\n                                        <core:Item key="{value}" text="{name}"/>\r\n                                    </ComboBox>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- Presentation Variant - Presented By -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_PRESENTATION_VAR}" visible="{visibility>/presentationVariant}">\r\n                                <f:fields>\r\n                                    <ComboBox id="sapOvpSettingsPresentedBy" width="100%"\r\n                                            items="{\r\n                                                                path: \'/presentationVariant\'\r\n                                                            }"\r\n                                            selectedKey= "{/presentationAnnotationPath}"\r\n                                             change="updateCard" >\r\n                                        <core:Item key="{value}" text="{name}"/>\r\n                                    </ComboBox>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- Line Item -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LINEITEM_ANNO}" visible="{visibility>/lineItem}">\r\n                                <f:fields>\r\n                                    <Input id="sapOvpSettingsLineItem"\r\n                                           value="{\r\n                                                                path: \'/lineItemQualifier\'\r\n                                                            }"\r\n                                           showValueHelp="true" editable="true" enabled="true" valueHelpOnly="true"\r\n                                           valueHelpRequest="openLineItemValueHelpDialog" />\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- Identification -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_IDENTIFICATION_ANNO}" visible="{visibility>/identification}">\r\n                                <f:fields>\r\n                                    <ComboBox id="sapOvpSettingsIdentification" width="100%"\r\n                                            items="{\r\n                                                                path: \'/identification\'\r\n                                                            }"\r\n                                            selectedKey= "{/identificationAnnotationPath}"\r\n                                             change="updateCard" >\r\n                                        <core:Item key="{value}" text="{name}"/>\r\n                                    </ComboBox>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <!-- Chart -->\r\n                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_TYPE_OF_CHART}" visible="{visibility>/chart}">\r\n                                <f:fields>\r\n                                    <ComboBox id="sapOvpSettingsChart" width="100%"\r\n                                            items="{\r\n                                                                path: \'/chart\'\r\n                                                            }"\r\n                                            forceSelection="false"\r\n                                            selectedKey= "{/chartAnnotationPath}"\r\n                                             change="updateCard" >\r\n                                        <core:Item key="{value}" text="{name}"/>\r\n                                    </ComboBox>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                        </template:if>\r\n                        <template:if test="{= ${ovpCardProperties>/template} === \'sap.ovp.cards.linklist\' &amp;&amp; ${ovpCardProperties>/staticContent}}" >\r\n                            <f:FormElement>\r\n                                <f:fields>\r\n                                    <Toolbar>\r\n                                        <content>\r\n                                            <ToolbarSpacer />\r\n                                            <Button id="moveToTheTop" tooltip="Top" icon="sap-icon://collapse-group" press="onPressMoveToTheTop" enabled="{visibility>/moveToTheTop}" type="Transparent"/>\r\n                                            <Button id="moveUp" tooltip="Up" icon="sap-icon://navigation-up-arrow" press="onPressMoveUp" enabled="{visibility>/moveUp}" type="Transparent"/>\r\n                                            <Button id="moveDown" tooltip="Down" icon="sap-icon://navigation-down-arrow" press="onPressMoveDown" enabled="{visibility>/moveDown}" type="Transparent"/>\r\n                                            <Button id="moveToTheBottom" tooltip="Bottom" icon="sap-icon://expand-group" press="onPressMoveToTheBottom" enabled="{visibility>/moveToTheBottom}" type="Transparent"/>\r\n                                            <Button id="delete" tooltip="Delete" icon="sap-icon://delete" press="onPressDelete" enabled="{visibility>/delete}" type="Transparent"/>\r\n                                            <Button id="add" tooltip="Add" icon="sap-icon://add" press="onPressAdd" type="Transparent"/>\r\n                                        </content>\r\n                                    </Toolbar>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                            <f:FormElement>\r\n                                <f:fields>\r\n                                    <core:Fragment fragmentName="sap.ovp.cards.rta.StaticLinkListCardLineItemsPanel" type="XML"/>\r\n                                </f:fields>\r\n                            </f:FormElement>\r\n                        </template:if>\r\n                    </f:formElements>\r\n                </f:FormContainer>\r\n            </f:formContainers>\r\n        </f:Form>\r\n</core:FragmentDefinition>',
	"sap/ovp/cards/rta/StaticLinkListCardLineItemsPanel.fragment.xml":'<core:FragmentDefinition  xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"\r\n                         xmlns="sap.m">\r\n    <ScrollContainer\r\n            id="scrollContainer"\r\n            class="sapOvpScrollContainer"\r\n            height="20rem"\r\n            width="100%"\r\n            horizontal="false"\r\n            vertical="true"\r\n            focusable="true">\r\n        <List id="sapOvpStaticLinkListLineItem" class="sapOvpSettingsDialogCustomList"\r\n              items="{/staticContent}"\r\n              selectionChange="onSelectionChange"\r\n              mode="SingleSelectLeft"\r\n              includeItemInSelection="true">\r\n            <items>\r\n                <CustomListItem\r\n                    type="Active">\r\n                    <HBox>\r\n                        <VBox width="30%" visible="{= !${deviceSystemProperties>/phone}}"\r\n                              alignItems="Center"\r\n                              justifyContent="Center">\r\n                            <HBox>\r\n                                <Image class="sapUiSmallMargin"\r\n                                       visible="{= !!${imageUri} &amp;&amp; ${path: \'imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === true}"\r\n                                       alt="{imageAltText}"\r\n                                       tooltip="{toolTip}" densityAware="true"\r\n                                       width="4rem" height="4rem"\r\n                                       backgroundPosition="center center" mode="Background"\r\n                                       src="{parts: [{path: \'/\'}, {path: \'imageUri\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.getImageUrl\'}"/>\r\n                                <VBox visible="{= !!${imageUri} &amp;&amp; ${path: \'imageUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData\'} === false}"\r\n                                      class="sapUiSmallMargin sapOvpLinkListItem {= ${ovpCardProperties>/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemIconCozy\' : \'sapOvpLinkListItemIconCompact\' }">\r\n                                    <FlexBox height="3rem">\r\n                                        <core:Icon class="sapOvpLinkListImageCenter"\r\n                                                   tooltip="{toolTip}" useIconTooltip="false"\r\n                                                   size="3rem" src="{imageUri}"/>\r\n                                    </FlexBox>\r\n                                </VBox>\r\n                                <!-- Default icon if there is no icon or image path given in imageUri -->\r\n                                <VBox visible="{= !${imageUri}}"\r\n                                      class="sapUiSmallMargin sapOvpLinkListItem {= ${ovpCardProperties>/densityStyle} === \'cozy\' ? \'sapOvpLinkListItemIconCozy\' : \'sapOvpLinkListItemIconCompact\' }">\r\n                                    <FlexBox height="3rem">\r\n                                        <core:Icon class="sapOvpLinkListImageCenter"\r\n                                                   tooltip="{toolTip}" useIconTooltip="false"\r\n                                                   size="3rem" src="sap-icon://background"/>\r\n                                    </FlexBox>\r\n                                </VBox>\r\n                            </HBox>\r\n                            <HBox visible="{parts:[{path:\'index\'}, {path:\'visibility>/showMore\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}">\r\n                                <Button class="sapOvpSettingsMiniMarginBeginEnd" tooltip="Change Visual" icon="sap-icon://edit" press="onChangeVisualPress" enabled="true" type="Transparent"/>\r\n                                <Button class="sapOvpSettingsMiniMarginBeginEnd" tooltip="Remove Visual" icon="sap-icon://delete" press="onRemoveVisualPress"\r\n                                        enabled="{parts:[{path:\'index\'}, {path:\'visibility>/showMore\'}, {path:\'visibility>/removeVisual\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}"\r\n                                        type="Transparent"/>\r\n                            </HBox>\r\n                        </VBox>\r\n                        <VBox>\r\n                            <f:Form editable="true">\r\n                                <f:layout>\r\n                                    <f:ResponsiveGridLayout labelSpanXL="12"\r\n                                                            labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false"\r\n                                                            emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"\r\n                                                            singleContainerFullSize="false" />\r\n                                </f:layout>\r\n                                <f:formContainers>\r\n                                    <f:FormContainer>\r\n                                        <f:formElements>\r\n                                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_TITLE_FOR_LINK}" visible="{visibility>/lineItemTitle}">\r\n                                                <f:fields>\r\n                                                    <Input id="sapOvpSettingsLineItemTitle" value="{title}" change="validateInputField"\r\n                                                           required="true" valueState="{= ${title} === \'\' ? \'Error\' : \'None\'}"\r\n                                                           valueStateText="{= ${title} === \'\' ? ${ovpResourceModel>OVP_KEYUSER_INPUT_ERROR_RECORD_TITLE} : \'\'}"/>\r\n                                                </f:fields>\r\n                                            </f:FormElement>\r\n                                            <!-- Static Link List Line Item Sub Title -->\r\n                                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_SUBTITLE_FOR_LINK}" visible="{parts:[{path:\'index\'}, {path:\'visibility>/showMore\'}, {path:\'visibility>/lineItemSubTitle\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}">\r\n                                                <f:fields>\r\n                                                    <Input id="sapOvpSettingsLineItemSubTitle" value="{subTitle}" change="updateCard"/>\r\n                                                </f:fields>\r\n                                            </f:FormElement>\r\n                                            <!-- Static Link List Line Item Links Selection -->\r\n                                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LINK_TYPE}" visible="{parts:[{path:\'index\'}, {path:\'visibility>/showMore\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}">\r\n                                                <f:fields>\r\n                                                    <RadioButtonGroup columns="2" select="onLinkSourceChange"\r\n                                                                      selectedIndex="{= ${parts:[{path:\'index\'}, {path:\'visibility>/showMore\'}, {path:\'visibility>/staticLink\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'} === true ? 1 : 0}">\r\n                                                        <buttons>\r\n                                                            <RadioButton text="{ovpResourceModel>OVP_KEYUSER_APPLICATION_TEXT_RAD_BUTTON}"/>\r\n                                                            <RadioButton text="{ovpResourceModel>OVP_KEYUSER_URL_TEXT_RAD_BUTTON}"/>\r\n                                                        </buttons>\r\n                                                    </RadioButtonGroup>\r\n                                                </f:fields>\r\n                                            </f:FormElement>\r\n                                            <!-- Static Link List Line Item Links -->\r\n                                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LINKS}"\r\n                                                           visible="{parts:[{path:\'index\'}, {path:\'visibility>/showMore\'}, {path:\'visibility>/staticLink\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}">\r\n                                                <f:fields>\r\n                                                    <Input value="{targetUri}" change="onExternalUrlChange"\r\n                                                           required="true" valueState="{= ${path: \'targetUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isValidURL\'} === false ? \'Error\' : \'None\'}"\r\n                                                           valueStateText="{= ${path: \'targetUri\', formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isValidURL\'} === false ? ${ovpResourceModel>OVP_KEYUSER_INPUT_ERROR_RECORD_URL} : \'\'}"/>\r\n                                                </f:fields>\r\n                                            </f:FormElement>\r\n                                            <!-- Static Link List Line Item Links -->\r\n                                            <f:FormElement label="{ovpResourceModel>OVP_KEYUSER_LINKS}"\r\n                                                           visible="{parts:[{path:\'index\'}, {path:\'visibility>/showMore\'}, {path:\'visibility>/links\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'}">\r\n                                                <f:fields>\r\n                                                    <Input value="{parts:[{path:\'staticCardProperties>/links\'}, {path:\'semanticObject\'}, {path:\'action\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.getApplicationName\'}"\r\n                                                           showValueHelp="true" editable="true" enabled="true" valueHelpOnly="true" required="true"\r\n                                                           valueHelpRequest="createValueHelpDialogForInternalUrl"/>\r\n                                                </f:fields>\r\n                                            </f:FormElement>\r\n                                            <!-- Static Link List Line Item Show More -->\r\n                                            <f:FormElement>\r\n                                                <f:fields>\r\n                                                    <FlexBox justifyContent="End">\r\n                                                        <Link text="{= !${parts:[{path:\'index\'}, {path:\'visibility>/showMore\'}], formatter: \'sap.ovp.cards.linklist.AnnotationHelper.isVisible\'} ? ${ovpResourceModel>OVP_KEYUSER_SHOW_MORE_LINK}: ${ovpResourceModel>OVP_KEYUSER_SHOW_LESS_LINK}}"\r\n                                                              press="onShowMorePress"/>\r\n                                                    </FlexBox>\r\n                                                </f:fields>\r\n                                            </f:FormElement>\r\n                                        </f:formElements>\r\n                                    </f:FormContainer>\r\n                                </f:formContainers>\r\n                            </f:Form>\r\n                        </VBox>\r\n                    </HBox>\r\n                </CustomListItem>\r\n            </items>\r\n        </List>\r\n    </ScrollContainer>\r\n</core:FragmentDefinition>',
	"sap/ovp/cards/stack/Stack.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:ovp="sap.ovp.ui">\n\n    <VBox id="stackContent" class="sapOvpStackCardContent" justifyContent="SpaceBetween">\n        <customData>\n            <ovp:CustomData key="tabindex" value="0" writeToDom="true"/>\n            <ovp:CustomData key="role" value="button" writeToDom="true"/>\n        </customData>\n        <Label id="stackSize" class="sapOvpStackCardSize">\n            <customData>\n                <ovp:CustomData key="role" value="" writeToDom="true"/>\n            </customData>\n        </Label>\n        <Text id="stackTotalSize" class="sapOvpStackCardTotalSize"/>\n        <core:Icon id="StackCardIcon" class="sapOvpStackCardIcon" src="sap-icon://dimension" useIconTooltip="false"></core:Icon>\n    </VBox>\n</core:FragmentDefinition>\n',
	"sap/ovp/cards/table/Table.fragment.xml":'<core:FragmentDefinition\r\n        xmlns="sap.m"\r\n        xmlns:core="sap.ui.core"\r\n        xmlns:build="sap.build"\r\n        xmlns:ovp="sap.ovp.ui"\r\n        xmlns:sfi="sap.ui.comp.smartfield"\r\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\r\n\r\n\r\n    <Table id="ovpTable" class="ovpTableClass cardType"\r\n           items="{parts:[{path:\'entitySet>\'}, {path:\'ovpCardProperties>/annotationPath\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatItems\'}"\r\n           build:metadata="#pattern:GenericCard>Table;set:ovpCardProperties>/annotationPath:com.sap.vocabularies.UI.v1.LineItem">\r\n        <customData>\r\n            <ovp:CustomData key="aria-label" value="{ovplibResourceBundle>tableCard}" writeToDom="true"/>\r\n        </customData>\r\n\r\n        <template:if\r\n                test="{= ${ovpCardProperties>/layoutDetail} === \'resizable\'}">\r\n            <template:then>\r\n                <core:Fragment fragmentName="sap.ovp.cards.table.TableDashBoardLayout" type="XML"/>\r\n            </template:then>\r\n\r\n            <template:else>\r\n                <core:Fragment fragmentName="sap.ovp.cards.table.TableEasyScanLayout" type="XML"/>\r\n            </template:else>\r\n        </template:if>\r\n\r\n\r\n    </Table>\r\n</core:FragmentDefinition>',
	"sap/ovp/cards/table/TableDashBoardLayout.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:build="sap.build"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:sfi="sap.ui.comp.smartfield"\n        xmlns:navpopover="sap.ui.comp.navpopover"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n    <template:with path=\'ovpCardProperties>/annotationPath\'\n                   helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'eachItem\'>\n\n        <template:with  path="eachItem>" helper="sap.ovp.cards.AnnotationHelper.removeDuplicateDataField" var="lineItem">\n\n        <columns>\n\n            <!--If condition for Importance High-->\n            <template:repeat list="{path:\'lineItem>\'}" var="dataField">\n                <template:if\n                        test="{= ${dataField>com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/High\'}">\n                    <template:then>\n                        <template:if test="{= ${dataField>RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}">\n                            <template:then>\n                                <Column styleClass="sapTableColumnHide" visible="false">\n                                    <Text text="{path: \'dataField>\', formatter: \'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/>\n                                </Column>\n                            </template:then>\n                            <template:elseif\n                                    test="{= ${dataField>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                <Column styleClass="sapTableColumnHide" visible="false" hAlign="{= ${path: \'dataField>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'Center\' : ${dataField>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0 ? \'Left\' : \'Right\'}">\n                                    <Text class="displayBlock {= ${path: \'dataField>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : ${dataField>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0 ? \'textAlignLeft\' : \'textAlignRight\'}"\n                                          text="{path: \'dataField>\', formatter: \'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/>\n                                </Column>\n                            </template:elseif>\n                        </template:if>\n                    </template:then>\n                </template:if>\n            </template:repeat>\n            <!--End of If condition for Importance High-->\n\n            <!--If condition for Importance Medium-->\n            <template:repeat list="{path:\'lineItem>\'}" var="dataField1">\n                <template:if\n                        test="{= ${dataField1>com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/Medium\'}">\n                    <template:then>\n                        <template:if test="{= ${dataField1>RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}">\n                            <template:then>\n                                <Column styleClass="sapTableColumnHide" visible="false">\n                                    <Text text="{path: \'dataField1>\', formatter: \'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/>\n                                </Column>\n                            </template:then>\n                            <template:elseif\n                                    test="{= ${dataField1>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                <Column styleClass="sapTableColumnHide" visible="false" hAlign="{= ${path: \'dataField1>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'Center\' : ${dataField1>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0 ? \'Left\' : \'Right\'}">\n                                    <Text class="displayBlock {= ${path: \'dataField1>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : ${dataField1>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0 ? \'textAlignLeft\' : \'textAlignRight\'}"\n                                          text="{path: \'dataField1>\', formatter: \'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/>\n                                </Column>\n                            </template:elseif>\n                        </template:if>\n                    </template:then>\n                </template:if>\n            </template:repeat>\n            <!--End of If condition for Importance Medium-->\n\n            <!--If condition for Importance Low-->\n            <template:repeat list="{path:\'lineItem>\'}" var="dataField2">\n                <template:if\n                        test="{= ${dataField2>com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/Low\'}">\n                    <template:then>\n                        <template:if test="{= ${dataField2>RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}">\n                            <template:then>\n                                <Column styleClass="sapTableColumnHide" visible="false">\n                                    <Text text="{path: \'dataField2>\', formatter: \'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/>\n                                </Column>\n                            </template:then>\n                            <template:elseif\n                                    test="{= ${dataField2>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                <Column styleClass="sapTableColumnHide" visible="false" hAlign="{= ${path: \'dataField2>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'Center\' : ${dataField2>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0 ? \'Left\' : \'Right\'}">\n                                    <Text class="displayBlock {= ${path: \'dataField2>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : ${dataField2>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0 ? \'textAlignLeft\' : \'textAlignRight\'}"\n                                          text="{path: \'dataField2>\', formatter: \'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/>\n                                </Column>\n                            </template:elseif>\n                        </template:if>\n                    </template:then>\n                </template:if>\n            </template:repeat>\n            <!--End of If condition for Importance Low-->\n\n            <!--Else Part-->\n            <template:repeat list="{path:\'lineItem>\'}" var="dataField3">\n                <template:if test="{=  !${dataField3>com.sap.vocabularies.UI.v1.Importance/EnumMember}}">\n                    <template:then>\n                        <template:if test="{= ${dataField3>RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}">\n                            <template:then>\n                                <Column styleClass="sapTableColumnHide" visible="false">\n                                    <Text text="{path: \'dataField3>\', formatter: \'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/>\n                                </Column>\n                            </template:then>\n                            <template:elseif\n                                    test="{= ${dataField3>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                <Column styleClass="sapTableColumnHide" visible="false" hAlign="{= ${path: \'dataField3>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'Center\' : ${dataField3>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0 ? \'Left\' : \'Right\'}">\n                                    <Text class="displayBlock {= ${path: \'dataField3>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : ${dataField3>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0 ? \'textAlignLeft\' : \'textAlignRight\'}"\n                                          text="{path: \'dataField3>\', formatter: \'sap.ovp.cards.AnnotationHelper.getLabelForDataItem\'}"/>\n                                </Column>\n                            </template:elseif>\n                        </template:if>\n                    </template:then>\n                </template:if>\n\n            </template:repeat>\n            <!--End of Else Part-->\n        </columns>\n\n        <items>\n            <ColumnListItem\n                    id = "tableItem"\n                    type="Active"\n                    press="onColumnListItemPress">\n                <cells>\n\n                    <template:repeat list="{path:\'lineItem>\'}" var="dataField4">\n                        <template:if\n                                test="{= ${dataField4>com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/High\'}">\n                            <template:then>\n                                <template:if\n                                        test="{= ${dataField4>RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}">\n                                    <template:then>\n                                        <template:if\n                                                test="{parts:[{path:\'entitySet>\'}, {path:\'dataField4>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}">\n                                            <template:then>\n                                                <navpopover:SmartLink\n                                                        class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow ovpTableSmartLink\' : \'sapTableDataRowIE ovpTableSmartLink\' }"\n                                                        text="{path: \'dataField4>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"\n                                                        semanticObject="{parts:[{path:\'entitySet>\'}, {path:\'dataField4>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}">\n                                                </navpopover:SmartLink>\n                                            </template:then>\n                                            <template:else>\n                                                <Text class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                                                      text="{path: \'dataField4>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"/>\n                                            </template:else>\n                                        </template:if>\n                                    </template:then>\n                                    <template:elseif\n                                            test="{= ${dataField4>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                        <template:if test="{= ${dataField4>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0}">\n                                            <template:then>\n                                                <template:with path="dataField4>Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact">\n                                                    <VBox>\n                                                        <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                                       type="XML"/>\n                                                        <Link binding="{= ${ path: \'dataField4>Target/AnnotationPath\'}.indexOf(\'/\') > -1 ? \'{\' + ${path: \'dataField4>Target/AnnotationPath\'}.slice(0, ${ path: \'dataField4>Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}"\n                                                              class="textAlignLeft {= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                                                              text="{path: \'contact>fn\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                              press="onContactDetailsLinkPress">\n                                                        </Link>\n                                                    </VBox>\n                                                </template:with>\n                                            </template:then>\n                                            <template:elseif test="{= ${path: \'dataField4>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric\'} === true  &amp;&amp; ${ovpCardProperties>/enableLocaleCurrencyFormatting} === false}">\n                                                <sfi:SmartField class="{= ${path: \'dataField4>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}"\n                                                                editable="false" uomEditable="false" enabled="true"\n                                                                clientSideMandatoryCheck="false"\n                                                                value="{path: \'dataField4>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}">\n                                                    <sfi:controlProposal>\n                                                        <sfi:ControlProposal>\n                                                            <sfi:objectStatus>\n                                                                <sfi:ObjectStatus\n                                                                        criticality="{path: \'dataField4>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric\'}"\n                                                                        criticalityRepresentationType="WithoutIcon"/>\n                                                            </sfi:objectStatus>\n                                                        </sfi:ControlProposal>\n                                                    </sfi:controlProposal>\n                                                </sfi:SmartField>\n                                            </template:elseif>\n                                            <template:else>\n                                                <ObjectNumber\n                                                        class="{= ${path: \'dataField4>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber"\n                                                        number="{parts:[{path:\'dataField4>\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}"\n                                                        unit="{parts:[{path:\'dataField4>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"\n                                                        state="{path: \'dataField4>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric\'}"/>\n                                            </template:else>\n                                        </template:if>\n                                    </template:elseif>\n                                </template:if>\n                            </template:then>\n                        </template:if>\n                    </template:repeat>\n\n\n                    <template:repeat list="{path:\'lineItem>\'}" var="dataField5">\n                        <template:if\n                                test="{= ${dataField5>com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/Medium\'}">\n                            <template:then>\n                                <template:if\n                                        test="{= ${dataField5>RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}">\n                                    <template:then>\n                                        <template:if\n                                                test="{parts:[{path:\'entitySet>\'}, {path:\'dataField5>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}">\n                                            <template:then>\n                                                <navpopover:SmartLink\n                                                        class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow ovpTableSmartLink\' : \'sapTableDataRowIE ovpTableSmartLink\' }"\n                                                        text="{path: \'dataField5>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"\n                                                        semanticObject="{parts:[{path:\'entitySet>\'}, {path:\'dataField5>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}">\n                                                </navpopover:SmartLink>\n                                            </template:then>\n                                            <template:else>\n                                                <Text class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                                                      text="{path: \'dataField5>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"/>\n                                            </template:else>\n                                        </template:if>\n                                    </template:then>\n                                    <template:elseif\n                                            test="{= ${dataField5>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                        <template:if test="{= ${dataField5>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0}">\n                                            <template:then>\n                                                <template:with path="dataField5>Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact">\n                                                    <VBox>\n                                                        <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                                       type="XML"/>\n                                                        <Link binding="{= ${ path: \'dataField5>Target/AnnotationPath\'}.indexOf(\'/\') > -1 ? \'{\' + ${path: \'dataField5>Target/AnnotationPath\'}.slice(0, ${ path: \'dataField5>Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}"\n                                                              class="textAlignLeft {= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                                                              text="{path: \'contact>fn\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                              press="onContactDetailsLinkPress">\n                                                        </Link>\n                                                    </VBox>\n                                                </template:with>\n                                            </template:then>\n                                            <template:elseif test="{= ${path: \'dataField5>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric\'} === true  &amp;&amp; ${ovpCardProperties>/enableLocaleCurrencyFormatting} === false}">\n                                                <sfi:SmartField class="{= ${path: \'dataField5>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}"\n                                                                editable="false" uomEditable="false" enabled="true"\n                                                                clientSideMandatoryCheck="false"\n                                                                value="{path: \'dataField5>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}">\n                                                    <sfi:controlProposal>\n                                                        <sfi:ControlProposal>\n                                                            <sfi:objectStatus>\n                                                                <sfi:ObjectStatus\n                                                                        criticality="{path: \'dataField5>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric\'}"\n                                                                        criticalityRepresentationType="WithoutIcon"/>\n                                                            </sfi:objectStatus>\n                                                        </sfi:ControlProposal>\n                                                    </sfi:controlProposal>\n                                                </sfi:SmartField>\n                                            </template:elseif>\n                                            <template:else>\n                                                <ObjectNumber\n                                                        class="{= ${path: \'dataField5>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber"\n                                                        number="{parts:[{path:\'dataField5>\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}"\n                                                        unit="{parts:[{path:\'dataField5>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"\n                                                        state="{path: \'dataField5>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric\'}"/>\n                                            </template:else>\n                                        </template:if>\n                                    </template:elseif>\n                                </template:if>\n                            </template:then>\n                        </template:if>\n                    </template:repeat>\n\n                    <template:repeat list="{path:\'lineItem>\'}" var="dataField6">\n                        <template:if\n                                test="{= ${dataField6>com.sap.vocabularies.UI.v1.Importance/EnumMember} === \'com.sap.vocabularies.UI.v1.ImportanceType/Low\'}">\n                            <template:then>\n                                <template:if\n                                        test="{= ${dataField6>RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}">\n                                    <template:then>\n                                        <template:if\n                                                test="{parts:[{path:\'entitySet>\'}, {path:\'dataField6>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}">\n                                            <template:then>\n                                                <navpopover:SmartLink\n                                                        class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow ovpTableSmartLink\' : \'sapTableDataRowIE ovpTableSmartLink\' }"\n                                                        text="{path: \'dataField6>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"\n                                                        semanticObject="{parts:[{path:\'entitySet>\'}, {path:\'dataField6>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}">\n                                                </navpopover:SmartLink>\n                                            </template:then>\n                                            <template:else>\n                                                <Text class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                                                      text="{path: \'dataField6>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"/>\n                                            </template:else>\n                                        </template:if>\n                                    </template:then>\n                                    <template:elseif\n                                            test="{= ${dataField6>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                        <template:if test="{= ${dataField6>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0}">\n                                            <template:then>\n                                                <template:with path="dataField6>Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact">\n                                                    <VBox>\n                                                        <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                                       type="XML"/>\n                                                        <Link binding="{= ${ path: \'dataField6>Target/AnnotationPath\'}.indexOf(\'/\') > -1 ? \'{\' + ${path: \'dataField6>Target/AnnotationPath\'}.slice(0, ${ path: \'dataField6>Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}"\n                                                              class="textAlignLeft {= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                                                              text="{path: \'contact>fn\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                              press="onContactDetailsLinkPress">\n                                                        </Link>\n                                                    </VBox>\n                                                </template:with>\n                                            </template:then>\n                                            <template:elseif test="{= ${path: \'dataField6>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric\'} === true  &amp;&amp; ${ovpCardProperties>/enableLocaleCurrencyFormatting} === false}">\n                                                <sfi:SmartField class="{= ${path: \'dataField6>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}"\n                                                                editable="false" uomEditable="false" enabled="true"\n                                                                clientSideMandatoryCheck="false"\n                                                                value="{path: \'dataField6>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}">\n                                                    <sfi:controlProposal>\n                                                        <sfi:ControlProposal>\n                                                            <sfi:objectStatus>\n                                                                <sfi:ObjectStatus\n                                                                        criticality="{path: \'dataField6>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric\'}"\n                                                                        criticalityRepresentationType="WithoutIcon"/>\n                                                            </sfi:objectStatus>\n                                                        </sfi:ControlProposal>\n                                                    </sfi:controlProposal>\n                                                </sfi:SmartField>\n                                            </template:elseif>\n                                            <template:else>\n                                                <ObjectNumber\n                                                        class="{= ${path: \'dataField6>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber"\n                                                        number="{parts:[{path:\'dataField6>\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}"\n                                                        unit="{parts:[{path:\'dataField6>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"\n                                                        state="{path: \'dataField6>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric\'}"/>\n                                            </template:else>\n                                        </template:if>\n                                    </template:elseif>\n                                </template:if>\n                            </template:then>\n                        </template:if>\n                    </template:repeat>\n\n                    <template:repeat list="{path:\'lineItem>\'}" var="dataField7">\n                        <template:if test="{=  !${dataField7>com.sap.vocabularies.UI.v1.Importance/EnumMember} }">\n                            <template:then>\n                                <template:if\n                                        test="{= ${dataField7>RecordType} === \'com.sap.vocabularies.UI.v1.DataField\'}">\n                                    <template:then>\n                                        <template:if\n                                                test="{parts:[{path:\'entitySet>\'}, {path:\'dataField7>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}">\n                                            <template:then>\n                                                <navpopover:SmartLink\n                                                        class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow ovpTableSmartLink\' : \'sapTableDataRowIE ovpTableSmartLink\' }"\n                                                        text="{path: \'dataField7>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"\n                                                        semanticObject="{parts:[{path:\'entitySet>\'}, {path:\'dataField7>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric\'}">\n                                                </navpopover:SmartLink>\n                                            </template:then>\n                                            <template:else>\n                                                <Text class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                                                      text="{path: \'dataField7>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric\'}"/>\n                                            </template:else>\n                                        </template:if>\n                                    </template:then>\n                                    <template:elseif\n                                            test="{= ${dataField7>RecordType} === \'com.sap.vocabularies.UI.v1.DataFieldForAnnotation\'}">\n                                        <template:if test="{= ${dataField7>Target/AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') >= 0}">\n                                            <template:then>\n                                                <template:with path="dataField7>Target" helper="sap.ui.model.odata.AnnotationHelper.resolvePath" var="contact">\n                                                    <VBox>\n                                                        <core:Fragment fragmentName="sap.ovp.cards.generic.ContactDetails"\n                                                                       type="XML"/>\n                                                        <Link binding="{= ${ path: \'dataField7>Target/AnnotationPath\'}.indexOf(\'/\') > -1 ? \'{\' + ${path: \'dataField7>Target/AnnotationPath\'}.slice(0, ${ path: \'dataField7>Target/AnnotationPath\'}.indexOf(\'/\')) + \'}\' : null}"\n                                                              class="textAlignLeft {= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                                                              text="{path: \'contact>fn\', formatter: \'sap.ui.model.odata.AnnotationHelper.format\'}"\n                                                              press="onContactDetailsLinkPress">\n                                                        </Link>\n                                                    </VBox>\n                                                </template:with>\n                                            </template:then>\n                                            <template:elseif test="{= ${path: \'dataField7>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric\'} === true  &amp;&amp; ${ovpCardProperties>/enableLocaleCurrencyFormatting} === false}">\n                                                <sfi:SmartField class="ovpSmartLink {= ${path: \'dataField7>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}"\n                                                                editable="false" uomEditable="false" enabled="true"\n                                                                clientSideMandatoryCheck="false"\n                                                                value="{path: \'dataField7>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}">\n                                                    <sfi:controlProposal>\n                                                        <sfi:ControlProposal>\n                                                            <sfi:objectStatus>\n                                                                <sfi:ObjectStatus\n                                                                        criticality="{path: \'dataField7>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric\'}"\n                                                                        criticalityRepresentationType="WithoutIcon"/>\n                                                            </sfi:objectStatus>\n                                                        </sfi:ControlProposal>\n                                                    </sfi:controlProposal>\n                                                </sfi:SmartField>\n                                            </template:elseif>\n                                            <template:else>\n                                                <ObjectNumber\n                                                        class="{= ${path: \'dataField7>\', formatter: \'sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber"\n                                                        number="{parts:[{path:\'dataField7>\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValue\'}"\n                                                        unit="{parts:[{path:\'dataField7>\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"\n                                                        state="{path: \'dataField7>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric\'}"/>\n                                            </template:else>\n                                        </template:if>\n                                    </template:elseif>\n                                </template:if>\n                            </template:then>\n                        </template:if>\n                    </template:repeat>\n\n                </cells>\n            </ColumnListItem>\n        </items>\n        </template:with>\n    </template:with>\n</core:FragmentDefinition>',
	"sap/ovp/cards/table/TableEasyScanLayout.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:build="sap.build"\n        xmlns:ovp="sap.ovp.ui"\n        xmlns:sfi="sap.ui.comp.smartfield"\n        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">\n\n    <template:if\n            test="{= ${ovpCardProperties>/disableTableCardFlexibility} === true}">\n        <template:then>\n    <template:with path=\'ovpCardProperties>/annotationPath\'\n                   helper="sap.ovp.cards.AnnotationHelper.resolveEntityTypePath" var=\'lineItem\'>\n\n        <columns>\n            <Column>\n                <Text\n                        text="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getFirstDataFieldName\'}"\n                        build:metadata="#pattern:GenericCard>Table;prop::FirstColumnTitle:\\{lineItem>/0/Label\\};"/>\n            </Column>\n            <Column>\n                <Text\n                        text="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getSecondDataFieldName\'}"\n                        build:metadata="#pattern:GenericCard>Table;prop::SecondColumnTitle:\\{lineItem>/1/Label\\};"/>\n            </Column>\n            <Column hAlign="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticalityForTableStatus\'} === true ? \'Center\' : \'Right\'}">\n                <template:if\n                        test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0}">\n                    <template:then>\n                        <Text class="displayBlock {= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticalityForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'}"\n                              text="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getLabelForFirstDataPoint\'}"\n                              build:metadata="#pattern:GenericCard>Table;prop::ThirdColumnTitle:\\{lineItem>/2/Target@@Title\\};"/>\n                    </template:then>\n                    <template:else>\n                        <Text\n                                text="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getThirdDataFieldName\'}"/>\n                    </template:else>\n                </template:if>\n            </Column>\n        </columns>\n\n        <items>\n            <ColumnListItem\n                    id = "tableItem"\n                    type="Active"\n                    press="onColumnListItemPress">\n                <cells>\n                    <Text class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                          text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                          build:metadata="#pattern:GenericCard>Table;prop::FirstAttribute:\\{lineItem>/0/Value\\}"/>\n                    <Text class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                          text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/secondDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"\n                          build:metadata="#pattern:GenericCard>Table;prop::SecondAttribute:\\{lineItem>/1/Value\\}"/>\n                    <template:if\n                            test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.getDataPointsCount\'} > 0}">\n                        <template:then>\n                            <template:if\n                                    test="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticality\'} === true &amp;&amp; ${ovpCardProperties>/enableLocaleCurrencyFormatting} === false}">\n                                <template:then>\n                                    <sfi:SmartField class="textAlignCenter"\n                                                    editable="false" uomEditable="false" enabled="true"\n                                                    clientSideMandatoryCheck="false"\n                                                    value="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex\'}">\n                                        <sfi:controlProposal>\n                                            <sfi:ControlProposal>\n                                                <sfi:objectStatus>\n                                                    <sfi:ObjectStatus\n                                                            criticality="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointStateForSmartField\'}"\n                                                            criticalityRepresentationType="WithoutIcon"/>\n                                                </sfi:objectStatus>\n                                            </sfi:ControlProposal>\n                                        </sfi:controlProposal>\n                                    </sfi:SmartField>\n                                </template:then>\n                                <template:else>\n                                    <ObjectNumber class="{= ${path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticalityForTableStatus\'} === true ? \'textAlignCenter\' : \'textAlignRight\'} sapOvpObjectNumber"\n                                                  number="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}, {path:\'ovpConstants>/dontIncludeUOM\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatObjectNumber\'}"\n                                                  unit="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/firstDataPointIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatUnit\'}"\n                                                  state="{path: \'lineItem>\', formatter: \'sap.ovp.cards.AnnotationHelper.formatFirstDataPointState\'}"\n                                                  build:metadata="#pattern:GenericCard>Table;prop::Number:\\{lineItem>/2/Target@@Value\\};prop::NumberToleranceRangeLowValue:\\{lineItem>2/Target@@CriticalityCalculation/ToleranceRangeLowValue\\};prop::NumberDeviationRangeLowValue:\\{lineItem>2/Target@@CriticalityCalculation/DeviationRangeLowValue\\}"/>\n                                </template:else>\n                            </template:if>\n                        </template:then>\n                        <template:else>\n                            <Text class="{= ${ovpCardProperties>/webkitSupport} ? \'sapTableDataRow\' : \'sapTableDataRowIE\' }"\n                                  text="{parts:[{path:\'lineItem>\'}, {path:\'ovpConstants>/thirdDataFieldIndex\'}], formatter: \'sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex\'}"/>\n                        </template:else>\n                    </template:if>\n\n                </cells>\n            </ColumnListItem>\n        </items>\n\n    </template:with>\n    </template:then>\n        <template:else>\n            <core:Fragment fragmentName="sap.ovp.cards.table.TableDashBoardLayout" type="XML"/>\n        </template:else>\n    </template:if>\n</core:FragmentDefinition>',
	"sap/ovp/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.ovp","type":"library","embeds":["cards/map","cards/map/Analytical","cards/charts/analytical","cards/charts/generic","cards/charts/smart/chart","cards/list","cards/quickview","cards/linklist","cards/generic","cards/table","cards/image","cards/loading","cards/custom","cards/stack","app"],"applicationVersion":{"version":"1.54.4"},"title":"SAP library: sap.ovp","description":"SAP library: sap.ovp","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.54","libs":{"sap.ui.core":{"minVersion":"1.54.6"},"sap.ui.layout":{"minVersion":"1.54.6"},"sap.ui.generic.app":{"minVersion":"1.54.6"},"sap.m":{"minVersion":"1.54.6"},"sap.f":{"minVersion":"1.54.6"},"sap.ui.comp":{"minVersion":"1.54.6"},"sap.viz":{"minVersion":"1.54.6","lazy":true},"sap.suite.ui.microchart":{"minVersion":"1.54.6","lazy":true}}},"library":{"i18n":"messagebundle.properties","content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/ovp/cards/ActionUtils.js":function(){
/* the subsequent text seems not to contain a copyright or license statement */
(function(){"use strict";jQuery.sap.declare("sap.ovp.cards.ActionUtils");sap.ovp.cards.ActionUtils={};
sap.ovp.cards.ActionUtils.getActionInfo=function(c,a,e){var m=c.getModel().getMetaModel();var f=a.action.split('/')[1];var C=c.getObject();var b={oContext:c,sFunctionImportPath:a.action,sFunctionLabel:a.label,oFunctionImport:m.getODataFunctionImport(f),parameterData:{},allParameters:[]};var p;if(b.oFunctionImport.parameter){var k=this._getKeyProperties(e);for(var i=0;i<b.oFunctionImport.parameter.length;i++){var P=b.oFunctionImport.parameter[i];this._addParamLabel(P,e,m);if(k[P.name]){P.isKey=true;}if(typeof P.nullable==='undefined'){P.nullable=true;}if(C.hasOwnProperty(P.name)){p=C[P.name];}else{p="";}b.parameterData[P.name]=p;b.allParameters.push(P);}}return b;};
sap.ovp.cards.ActionUtils._getKeyProperties=function(e){var k={};if(e&&e.key&&e.key.propertyRef){for(var i=0;i<e.key.propertyRef.length;i++){var K=e.key.propertyRef[i].name;k[K]=true;}}return k;};
sap.ovp.cards.ActionUtils._addParamLabel=function(p,e,m){if(e&&p&&!p["com.sap.vocabularies.Common.v1.Label"]){var P=m.getODataProperty(e,p.name,false);if(P&&P["com.sap.vocabularies.Common.v1.Label"]){p["com.sap.vocabularies.Common.v1.Label"]=P["com.sap.vocabularies.Common.v1.Label"];}else if(P&&P["sap:label"]){p["sap:label"]=P["sap:label"];}}};
sap.ovp.cards.ActionUtils.buildParametersForm=function(a,o){function g(p){var L="";if(p["com.sap.vocabularies.Common.v1.Label"]){L=p["com.sap.vocabularies.Common.v1.Label"].String;}else if(p["sap:label"]){L=p["sap:label"];}else{L=p.name;}return L;}jQuery.sap.require("sap.ui.layout.form.SimpleForm");jQuery.sap.require("sap.ui.comp.smartfield.SmartField");var f=new sap.ui.layout.form.SimpleForm({editable:true});var F=[];for(var i=0;i<a.allParameters.length;i++){var p=a.allParameters[i];var P=g(p);var b='{/'+p.name+'}';var j=null;var e=p.type;var m=p.maxLength?parseInt(p.maxLength,10):undefined;if(e==='Edm.Boolean'){j=sap.ui.comp.smartfield.JSONType.Boolean;}else if(e==='Edm.Byte'||e==='Edm.SByte'||e==='Edm.Int16'||e==='Edm.Int32'){j=sap.ui.comp.smartfield.JSONType.Integer;}else{j=sap.ui.comp.smartfield.JSONType.String;}var c=sap.ovp.cards.ActionUtils._isMandatoryParameter(p);var d=new sap.ui.comp.smartfield.SmartField({value:b,mandatory:c,jsontype:j,maxLength:m,editable:!p.isKey});d.attachChange(o);F.push(d);var l=new sap.ui.comp.smartfield.SmartLabel();l.setRequired(c&&!p.isKey);l.setText(P);l.setLabelFor(d);f.addContent(l);f.addContent(d);}return f;};
sap.ovp.cards.ActionUtils.getParameters=function(p,f){var a=sap.ovp.cards.ActionUtils._validateParametersValue(p,f);return a.preparedParameterData;};
sap.ovp.cards.ActionUtils.mandatoryParamsMissing=function(p,f){var v=sap.ovp.cards.ActionUtils._validateParametersValue(p,f);return v.missingMandatoryParameters&&v.missingMandatoryParameters.length>0;};
sap.ovp.cards.ActionUtils._validateParametersValue=function(p,f){var m=[];var M=p.getObject('/');var P={};var v,a;for(var i=0;i<f.parameter.length;i++){var o=f.parameter[i];var s=o.name;if(M.hasOwnProperty(s)){v=M[s];a=sap.ovp.cards.ActionUtils._isMandatoryParameter(o);if(v===undefined||v===""){if(a){if(o.type==='Edm.Boolean'){P[s]=false;}else{m.push(o);}}}else{P[s]=v;}}else{throw new Error("Unknown parameter: "+s);}}return{preparedParameterData:P,missingMandatoryParameters:m};};
sap.ovp.cards.ActionUtils._isMandatoryParameter=function(p){return!sap.ovp.cards.ActionUtils._toBoolean(p.nullable);};
sap.ovp.cards.ActionUtils._toBoolean=function(p){if(typeof p==="string"){var v=p.toLowerCase();return!(v=="false"||v==""||v==" ");}return!!p;};
}());
},
	"sap/ovp/cards/CommonUtils.js":function(){(function(){"use strict";jQuery.sap.require("sap.ovp.cards.OVPCardAsAPIUtils");jQuery.sap.declare("sap.ovp.cards.CommonUtils");sap.ovp.cards.CommonUtils={app:undefined,navigationHandler:undefined,enable:function(a,n){this.app=a;this.navigationHandler=n;},getApp:function(){return this.app;},getNavigationHandler:function(){return this.navigationHandler;},createKeyForCB:function(t,T){return t.indexOf(T)+1;},createCardComponent:function(v,m,c,s){return sap.ovp.cards.OVPCardAsAPIUtils.createCardComponent(v,m,c,s);},getUnitColumn:function(m,e,f){var t,p=e.property;for(var i=0,l=p.length;i<l;i++){if(p[i].name==m){if(p[i].hasOwnProperty("Org.OData.Measures.V1.ISOCurrency")){return p[i]["Org.OData.Measures.V1.ISOCurrency"].Path?p[i]["Org.OData.Measures.V1.ISOCurrency"].Path:(f?p[i]["Org.OData.Measures.V1.ISOCurrency"].String:"");}else if(p[i].hasOwnProperty("Org.OData.Measures.V1.Unit")){t=p[i]["Org.OData.Measures.V1.Unit"].Path?p[i]["Org.OData.Measures.V1.Unit"].Path:(f?p[i]["Org.OData.Measures.V1.Unit"].String:"");if(t&&t!="%"){return t;}else{return null;}}else if(p[i].hasOwnProperty("sap:unit")){return p[i]["sap:unit"];}break;}}return null;},onHeaderClicked:function(){},onContentClicked:function(e){},getContentDensityClass:function(){if(this._sContentDensityClass===undefined){if(jQuery(document.body).hasClass("sapUiSizeCozy")||jQuery(document.body).hasClass("sapUiSizeCompact")){if(jQuery(document.body).hasClass("sapUiSizeCozy")===true){this._sContentDensityClass="sapUiSizeCozy";}else if(jQuery(document.body).hasClass("sapUiSizeCompact")===true){this._sContentDensityClass="sapUiSizeCompact";}else{this._sContentDensityClass="";}}else if(!sap.ui.Device.support.touch){this._sContentDensityClass="sapUiSizeCompact";}else{this._sContentDensityClass="sapUiSizeCozy";}}return this._sContentDensityClass;},_setCardpropertyDensityAttribute:function(){var c=this.getContentDensityClass();if(c==="sapUiSizeCompact"){return"compact";}else if(c==="sapUiSizeCozy"){return"cozy";}else if(!sap.ui.Device.support.touch){return"compact";}else{return"cozy";}},getPixelPerRem:function(){var f=parseFloat(getComputedStyle(document.documentElement).fontSize);return f;},showODataErrorMessages:function(e){var m=[],E,r,a="";if(e&&e.responseText){var R=e.responseText;if(R){try{r=JSON.parse(R);}catch(b){jQuery.sap.log.error("Failed parsing response as JSON: "+R);}if(r&&r.error){E=r.error;}}}if(E&&E.innererror&&E.innererror.errordetails){m=E.innererror.errordetails;}if(E&&E.message&&jQuery.isArray(m)){m.unshift({message:E.message.value,severity:"error"});}if(m&&m.length>0){var A={};jQuery.each(m,function(i,M){var s=M.message;if(jQuery.sap.endsWith(s,".")){s=s.substr(0,s.length-1);}if(!A[s]){A[s]=true;a=a+s+" ";}});}return a;}};}());
},
	"sap/ovp/cards/LoadingUtils.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ovp.cards.LoadingUtils");sap.ovp.cards.LoadingUtils={bAnimationStarted:false,aCanvas:[],bPageAndCardLoading:false,bAnimationStop:false,startAnimation:function(){var a=jQuery(window).width();var W={speed:(0.02*a),currentPosition:0.01,width:0.2,backgroundColor:"#f5f5f0",waveColor:"#e6e6e6"};var u=function(){W.currentPosition+=W.speed;if(W.currentPosition>a){W.currentPosition=0.01;}};var r=function(d){var p=jQuery(d).parentsUntil(".sapUiComponentContainer");if(p.length===0){return;}var P=p[p.length-1].parentNode.parentNode;if(!P||P.offsetLeft==undefined){return;}var e=P.offsetLeft;var f=d.offsetWidth;var C=d.getContext("2d");var g=C.createLinearGradient(0,0,d.width,0);g.addColorStop(0,W.backgroundColor);if(W.currentPosition>e&&W.currentPosition<(e+f)){var h=(W.currentPosition-e)/f;g.addColorStop(Math.max(h-W.width,0.01),W.backgroundColor);g.addColorStop(h,W.waveColor);g.addColorStop(Math.min(h+W.width,0.99),W.backgroundColor);}g.addColorStop(1,W.backgroundColor);C.fillStyle=g;C.fillRect(0,0,d.width,d.height);};var b=function(){if(!sap.ovp.cards.LoadingUtils.bAnimationStop){u();var C=sap.ovp.cards.LoadingUtils.aCanvas;for(var i=0;i<C.length;i++){r(C[i]);}c(b);}};var w=window,c=w.requestAnimationFrame||w.webkitRequestAnimationFrame||w.msRequestAnimationFrame||w.mozRequestAnimationFrame;b();}};}());
},
	"sap/ovp/cards/charts/SmartAnnotationManager.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ovp.cards.charts.SmartAnnotationManager");jQuery.sap.require("sap.ovp.cards.charts.Utils");sap.ovp.cards.charts.SmartAnnotationManager=sap.ovp.cards.charts.SmartAnnotationManager||{};sap.ovp.cards.charts.SmartAnnotationManager.constants={LABEL_KEY:"sap:label",LABEL_KEY_V4:"com.sap.vocabularies.Common.v1.Label",TEXT_KEY:"sap:text",TEXT_KEY_V4:"com.sap.vocabularies.Common.v1.Text",TYPE_KEY:"type",DISPLAY_FORMAT_KEY:"sap:display-format",SEMANTICS_KEY:"sap:semantics",UNIT_KEY:"sap:unit",UNIT_KEY_V4_ISOCurrency:"Org.OData.Measures.V1.ISOCurrency",UNIT_KEY_V4_Unit:"Org.OData.Measures.V1.Unit",CURRENCY_CODE:"currency-code",NAME_KEY:"name",NAME_CAP_KEY:"Name",EDM_TYPE:"type",EDM_INT32:"Edm.Int32",SCATTER_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Scatter",BUBBLE_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Bubble",LINE_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Line"};sap.ovp.cards.charts.SmartAnnotationManager.errorMessages={CARD_WARNING:"OVP-AC: Analytic card: Warning: ",CARD_ERROR:"OVP-AC: Analytic card Error: ",DATA_ANNO_ERROR:"OVP-AC: Analytic card Error:",CARD_ANNO_ERROR:"OVP-AC: Analytic card: Error ",CHART_ANNO_ERROR:"OVP-AC: Analytic card: Error ",INVALID_CHART_ANNO:"OVP-AC: Analytic Cards: Invalid Chart Annotation.",ANALYTICAL_CONFIG_ERROR:"Analytic card configuration error",CACHING_ERROR:"no model defined while caching OdataMetaData",INVALID_MAXITEMS:"maxItems is Invalid. ",NO_DATASET:"OVP-AC: Analytic Cards: Could not obtain dataset.",SORTORDER_WARNING:"SortOrder is present in PresentationVariant, but it is empty or not well formed.",BOOLEAN_ERROR:"Boolean value is not present in PresentationVariant.",IS_MANDATORY:"is mandatory.",IS_MISSING:"is missing.",NOT_WELL_FORMED:"is not found or not well formed)",MISSING_CHARTTYPE:"Missing ChartType in ",CHART_ANNO:"Chart Annotation.",DATA_ANNO:"Data Annotation",CARD_ANNO:"card annotation.",CARD_CONFIG:"card configuration.",CARD_CONFIG_ERROR:"Could not obtain configuration for ",CARD_CONTAINER_ERROR:"Could not obtain card container. ",DATA_UNAVAIALABLE:"No data available.",CONFIG_LOAD_ERROR:"Failed to load config.json. Reason: ",INVALID_CHARTTYPE:"Invalid ChartType given for ",INVALID_CONFIG:"No valid configuration given for ",CONFIG_JSON:"in config.json",ENTER_INTEGER:"Please enter an Integer.",NO_CARD_MODEL:"Could not obtain Cards model.",ANNO_REF:"com.sap.vocabularies.UI.v1 annotation.",INVALID_REDUNDANT:"Invalid/redundant role configured for ",CHART_IS:"chart is/are ",CARD_CONFIG_JSON:"card from config.json",ALLOWED_ROLES:"Allowed role(s) for ",DIMENSIONS_MANDATORY:"DimensionAttributes are mandatory.",MEASURES_MANDATORY:"MeasureAttributes are mandatory.",CARD_LEAST:"card: Enter at least ",CARD_MOST:"card: Enter at most ",FEEDS:"feed(s).",MIN_FEEDS:"Minimum number of feeds required for ",FEEDS_OBTAINED:"card is not configured. Obtained ",FEEDS_REQUIRED:"feed(s), Required: ",INVALID_SEMANTIC_MEASURES:"More than one measure is being semantically coloured",INVALID_IMPROVEMENT_DIR:"No Improvement Direction Found",INVALID_CRITICALITY:"Invalid criticality values",INVALID_DIMMEAS:"Invalid number of Measures or Dimensions",INVALID_FORECAST:"Invalid/Redundant Datapoint or Forecast measure",ERROR_MISSING_AXISSCALES:"Minimum and Maximum values are mandatory for AxisScale MinMax to work"};
sap.ovp.cards.charts.SmartAnnotationManager.formatItems=function(c,e,s,p,D,M,a){var b=c.getSetting("dataModel");var f;if(a&&a.EnumMember){f=a.EnumMember.split("/");if(f&&(f[1]!='Donut')&&(D===undefined)){return null;}if(f){b.setDefaultCountMode(sap.ui.model.odata.CountMode.Inline);}}var r="{";var g=[];var h=[];var j=[];var F=s&&s.SelectOptions;var P=s&&s.Parameters;var S=p&&p.SortOrder;var k=p&&p.MaxItems,l=null;var C;var t;var n=null;var o=sap.ovp.cards.charts.SmartAnnotationManager;var q=o.constants.TEXT_KEY;var u=o.constants.TEXT_KEY_V4;var v=o.constants.UNIT_KEY;var w=o.constants.UNIT_KEY_V4_ISOCurrency;var x=o.constants.UNIT_KEY_V4_Unit;if(k){l=k.Int32?k.Int32:k.Int;}if(l){if(l=="0"){jQuery.sap.log.error("OVP-AC: Analytic card Error: maxItems is configured as "+l);r+="}";return r;}if(!/^\d+$/.test(l)){jQuery.sap.log.error("OVP-AC: Analytic card Error: maxItems is Invalid. "+"Please enter an Integer.");r+="}";return r;}}var y,z,A,B=o.getConfig(),E=c.getSetting('ovpCardProperties');if(D){for(var G in B){if((y=B[G].reference)&&B[y]){var H=jQuery.extend(true,{},B[y]);B[G]=H;}if(B[G].default.type==f[1].toLowerCase()||(B[G].time&&B[G].time.type==f[1].toLowerCase())){z=B[G];break;}}var I=sap.ovp.cards.charts.VizAnnotationManager.hasTimeSemantics(D,z,b,n);if(I){z=z.time;}else{z=z.default;}A=E.getProperty('/dataStep');if(!A){if(z.resize&&z.resize.hasOwnProperty('dataStep')){A=z.resize.dataStep;E.setProperty('/dataStep',A);}}}if(E.getProperty('/layoutDetail')==='resizable'){var J=E.getProperty('/cardLayout/colSpan');l=+l+ +A*(J-1);}var K=E.getProperty('/parameters');P=P||!!K;if(P){var L=sap.ovp.cards.AnnotationHelper.resolveParameterizedEntitySet(b,e,s,K);r+="path: '"+L+"'";}else{r+="path: '/"+e.name+"'";}var N=[];if(!c||!c.getSetting('ovpCardProperties')){jQuery.sap.log.error(o.errorMessages.ANALYTICAL_CONFIG_ERROR);r+="}";return r;}n=c.getSetting('ovpCardProperties').getProperty("/entitySet");if(!b||!n){return r;}var O=o.getMetadata(b,n);C=c.getSetting('ovpCardProperties').getProperty("/filters");if(F){jQuery.each(s.SelectOptions,function(){var d=this.PropertyName.PropertyPath;jQuery.each(this.Ranges,function(){if(this.Sign.EnumMember==="com.sap.vocabularies.UI.v1.SelectionRangeSignType/I"){var m=sap.ovp.cards.charts.SmartAnnotationManager.getPrimitiveValue(this.Low);var Z=this.High&&this.High.String;var $=o.formatByType;m=$(O,d,m);var _={path:d,operator:this.Option.EnumMember.split("/")[1],value1:m};if(Z){_.value2=$(O,d,Z);}N.push(_);}});});}if(C&&C.length>0){N=N.concat(C);}if(N.length>0){r+=", filters: "+JSON.stringify(N);}if(S){var Q=p.SortOrder;if(!Q.length){Q=sap.ovp.cards.charts.Utils.getSortAnnotationCollection(b,p,e);}if(Q.length<1){jQuery.sap.log.warning(o.errorMessages.CARD_WARNING+o.errorMessages.SORTORDER_WARNING);}else{var R="";var T;var U;var V;for(var i=0;i<Q.length;i++){T=Q[i];V=T.Property.PropertyPath;j.push(V);if(typeof T.Descending=="undefined"){U='true';}else{var W=T.Descending.Bool||T.Descending.Boolean;if(!W){jQuery.sap.log.warning(o.errorMessages.CARD_WARNING+o.errorMessages.BOOLEAN_ERROR);U='true';}else{U=W.toLowerCase()=='true'?'true':'false';}}R=R+"{path: '"+V+"',descending: "+U+"},";}r+=", sorter: ["+R.substring(0,R.length-1)+"]";}}var X=c.getSetting("ovpCardProperties").getProperty("/entityType");jQuery.each(M,function(i,m){t=m.Measure.PropertyPath;if(m.DataPoint&&m.DataPoint.AnnotationPath){var d=X[m.DataPoint.AnnotationPath.substring(1)];if(d&&d.ForecastValue&&d.ForecastValue.PropertyPath){h.push(d.ForecastValue.PropertyPath);}if(d&&d.TargetValue&&d.TargetValue.PropertyPath){h.push(d.TargetValue.PropertyPath);}}h.push(t);if(O&&O[t]){if(O[t][u]){if(O[t][u].String&&t!=O[t][u].String){h.push(O[t][u].String?O[t][u].String:t);}else if(O[t][u].Path&&t!=O[t][u].Path){h.push(O[t][u].Path?O[t][u].Path:t);}}else if(O[t][q]&&t!=O[t][q]){h.push(O[t][q]?O[t][q]:t);}}if(O&&O[t]){var Z;if(O[t][w]){Z=O[t][w].Path?O[t][w].Path:O[t][w].String;}else if(O[t][x]){Z=O[t][x].Path?O[t][x].Path:O[t][x].String;}else if(O[t][v]){Z=O[t][v];}if(Z){if(jQuery.inArray(Z,h)===-1){h.push(Z);}}}});jQuery.each(D,function(i,d){t=d.Dimension.PropertyPath;g.push(t);if(O&&O[t]){if(O[t][u]){if(O[t][u].String&&t!=O[t][u].String){g.push(O[t][u].String?O[t][u].String:t);}else if(O[t][u].Path&&t!=O[t][u].Path){g.push(O[t][u].Path?O[t][u].Path:t);}}else if(O[t][q]&&t!=O[t][q]){g.push(O[t][q]?O[t][q]:t);}}});r+=", parameters: {select:'"+[].concat(g,h).join(",");if(j.length>0){r+=","+j.join(",");}r+="'";var Y=[];jQuery.each(g,function(i,d){var m=d.indexOf("/");if(m>0){var Z=d.split("/");Z.splice(-1,1);Z=Z.join("/");Y.push(Z);}});if(Y.length>0){r+=", expand:'"+Y.join(",")+"'";}r+="}";if(f&&(f[1]==='Donut')&&(D===undefined)){r+=", length: 1";}else if(f&&(f[1]==='Donut')&&(D)&&l){r+=", length: "+(parseInt(l,10)+1);}else if(l){r+=", length: "+l;}r+="}";return r;};
sap.ovp.cards.charts.SmartAnnotationManager.formatItems.requiresIContext=true;
sap.ovp.cards.charts.SmartAnnotationManager.formatChartAxes=function(){jQuery.sap.require("sap.ui.core.format.NumberFormat");var c={locale:function(){},format:function(v,p){var a="";if(p){a=p.split('/');}if(a.length>0){var m,s;if(a.length==3){m=Number(a[1]);s=Number(a[2]);if(isNaN(m)){m=-1;}if(isNaN(s)){s=0;}}else{m=2;s=0;}if(a[0]=="axisFormatter"||(a[0]=="ShortFloat")){var n;n=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});if(a[0]=="ShortFloat"){n=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});}if(m===-1){n=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short'});}return n.format(Number(v));}else if(a[0]==="tooltipNoScaleFormatter"){var t=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',currencyCode:false,shortRefNumber:s,showScale:false,minFractionDigits:m,maxFractionDigits:m});if(m===-1){t=sap.ui.core.format.NumberFormat.getCurrencyInstance({style:'short',currencyCode:false});}return t.format(Number(v));}else if(a[0]=="CURR"){var b=sap.ui.core.format.NumberFormat.getCurrencyInstance({style:'short',currencyCode:false,minFractionDigits:m,maxFractionDigits:m});if(m===-1){b=sap.ui.core.format.NumberFormat.getCurrencyInstance({style:'short',currencyCode:false});}return b.format(Number(v));}else if(a[0].search("%")!==-1){var d=sap.ui.core.format.NumberFormat.getPercentInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});if(m===-1){d=sap.ui.core.format.NumberFormat.getPercentInstance({style:'short',minFractionDigits:1,maxFractionDigits:1});}v=d.format(Number(v));return v;}}if(v.constructor===Date){jQuery.sap.require("sap.ui.core.format.DateFormat");var D=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:p});if(p==="YearMonthDay"){D=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});}v=D.format(new Date(v));}return v;}};jQuery.sap.require("sap.viz.ui5.api.env.Format");sap.viz.ui5.api.env.Format.numericFormatter(c);};
sap.ovp.cards.charts.SmartAnnotationManager.checkExists=function(t,a,b,m,l,c){var s=sap.ovp.cards.charts.SmartAnnotationManager;m=typeof m==="undefined"?false:m;var r=false;var d;if(!t&&m){jQuery.sap.log.error(l+s.errorMessages.CARD_ERROR+b+s.errorMessages.IS_MANDATORY);return r;}if(!t){jQuery.sap.log.warning(l+s.errorMessagesCARD_WARNING+b+s.errorMessages.IS_MISSING);r=true;return r;}d=a[t];if(!d||typeof d!=="object"){var e=m?jQuery.sap.log.error:jQuery.sap.log.warning;e(l+s.errorMessages.CARD_ERROR+"in "+b+". ("+t+" "+s.errorMessages.NOT_WELL_FORMED);return r;}if(c&&c=="sap.ovp.cards.charts.analytical.analyticalChart"&&b=="Chart Annotation"&&(!d.ChartType||!d.ChartType.EnumMember)){jQuery.sap.log.error(l+s.errorMessages.CARD_ERROR+s.errorMessages.MISSING_CHARTTYPE+s.errorMessages.CHART_ANNO);return r;}r=true;return r;};
sap.ovp.cards.charts.SmartAnnotationManager.validateCardConfiguration=function(c){var s=sap.ovp.cards.charts.SmartAnnotationManager;var r=false;if(!c){return r;}var a;var b;var d;var p;var i;var P;var e;var l="";var C;var v=c.getView();if(v){l="["+v.getId()+"] ";}if(!(C=c.getCardPropertiesModel())){jQuery.sap.log.error(l+s.errorMessages.CARD_ERROR+"in "+s.errorMessages.CARD_CONFIG+s.errorMessages.NO_CARD_MODEL);return r;}e=C.getProperty("/entityType");if(!e||jQuery.isEmptyObject(e)){jQuery.sap.log.error(l+s.errorMessages.CARD_ERROR+"in "+s.errorMessages.CARD_ANNO);return r;}a=C.getProperty("/selectionAnnotationPath");b=C.getProperty("/chartAnnotationPath");p=C.getProperty("/presentationAnnotationPath");i=C.getProperty("/identificationAnnotationPath");P=C.getProperty("/dataPointAnnotationPath");d=C.getProperty("/contentFragment");r=this.checkExists(a,e,"Selection Variant",false,l);r=this.checkExists(b,e,"Chart Annotation",true,l,d)&&r;r=this.checkExists(p,e,"Presentation Variant",false,l)&&r;r=this.checkExists(i,e,"Identification Annotation",true,l)&&r;r=this.checkExists(P,e,"Data Point",false,l)&&r;return r;};
sap.ovp.cards.charts.SmartAnnotationManager.getConfig=function(c){var s=sap.ovp.cards.charts.SmartAnnotationManager;var r={};var a,b,d,f,g=null;var C=!!c;if(!jQuery.sap.getObject("sap.ovp.cards.charts.config")){d=jQuery.sap.getModulePath("sap.ovp.cards.charts");sap.ovp.cards=sap.ovp.cards||{};sap.ovp.cards.charts=sap.ovp.cards.charts||{};try{sap.ovp.cards.charts.config=jQuery.sap.loadResource({url:d+"/config.json",dataType:"json",async:false});}catch(e){jQuery.sap.log.error(s.errorMessages.CONFIG_LOAD_ERROR+e);}sap.ovp.cards.charts.config=sap.ovp.cards.charts.config||{};}g=sap.ovp.cards.charts.config;if(!C){return g;}if(!c.EnumMember||!(a=c.EnumMember.split("/"))||a.length<2){jQuery.sap.log.error(s.errorMessages.CARD_ERROR+s.errorMessages.INVALID_CHARTTYPE+s.errorMessages.ANNO_REF);return r;}b=a[1];if(!g[b]){jQuery.sap.log.error(s.errorMessages.INVALID_CONFIG+b+" "+s.errorMessages.CONFIG_JSON);return r;}if((f=g[b].reference)&&g[f]){var v=jQuery.extend(true,{},g[f]);g[b]=v;}r=g[b];return r;};
sap.ovp.cards.charts.SmartAnnotationManager.hasTimeSemantics=function(d,c,a,e){var r=false;var m;var b;var f;var g;var s;var h;if(!c.time||jQuery.isEmptyObject(c.time)){return r;}if(!d){return r;}if(!d[0].Dimension||!(b=d[0].Dimension.PropertyPath)){return r;}m=this.getMetadata(a,e);for(var i=0;i<d.length;i++){if(d[i]&&d[i].Dimension&&d[i].Dimension.PropertyPath){b=d[i].Dimension.PropertyPath;}if(m&&m[b]){f=m[b][this.constants.TYPE_KEY];g=m[b][this.constants.DISPLAY_FORMAT_KEY];s=m[b][this.constants.SEMANTICS_KEY];h=m[b]["com.sap.vocabularies.Common.v1.IsCalendarYear"];}if(f&&g&&f.lastIndexOf("Edm.Date",0)===0&&g.toLowerCase()=="date"){r=true;return r;}if(f=="Edm.String"&&(h||s&&s.lastIndexOf("year",0)===0)){r=true;return r;}}return r;};
sap.ovp.cards.charts.SmartAnnotationManager.getChartType=function(c,C,d){var r="";var s=sap.ovp.cards.charts.SmartAnnotationManager;var a=s.getConfig(C);var b,e;if(!a){return r;}r=a.default.type;b=c.getSetting("dataModel");e=c.getSetting('ovpCardProperties').getProperty("/entitySet");if(s.hasTimeSemantics(d,a,b,e)){r=a.time.type;}return r;};
sap.ovp.cards.charts.SmartAnnotationManager.getChartType.requiresIContext=true;
sap.ovp.cards.charts.SmartAnnotationManager.checkRolesForProperty=function(q,c,t){var s=sap.ovp.cards.charts.SmartAnnotationManager;if(!q.length){return;}var a=t=="dimension"?"Dimension":"Measure";var b=[];jQuery.each(q,function(i,v){if(!v||!v[a]||!v[a].PropertyPath){jQuery.sap.log.error(s.errorMessages.INVALID_CHART_ANNO);return false;}b.push(v[a].PropertyPath);});var d=jQuery.map(c.feeds,function(f){if(f.type==t){if(f.role){return f.role.split("|");}return[];}});d=jQuery.grep(d,function(r,i){return jQuery.inArray(r,d)==i;}).join(", ");jQuery.sap.log.error(s.errorMessages.CARD_ERROR+s.errorMessages.INVALID_REDUNDANT+t+"(s) "+b.join(", ")+". "+s.errorMessages.ALLOWED_ROLES+c.type+s.errorMessages.CHART_IS+d);};
sap.ovp.cards.charts.SmartAnnotationManager.getPrimitiveValue=function(v){var a;if(v){if(v.String){a=v.String;}else if(v.Boolean||v.Bool){a=sap.ovp.cards.charts.SmartAnnotationManager.getBooleanValue(v);}else{a=sap.ovp.cards.charts.SmartAnnotationManager.getNumberValue(v);}}return a;};
sap.ovp.cards.charts.SmartAnnotationManager.getBooleanValue=function(v,d){if(v&&v.Boolean){if(v.Boolean.toLowerCase()==="true"){return true;}else if(v.Boolean.toLowerCase()==="false"){return false;}}else if(v&&v.Bool){if(v.Bool.toLowerCase()==="true"){return true;}else if(v.Bool.toLowerCase()==="false"){return false;}}return d;};
sap.ovp.cards.charts.SmartAnnotationManager.getNumberValue=function(v){var a;if(v){if(v.String){a=Number(v.String);}else if(v.Int){a=Number(v.Int);}else if(v.Decimal){a=Number(v.Decimal);}else if(v.Double){a=Number(v.Double);}else if(v.Single){a=Number(v.Single);}}return a;};
sap.ovp.cards.charts.SmartAnnotationManager.checkNumberFormat=function(m,v,e){if(v&&v.DataPoint&&v.DataPoint.AnnotationPath){var d=e[v.DataPoint.AnnotationPath.substring(1)];var f,a;if(d&&d.ValueFormat){f=d.ValueFormat;}else if(d&&d.NumberFormat){f=d.NumberFormat;}if(f&&f.NumberOfFractionalDigits&&f.NumberOfFractionalDigits.Int){a=f.NumberOfFractionalDigits.Int;if(m<Number(a)){m=Number(a);}}}return m;};
sap.ovp.cards.charts.SmartAnnotationManager.getMaxScaleFactor=function(m,v,e){if(v&&v.DataPoint&&v.DataPoint.AnnotationPath){var d=e[v.DataPoint.AnnotationPath.substring(1)];var s,S;if(d&&d.ValueFormat){s=d.ValueFormat;}else if(d&&d.NumberFormat){s=d.NumberFormat;}if(s){if(s.ScaleFactor&&s.ScaleFactor.Decimal){S=Number(s.ScaleFactor.Decimal);}else if(s.ScaleFactor&&s.ScaleFactor.Int){S=Number(s.ScaleFactor.Int);}if(!isNaN(S)){if(m===undefined){m=Number(S);}else if(m>Number(S)){m=Number(S);}}}}return m;};
sap.ovp.cards.charts.SmartAnnotationManager.isMeasureCurrency=function(m,s){var a=sap.ovp.cards.charts.SmartAnnotationManager;if(m&&m[s]&&(m[s]["Org.OData.Measures.V1.ISOCurrency"]||(m[s][a.constants.SEMANTICS_KEY]&&m[s][a.constants.SEMANTICS_KEY]===a.constants.CURRENCY_CODE))){return true;}return false;};
sap.ovp.cards.charts.SmartAnnotationManager.fractionalDigitsExists=function(v,e){if(v.DataPoint&&v.DataPoint.AnnotationPath){var d=e[v.DataPoint.AnnotationPath.substring(1)];if(d&&d.ValueFormat&&d.ValueFormat.NumberOfFractionalDigits&&d.ValueFormat.NumberOfFractionalDigits.Int){return true;}else if(d&&d.NumberFormat&&d.NumberFormat.NumberOfFractionalDigits&&d.NumberFormat.NumberOfFractionalDigits.Int){return true;}}return false;};
sap.ovp.cards.charts.SmartAnnotationManager.checkEDMINT32Exists=function(m,v,f){var s=sap.ovp.cards.charts.SmartAnnotationManager;if(m[v[f].PropertyPath][s.constants.EDM_TYPE]==s.constants.EDM_INT32){return true;}return false;};
sap.ovp.cards.charts.SmartAnnotationManager.setChartScaleTitle=function(v,a,h,c){var C,e,b,d;var M;var s=sap.ovp.cards.charts.SmartAnnotationManager;var u=s.constants.UNIT_KEY;var f=s.constants.UNIT_KEY_V4_ISOCurrency;var g=s.constants.UNIT_KEY_V4_Unit;if(!(C=v.getModel('ovpCardProperties'))){jQuery.sap.log.error(s.errorMessages.CARD_ERROR+"in "+s.errorMessages.CARD_CONFIG+s.errorMessages.NO_CARD_MODEL);return;}var j=v.getModel();var k=C.getProperty("/entitySet");if(!j||!k){return;}e=C.getProperty("/entityType");if(!e){jQuery.sap.log.error(s.errorMessages.CARD_ANNO_ERROR+"in "+s.errorMessages.CARD_ANNO);return;}var o=s.getMetadata(j,k);b=C.getProperty("/chartAnnotationPath");if(!b||!(d=e[b])){jQuery.sap.log.error(s.errorMessages.CARD_ANNO_ERROR+"in "+s.errorMessages.CARD_ANNO);return;}if(!(M=d.MeasureAttributes)||!M.length){jQuery.sap.log.error(s.errorMessages.CHART_ANNO_ERROR+"in "+s.errorMessages.CHART_ANNO+" "+s.errorMessages.MEASURES_MANDATORY);return;}var r=a?a.results:null;var p,l="",n=[];var q=true;var t=[];var w=v.getFeeds();jQuery.each(w,function(i,m){if(m.getType()==="Measure"){t=t.concat(m.getValues());}});var x="";if(r){jQuery.each(M,function(i,m){var z="";p=m.Measure.PropertyPath;if(o&&o[p]){if(o[p][s.constants.LABEL_KEY_V4]){z=o[p][s.constants.LABEL_KEY_V4].String?o[p][s.constants.LABEL_KEY_V4].String:o[p][s.constants.LABEL_KEY_V4].Path;}else if(o[p][s.constants.LABEL_KEY]){z=o[p][s.constants.LABEL_KEY];}else if(p){z=p;}}if(jQuery.inArray(z,t)!=-1){if(o&&o[p]){var A;if(o[p][f]){A=o[p][f].Path?o[p][f].Path:o[p][f].String;}else if(o[p][g]){A=o[p][g].Path?o[p][g].Path:o[p][g].String;}else if(o[p][u]){A=o[p][u];}if(A&&o[A]){for(var i=0;i<r.length;i++){var B=r[i];if(q){if(l&&B[A]&&(B[A]!="")&&(l!="")&&(l!=B[A])){q=false;}}l=B[A];if(l&&l!=""){var D={};D.name=z;D.value=l;n.push(D);break;}}}}}});}var V=v.getVizProperties();var y="";if(h){x=h.getScale();}if(q){if(isNaN(Number(x))&&x!=undefined){if(l!=""){y=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN",[x,l]);}else{y=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN_NO_SCALE",[x]);}}else if(l!=""){y=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN_NO_SCALE",[l]);}if(c){c.setText(y);c.data("aria-label",y,true);}}else if(!q){jQuery.each(V,function(i,m){if(m&&m.title){var z=m.title.text;for(var i=0;i<n.length;i++){if(n[i].name===z){var A="";if(isNaN(Number(x))&&x!=undefined){if(l!=""){A=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("AXES_TITLE",[z,x,n[i].value]);}else{A=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("AXES_TITLE_NO_SCALE",[x]);}}else if(l!=""){A=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("AXES_TITLE_NO_SCALE",[z,n[i].value]);}m.title={text:A};}}}});v.setVizProperties(V);}};
sap.ovp.cards.charts.SmartAnnotationManager.getMetadata=function(m,e){var a=this.cacheODataMetadata(m);if(!a){return undefined;}return a[e];};
sap.ovp.cards.charts.SmartAnnotationManager.setSmartFormattedChartTitle=function(m,d,s){var t="",a="",b="";if(s){t=s.getHeader();}if(m&&(m.length>1)){for(var i=0;i<m.length-1;i++){if(a!=""){a+=", ";}a+=m[i];}a=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[a,m[i]]);}else if(m){a=m[0];}if(d&&(d.length>1)){for(var i=0;i<d.length-1;i++){if(b!=""){b+=", ";}b+=d[i];}b=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[b,d[i]]);}else if(d){b=d[0];}if(s&&s.getHeader()=="Dummy"){t=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("NO_CHART_TITLE",[a,b]);s.setHeader(t);}return t;};
sap.ovp.cards.charts.SmartAnnotationManager.getScaleUnit=function(m,i){var n=1;var s;if(i){var c=sap.ui.core.format.NumberFormat.getCurrencyInstance({style:'short',currencyCode:false,shortRefNumber:m});s=c.format(Number(n));}else{var a=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',shortRefNumber:m});s=a.format(Number(n));}var b=s.slice(-1);return b;};
sap.ovp.cards.charts.SmartAnnotationManager.cacheODataMetadata=function(m){var s=sap.ovp.cards.charts.SmartAnnotationManager;if(m){if(!jQuery.sap.getObject("sap.ovp.cards.charts.cachedMetaModel")){sap.ovp.cards.charts.cachedMetaModel={};}var a=sap.ovp.cards.charts.cachedMetaModel[m.getId()];if(!a){var b=m.getMetaModel();a={};var c=b.getODataEntityContainer();jQuery.each(c.entitySet,function(d,e){var f=b.getODataEntityType(e.entityType);var g={};jQuery.each(f.property,function(p,h){g[h.name]=h;});a[e.name]=g;});sap.ovp.cards.charts.cachedMetaModel[m.getId()]=a;}return a;}else{jQuery.sap.log.error(s.errorMessages.CARD_ERROR+s.errorMessages.CACHING_ERROR);}};
sap.ovp.cards.charts.SmartAnnotationManager.getSelectedDataPoint=function(v,c){v.attachSelectData(function(e){var s=sap.ovp.cards.charts.SmartAnnotationManager;var C=v.getModel('ovpCardProperties');var d=v.getModel();var a=C.getProperty("/entitySet");var m=s.getMetadata(d,a);var b=[],f=[];var g={};var h=v.getDataset().getDimensions();var l;for(var i=0;i<h.length;i++){b.push(h[i].getName());}var n=jQuery.map(v.getDataset()._getDataContexts(),function(x){return x.getObject();});if(e.getParameter("data")&&e.getParameter("data")[0]&&e.getParameter("data")[0].data){l=e.getParameter("data")[0].data._context_row_number;if(n[l].$isOthers&&n[l].$isOthers==true){var o={$isOthers:true};var p={getObject:function(){return o;}};c.doNavigation(p);}else{f=Object.keys(e.getParameter("data")[0].data);for(var j=0;j<b.length;j++){for(var k=0;k<f.length;k++){if(b[j]==f[k]){for(var q in m){if(m.hasOwnProperty(q)){var r=m[q][s.constants.LABEL_KEY]||m[q][s.constants.NAME_KEY]||m[q][s.constants.NAME_CAP_KEY];if(r==f[k]){g[q]=n[l][q];}}}}}}var p={getObject:function(){return g;}};c.doNavigation(p);}}});};
sap.ovp.cards.charts.SmartAnnotationManager.checkBubbleChart=function(c){if(c.EnumMember.endsWith("Bubble")){return true;}else{return false;}};
sap.ovp.cards.charts.SmartAnnotationManager.dimensionAttrCheck=function(d){var r=false;var s=sap.ovp.cards.charts.SmartAnnotationManager;if(!d||d.constructor!=Array||d.length<1||d[0].constructor!=Object||!d[0].Dimension||!d[0].Dimension.PropertyPath){jQuery.sap.log.error(s.errorMessages.CHART_ANNO_ERROR+"in "+s.errorMessages.CHART_ANNO+" "+s.errorMessages.DIMENSIONS_MANDATORY);return r;}r=true;return r;};
sap.ovp.cards.charts.SmartAnnotationManager.measureAttrCheck=function(m){var r=false;var s=sap.ovp.cards.charts.SmartAnnotationManager;if(!m||m.constructor!=Array||m.length<1||m[0].constructor!=Object||!m[0].Measure||!m[0].Measure.PropertyPath){jQuery.sap.log.error(s.errorMessages.CHART_ANNO_ERROR+"in "+s.errorMessages.CHART_ANNO+" "+s.errorMessages.MEASURES_MANDATORY);return r;}r=true;return r;};
sap.ovp.cards.charts.SmartAnnotationManager.getEntitySet=function(e){return e.name;};
sap.ovp.cards.charts.SmartAnnotationManager.getAnnotationQualifier=function(a){if(a&&a.indexOf("#")!=-1){var t=a.split("#");if(t.length>1){return t[1];}}return"";};
sap.ovp.cards.charts.SmartAnnotationManager.buildSmartAttributes=function(s,c){function g(R,U,V){var W=U.split('.');var p=W.pop();var X=W.reduce(function(Y,Z){if(Y[Z]===undefined){Y[Z]={};}return Y[Z];},R);if(V){X[p]=V;}return X[p];}var C,e,a,b;var d,f,h,D,m,q,Q;var S;var r;var v;var k=[],l=[];var n=sap.ovp.cards.charts.SmartAnnotationManager;var o=s.getChart();d=o.getChartType();f=this.getConfig();for(var p in f){if((r=f[p].reference)&&f[r]){var t=jQuery.extend(true,{},f[r]);f[p]=t;}if(f[p].default.type==d||(f[p].time&&f[p].time.type==d)){h=f[p];break;}}if(!h){jQuery.sap.log.error(n.errorMessages.CARD_ERROR+"in "+n.errorMessages.CARD_CONFIG+n.errorMessages.CARD_CONFIG_ERROR+d+" "+n.errorMessages.CARD_CONFIG_JSON);return;}if(!(C=s.getModel('ovpCardProperties'))){jQuery.sap.log.error(n.errorMessages.CARD_ERROR+"in "+n.errorMessages.CARD_CONFIG+n.errorMessages.NO_CARD_MODEL);return;}var u=s.getModel();var w=C.getProperty("/entitySet");if(!u||!w){return;}e=C.getProperty("/entityType");if(!e){jQuery.sap.log.error(n.errorMessages.CARD_ANNO_ERROR+"in "+n.errorMessages.CARD_ANNO);return;}var M=n.getMetadata(u,w);a=C.getProperty("/chartAnnotationPath");if(!a||!(b=e[a])){jQuery.sap.log.error(n.errorMessages.CARD_ANNO_ERROR+"in "+n.errorMessages.CARD_ANNO);return;}if(!(D=b.DimensionAttributes)||!D.length){jQuery.sap.log.error(n.errorMessages.CHART_ANNO_ERROR+"in "+n.errorMessages.CHART_ANNO+" "+n.errorMessages.DIMENSIONS_MANDATORY);return;}if(!(m=b.MeasureAttributes)||!m.length){jQuery.sap.log.error(n.errorMessages.CHART_ANNO_ERROR+"in "+n.errorMessages.CHART_ANNO+" "+n.errorMessages.MEASURES_MANDATORY);return;}Q=D.slice();q=m.slice();var x,y;for(var i=0;i<Q.length;i++){var z=Q[i];if(z&&z.Dimension&&z.Dimension.PropertyPath){x=z.Dimension.PropertyPath;if(M&&M[x]){if(M[x][n.constants.LABEL_KEY_V4]){y=M[x][n.constants.LABEL_KEY_V4].String?M[x][n.constants.LABEL_KEY_V4].String:M[x][n.constants.LABEL_KEY_V4].Path;}else if(M[x][n.constants.LABEL_KEY]){y=M[x][n.constants.LABEL_KEY];}else if(x){y=x;}l.push(y);}}}for(var j=0;j<q.length;j++){var A=q[j];if(A&&A.Measure&&A.Measure.PropertyPath){x=A.Measure.PropertyPath;if(M&&M[x]){if(M[x][n.constants.LABEL_KEY_V4]){y=M[x][n.constants.LABEL_KEY_V4].String?M[x][n.constants.LABEL_KEY_V4].String:M[x][n.constants.LABEL_KEY_V4].Path;}else if(M[x][n.constants.LABEL_KEY]){y=M[x][n.constants.LABEL_KEY];}else if(x){y=x;}k.push(y);}}}S=n.hasTimeSemantics(D,h,u,w);if(S){h=h.time;}else{h=h.default;}var E=false;var T=new sap.viz.ui5.controls.VizTooltip({formatString:'tooltipNoScaleFormatter'});T.connect(o.getVizUid());if(o){var B=o.getVizProperties();var H=true;if(h.properties&&h.properties.hasOwnProperty("hideLabel")&&!h.properties["hideLabel"]){H=false;}var F=false;if(d=='donut'){F=true;}if(B&&B.plotArea&&B.plotArea.dataLabel&&B.plotArea.dataLabel.visible){B.plotArea.dataLabel.visible=F;}B.title.visible=H?false:true;v={legend:{isScrollable:false},valueAxis:{title:{visible:H?false:true},label:{formatString:B.valueAxis.formatString}},categoryAxis:{title:{visible:H?false:true}},plotArea:{window:{start:'firstDataPoint',end:'lastDataPoint'},dataLabel:{visible:F,type:'value'}},interaction:{selectability:{legendSelection:false,axisLabelSelection:false,mode:'EXCLUSIVE',plotLassoSelection:false,plotStdSelection:true},zoom:{enablement:'disabled'}}};if(b.ChartType.EnumMember===sap.ovp.cards.charts.SmartAnnotationManager.constants.SCATTER_CHARTTYPE||b.ChartType.EnumMember===sap.ovp.cards.charts.SmartAnnotationManager.constants.BUBBLE_CHARTTYPE||b.ChartType.EnumMember===sap.ovp.cards.charts.SmartAnnotationManager.constants.LINE_CHARTTYPE){if(b&&b.AxisScaling&&b.AxisScaling.EnumMember){var G=b.AxisScaling.EnumMember.substring(b.AxisScaling.EnumMember.lastIndexOf('/')+1,b.AxisScaling.EnumMember.length);switch(G){case"AdjustToDataIncluding0":v.plotArea.adjustScale=false;break;case"AdjustToData":v.plotArea.adjustScale=true;break;case"MinMaxValues":var I=[];if(b["MeasureAttributes"][0]&&b["MeasureAttributes"][0].DataPoint&&b["MeasureAttributes"][0].DataPoint.AnnotationPath){var J=b["MeasureAttributes"][0].DataPoint.AnnotationPath;var K=J.substring(J.lastIndexOf('@')+1,J.length);if(e&&e[K]){var L=e[K];if(L&&L.MaximumValue&&L.MaximumValue.Decimal&&L.MinimumValue&&L.MinimumValue.Decimal){I.push({feed:"valueAxis",max:L.MaximumValue.Decimal,min:L.MinimumValue.Decimal});}else{jQuery.sap.log.error(n.errorMessages.ERROR_MISSING_AXISSCALES);}}}if(b.ChartType.EnumMember!==sap.ovp.cards.charts.SmartAnnotationManager.constants.LINE_CHARTTYPE&&b["MeasureAttributes"][1]&&b["MeasureAttributes"][1].DataPoint&&b["MeasureAttributes"][1].DataPoint.AnnotationPath){var J=b["MeasureAttributes"][1].DataPoint.AnnotationPath;var K=J.substring(J.lastIndexOf('@')+1,J.length);if(e&&e[K]){var L=e[K];if(L&&L.MaximumValue&&L.MaximumValue.Decimal&&L.MinimumValue&&L.MinimumValue.Decimal){I.push({feed:"valueAxis2",max:L.MaximumValue.Decimal,min:L.MinimumValue.Decimal});}else{jQuery.sap.log.error(n.errorMessages.ERROR_MISSING_AXISSCALES);}}}o.setVizScales(I);break;default:break;}}}var N=C.getProperty('/ChartProperties');if(h.hasOwnProperty('vizProperties')){var O=h.vizProperties;for(var i=0;i<O.length;i++){if(N&&O[i].hasOwnProperty('path')){var P=g(N,O[i].path);if(undefined!==P){g(v,O[i].path,P);}}}}o.setVizProperties(v);}[h.dimensions,h.measures].forEach(function(R,i){var U=i?m:D;var V=i?"measure(s)":"dimension(s)";if(R.min&&U.length<R.min){jQuery.sap.log.error(n.errorMessages.CARD_ERROR+"in "+d+" "+n.errorMessages.CARD_LEAST+R.min+" "+V);E=true;}if(R.max&&U.length>R.max){jQuery.sap.log.error(n.errorMessages.CARD_ERROR+"in "+d+n.errorMessages.CARD_MOST+R.max+" "+V);E=true;}});if(E){return;}sap.ovp.cards.charts.SmartAnnotationManager.setSmartFormattedChartTitle(k,l,s);if(s){if(s._headerText){s._headerText.setTooltip(s.getHeader());s._headerText.addStyleClass("ovpChartTitle");}}};
sap.ovp.cards.charts.SmartAnnotationManager.setFormattedChartTitle=function(m,d,c){var t="",a="",b="";if(c){t=c.getText();}if(m&&(m.length>1)){for(var i=0;i<m.length-1;i++){if(a!=""){a+=", ";}a+=m[i];}a=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[a,m[i]]);}else if(m){a=m[0];}if(d&&(d.length>1)){for(var i=0;i<d.length-1;i++){if(b!=""){b+=", ";}b+=d[i];}b=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[b,d[i]]);}else if(d){b=d[0];}if(c&&(t=="")){t=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("NO_CHART_TITLE",[a,b]);c.setText(t);c.data("aria-label",t,true);}};
sap.ovp.cards.charts.SmartAnnotationManager.onDataReceived=function(v,c,d){var a=d?d.getParameter('data'):null;var l=(a&&a.results)?a.results.length:0;var t=a?a.__count:0;var b=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Count_Header",[l,t]);c.setText(b);c.data("aria-label",b,true);};
sap.ovp.cards.charts.SmartAnnotationManager.setCustomTitle=function(c,m,d){var t=c?c.String:"";return t;};
sap.ovp.cards.charts.SmartAnnotationManager.setChartScaleTitleNew=function(v,a,f,c,t){var C,e,b,d;var M;var s=sap.ovp.cards.charts.SmartAnnotationManager;var u=s.constants.UNIT_KEY;var g=s.constants.UNIT_KEY_V4_ISOCurrency;var h=s.constants.UNIT_KEY_V4_Unit;if(v.getVizType()==='donut'){return;}if(!(C=v.getModel('ovpCardProperties'))){jQuery.sap.log.error(s.errorMessages.CARD_ERROR+"in "+s.errorMessages.CARD_CONFIG+s.errorMessages.NO_CARD_MODEL);return;}var k=v.getModel();var l=C.getProperty("/entitySet");if(!k||!l){return;}e=C.getProperty("/entityType");if(!e){jQuery.sap.log.error(s.errorMessages.CARD_ANNO_ERROR+"in "+s.errorMessages.CARD_ANNO);return;}var o=s.getMetadata(k,l);b=C.getProperty("/chartAnnotationPath");if(!b||!(d=e[b])){jQuery.sap.log.error(s.errorMessages.CARD_ANNO_ERROR+"in "+s.errorMessages.CARD_ANNO);return;}if(!(M=d.MeasureAttributes)||!M.length){jQuery.sap.log.error(s.errorMessages.CHART_ANNO_ERROR+"in "+s.errorMessages.CHART_ANNO+" "+s.errorMessages.MEASURES_MANDATORY);return;}var r=a?a.results:null;var p,n="",q=[];var w=true;var x=true;var y=[];var z=v.getFeeds();jQuery.each(z,function(i,j){if(j.getType()==="Measure"){y=y.concat(j.getValues());}});var A="";jQuery.each(f,function(i,j){if(A===""){A=j.scale;}if(A!=j.scale&&(i!="bubbleWidth")){x=false;return false;}});if(r){jQuery.each(M,function(i,m){var j="";p=m.Measure.PropertyPath;if(o&&o[p]){if(o[p][s.constants.LABEL_KEY_V4]){j=o[p][s.constants.LABEL_KEY_V4].String?o[p][s.constants.LABEL_KEY_V4].String:o[p][s.constants.LABEL_KEY_V4].Path;}else if(o[p][s.constants.LABEL_KEY]){j=o[p][s.constants.LABEL_KEY];}else if(p){j=p;}}if(jQuery.inArray(j,y)!=-1){if(o&&o[p]){var D;if(o[p][g]){D=o[p][g].Path?o[p][g].Path:o[p][g].String;}else if(o[p][h]){D=o[p][h].Path?o[p][h].Path:o[p][h].String;}else if(o[p][u]){D=o[p][u];}if(D&&o[D]){for(var i=0;i<r.length;i++){var E=r[i];if(w){if(n&&E[D]&&(E[D]!="")&&(n!="")&&(n!=E[D])){w=false;}}n=E[D];if(n&&n!=""){var F={};F.name=j;F.value=n;q.push(F);break;}}}}}});}var V=v.getVizProperties();var B=c.data("chartTitle");if(w&&x){if(isNaN(Number(A))&&A!=undefined){if(n!=""){B=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN",[B,A,n]);}else{B=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN_NO_SCALE",[B,A]);}}else if(n!=""){B=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN_NO_SCALE",[B,n]);}if(c){c.setText(B);c.data("aria-label",B,true);}v.setVizProperties(V);}else if(!w||!x){jQuery.each(V,function(i,m){var D=i;jQuery.each(f,function(j,E){if(D===j){if(m&&m.title){var F=E.measNames.join(" & ");for(var i=0;i<q.length;i++){if(q[i].name===F){var G="";if(isNaN(Number(E.scale))&&E.scale!=undefined){if(n!=""){G=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("AXES_TITLE",[F,E.scale,q[i].value]);}else{G=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("AXES_TITLE_NO_SCALE",[E.scale]);}}else if(n!=""){G=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("AXES_TITLE_NO_SCALE",[F,q[i].value]);}m.title={text:G};}}}}});});v.setVizProperties(V);}};
sap.ovp.cards.charts.SmartAnnotationManager.getSapLabel=function(m,M){var a;jQuery.each(M,function(i,v){if(v.name==m){if(v["com.sap.vocabularies.Common.v1.Label"]){a=v["com.sap.vocabularies.Common.v1.Label"].String?v["com.sap.vocabularies.Common.v1.Label"].String:v["com.sap.vocabularies.Common.v1.Label"].Path;}else if(v["sap:label"]){a=v["sap:label"];}return false;}});return a;};
sap.ovp.cards.charts.SmartAnnotationManager.formatByType=function(m,p,v){var s=sap.ovp.cards.charts.SmartAnnotationManager;var t=s.constants.TYPE_KEY;if(!m||!m[p]||!m[p][t]){return v;}var n=["Edm.Int","Edmt.Int16","Edm.Int32","Edm.Int64","Edm.Decimal"];var c=m[p][t];if(jQuery.inArray(c,n)!==-1){return Number(v);}return v;};
sap.ovp.cards.charts.SmartAnnotationManager.getMaxItems=function(s){var c=s.getModel('ovpCardProperties'),e=c.getProperty("/entityType"),p=c.getProperty("/presentationAnnotationPath"),a=e.hasOwnProperty(p)&&e[p],m=a&&a.MaxItems;if(m){return{itemsLength:+(m.Int32?m.Int32:m.Int),dataStep:+c.getProperty("/dataStep")};}};
sap.ovp.cards.charts.SmartAnnotationManager.attachDataReceived=function(s,c){s.attachDataReceived(function(e){var a=sap.ovp.cards.charts.SmartAnnotationManager;var b=s.getHeader();var d=s._getVizFrame();var f=c.getView().byId("bubbleText");var g=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("BUBBLESIZE");if(d){if(f!=undefined){var h=d.getFeeds();jQuery.each(h,function(i,v){if(h[i].getUid()=="bubbleWidth"){var j=c.getEntitySet()&&c.getEntitySet().name;var k=d.getModel();var m=a.getMetadata(k,j);var l=h[i].getValues()&&h[i].getValues()[0]&&h[i].getValues()[0].getName();var n=a.getSapLabel(l,m);f.setText(g+" "+n);}});}}sap.ovp.cards.charts.SmartAnnotationManager.buildSmartAttributes(s,b);});};
}());
},
	"sap/ovp/cards/charts/Utils.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ovp.cards.charts.Utils");sap.ovp.cards.charts.Utils=sap.ovp.cards.charts.Utils||{};sap.ovp.cards.charts.Utils.constants={CHART_QUALIFIER_KEY:"chartAnnotationPath",SELVAR_QUALIFIER_KEY:"selectionAnnotationPath",PREVAR_QUALIFIER_KEY:"presentationAnnotationPath",ERROR_NO_CHART:"Analytic cards require valid \"chartAnnotationPath\" "+"configured in manifest.json",LABEL_KEY:"sap:label",TEXT_KEY:"sap:text",TYPE_KEY:"type"};
sap.ovp.cards.charts.Utils.getQualifier=function(c,a){if(!a){return"";}var s=c.getSetting('ovpCardProperties');if(!s){return"";}var S=s.oData;if(!S){return"";}var f=S&&S[a]?S[a]:"";return f===""?"":f.split("#")[1];};
sap.ovp.cards.charts.Utils.wrapInBraces=function(w){return"{"+w+"}";};
sap.ovp.cards.charts.Utils.getSapLabel=function(p){var e=this.getModel('ovpCardProperties').getProperty("/entityType");var l=sap.ovp.cards.charts.Utils.getAllColumnLabels(e)[p];return l?l:p;};
sap.ovp.cards.charts.Utils.formDimensionPath=function(d){var r="{"+d+"}";var e=this.getModel('ovpCardProperties').getProperty("/entityType");if(!e){return r;}var a=sap.ovp.cards.charts.Utils.getEdmTypeOfAll(e);if(!a||!a[d]){return r;}var t=a[d];if(t=="Edm.DateTime"){return"{path:'"+d+"', formatter: 'sap.ovp.cards.charts.VizAnnotationManager.returnDateFormat'}";}var c=sap.ovp.cards.charts.Utils.getAllColumnTexts(e);if(!c){return r;}r="{"+(c[d]||d)+"}";return r;};
sap.ovp.cards.charts.Utils.getAllColumnProperties=function(p,e){var f={};var a=e.property;for(var i=0,l=a.length;i<l;i++){if(a[i].hasOwnProperty(p)&&p=="com.sap.vocabularies.Common.v1.Label"){f[a[i].name]=a[i][p].String;}else if(a[i].hasOwnProperty(p)){f[a[i].name]=a[i][p];}else{f[a[i].name]=a[i].name;}}return f;};
sap.ovp.cards.charts.Utils.getAllColumnLabels=function(e){return sap.ovp.cards.charts.Utils.getAllColumnProperties("com.sap.vocabularies.Common.v1.Label",e);};
sap.ovp.cards.charts.Utils.getAllColumnTexts=function(e){return sap.ovp.cards.charts.Utils.getAllColumnProperties("sap:text",e);};
sap.ovp.cards.charts.Utils.getEdmTypeOfAll=function(e){return sap.ovp.cards.charts.Utils.getAllColumnProperties("type",e);};
sap.ovp.cards.charts.Utils.LineChart=sap.ovp.cards.charts.Utils.LineChart||{};sap.ovp.cards.charts.Utils.LineChart.categoryAxisFeedList={};
sap.ovp.cards.charts.Utils.LineChart.getVizProperties=function(c,a,b){var r=sap.ovp.cards.charts.Utils.LineChart.getValueAxisFeed(c,b).split(",");var e=sap.ovp.cards.charts.Utils.LineChart.getCategoryAxisFeed(c,a).split(",");var v=[];jQuery.each(r,function(i,m){v.push(m);});var f=[];jQuery.each(e,function(i,d){f.push(d);});var D=true;var n=c.getSetting("ovpCardProperties").getProperty("/navigation");if(n=="chartNav"){D=false;}var D=D?false:true;return"{ valueAxis:{  layout: { maxWidth : 0.4 }, title:{   visible:false,   text: '"+v.join(",")+"'  },  label:{   formatString:'axisFormatter'  } }, categoryAxis:{  title:{   visible:false,   text: '"+f.join(",")+"'  },  label:{   formatString:'axisFormatter'  } }, legend: {  isScrollable: false }, title: {  visible: false }, general: { groupData: false }, interaction:{  noninteractiveMode: "+D+",  selectability: {   legendSelection: false,   axisLabelSelection: false,   mode: 'EXCLUSIVE',   plotLassoSelection: false,   plotStdSelection: true  }, zoom:{   enablement: 'disabled'} } }";};
sap.ovp.cards.charts.Utils.LineChart.getVizProperties.requiresIContext=true;
sap.ovp.cards.charts.Utils.LineChart.getValueAxisFeed=function(c,a){var e=c.getSetting('ovpCardProperties').getProperty("/entityType");if(!e){return"";}var b=sap.ovp.cards.charts.Utils.getAllColumnLabels(e);var r=[];jQuery.each(a,function(i,m){r.push(b[m.Measure.PropertyPath]||m.Measure.PropertyPath);});return r.join(",");};
sap.ovp.cards.charts.Utils.LineChart.getValueAxisFeed.requiresIContext=true;
sap.ovp.cards.charts.Utils.LineChart.getCategoryAxisFeed=function(c,a){var e=c.getSetting('ovpCardProperties').getProperty("/entityType");if(!e){return"";}var b=sap.ovp.cards.charts.Utils.getAllColumnLabels(e);var r=[];var q;var f;jQuery.each(a,function(i,d){if(d.Role.EnumMember.split("/")[1]==="Category"){f=b[d.Dimension.PropertyPath];r.push(f?f:d.Dimension.PropertyPath);}});if(r.length<1){f=b[a[0].Dimension.PropertyPath];r.push(f?f:a[0].Dimension.PropertyPath);}q=sap.ovp.cards.charts.Utils.getQualifier(c,sap.ovp.cards.charts.Utils.constants.CHART_QUALIFIER_KEY);sap.ovp.cards.charts.Utils.LineChart.categoryAxisFeedList[q]=r;return r.join(",");};
sap.ovp.cards.charts.Utils.LineChart.getCategoryAxisFeed.requiresIContext=true;
sap.ovp.cards.charts.Utils.LineChart.getColorFeed=function(c,a){var r=[];var q;var e=c.getSetting('ovpCardProperties').getProperty("/entityType");if(!e){return"";}var b=sap.ovp.cards.charts.Utils.getAllColumnLabels(e);var f;jQuery.each(a,function(i,d){if(d.Role.EnumMember.split("/")[1]==="Series"){f=b[d.Dimension.PropertyPath];r.push(f?f:d.Dimension.PropertyPath);}});q=sap.ovp.cards.charts.Utils.getQualifier(c,sap.ovp.cards.charts.Utils.constants.CHART_QUALIFIER_KEY);r=jQuery.grep(r,function(v){if(!sap.ovp.cards.charts.Utils.LineChart.categoryAxisFeedList[q]){return true;}return v!=sap.ovp.cards.charts.Utils.LineChart.categoryAxisFeedList[q][0];});return r.join(",");};
sap.ovp.cards.charts.Utils.LineChart.getColorFeed.requiresIContext=true;
sap.ovp.cards.charts.Utils.LineChart.testColorFeed=function(c,d){return sap.ovp.cards.charts.Utils.LineChart.getColorFeed(c,d)!=="";};
sap.ovp.cards.charts.Utils.LineChart.testColorFeed.requiresIContext=true;sap.ovp.cards.charts.Utils.BubbleChart=sap.ovp.cards.charts.Utils.BubbleChart||{};
sap.ovp.cards.charts.Utils.BubbleChart.getVizProperties=function(c,d,a){var r=sap.ovp.cards.charts.Utils.BubbleChart.getValueAxisFeed(c,a).split(",");var b=sap.ovp.cards.charts.Utils.BubbleChart.getValueAxis2Feed(c,a).split(",");var v=[];jQuery.each(r,function(i,m){v.push(m);});var e=[];jQuery.each(b,function(i,m){e.push(m);});var D=true;var n=c.getSetting("ovpCardProperties").getProperty("/navigation");if(n=="chartNav"){D=false;}var D=D?false:true;return"{ valueAxis:{  layout: { maxWidth : 0.4 }, title:{ visible:true, text: '"+v.join(",")+"'  },  label:{ formatString:'axisFormatter'  } }, valueAxis2:{  title:{ visible:true, text: '"+e.join(",")+"'  },  label:{ formatString:'axisFormatter'  } }, categoryAxis:{  title:{ visible:true  },  label:{ formatString:'axisFormatter'  } }, legend: {  isScrollable: false }, title: {  visible: false }, interaction:{  noninteractiveMode: "+D+",  selectability: { legendSelection: false, axisLabelSelection: false, mode: 'EXCLUSIVE', plotLassoSelection: false, plotStdSelection: true  }, zoom:{   enablement: 'disabled'} } }";};
sap.ovp.cards.charts.Utils.BubbleChart.getVizProperties.requiresIContext=true;
sap.ovp.cards.charts.Utils.BubbleChart.getMeasurePriorityList=function(c,a){var o;if(!c||!c.getSetting||!(o=c.getSetting('ovpCardProperties'))){return[""];}var e=o.getProperty("/entityType");if(!e){return[""];}var b=sap.ovp.cards.charts.Utils.getAllColumnLabels(e);var r=[null,null,null];jQuery.each(a,function(i,m){if(m.Role.EnumMember.split("/")[1]==="Axis1"){if(r[0]===null){r[0]=b[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(r[1]===null){r[1]=b[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(r[2]==null){r[2]=b[m.Measure.PropertyPath]||m.Measure.PropertyPath;}}});jQuery.each(a,function(i,m){if(m.Role.EnumMember.split("/")[1]==="Axis2"){if(r[0]===null){r[0]=b[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(r[1]===null){r[1]=b[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(r[2]==null){r[2]=b[m.Measure.PropertyPath]||m.Measure.PropertyPath;}}});jQuery.each(a,function(i,m){if(m.Role.EnumMember.split("/")[1]==="Axis3"){if(r[0]===null){r[0]=b[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(r[1]===null){r[1]=b[m.Measure.PropertyPath]||m.Measure.PropertyPath;}else if(r[2]==null){r[2]=b[m.Measure.PropertyPath]||m.Measure.PropertyPath;}}});return r;};
sap.ovp.cards.charts.Utils.BubbleChart.getMeasurePriorityList.requiresIContext=true;
sap.ovp.cards.charts.Utils.BubbleChart.getValueAxisFeed=function(c,m){return sap.ovp.cards.charts.Utils.BubbleChart.getMeasurePriorityList(c,m)[0];};
sap.ovp.cards.charts.Utils.BubbleChart.getValueAxisFeed.requiresIContext=true;
sap.ovp.cards.charts.Utils.BubbleChart.getValueAxis2Feed=function(c,m){return sap.ovp.cards.charts.Utils.BubbleChart.getMeasurePriorityList(c,m)[1];};
sap.ovp.cards.charts.Utils.BubbleChart.getValueAxis2Feed.requiresIContext=true;
sap.ovp.cards.charts.Utils.BubbleChart.getBubbleWidthFeed=function(c,m){return sap.ovp.cards.charts.Utils.BubbleChart.getMeasurePriorityList(c,m)[2];};
sap.ovp.cards.charts.Utils.BubbleChart.getBubbleWidthFeed.requiresIContext=true;
sap.ovp.cards.charts.Utils.BubbleChart.getColorFeed=function(c,a){var e=c.getSetting('ovpCardProperties').getProperty("/entityType");if(!e){return"";}var b=sap.ovp.cards.charts.Utils.getAllColumnLabels(e);var r=[];var f;jQuery.each(a,function(i,d){if(d.Role.EnumMember.split("/")[1]==="Series"){f=b[d.Dimension.PropertyPath];r.push(f?f:d.Dimension.PropertyPath);}});return r.join(",");};
sap.ovp.cards.charts.Utils.BubbleChart.getColorFeed.requiresIContext=true;
sap.ovp.cards.charts.Utils.BubbleChart.getShapeFeed=function(c,a){var e=c.getSetting('ovpCardProperties').getProperty("/entityType");if(!e){return"";}var b=sap.ovp.cards.charts.Utils.getAllColumnLabels(e);var r=[];var f;jQuery.each(a,function(i,d){if(d.Role.EnumMember.split("/")[1]==="Category"){f=b[d.Dimension.PropertyPath];r.push(f?f:d.Dimension.PropertyPath);}});return r.join(",");};
sap.ovp.cards.charts.Utils.BubbleChart.getShapeFeed.requiresIContext=true;
sap.ovp.cards.charts.Utils.BubbleChart.testColorFeed=function(c,d){return sap.ovp.cards.charts.Utils.BubbleChart.getColorFeed(c,d)!=="";};
sap.ovp.cards.charts.Utils.BubbleChart.testColorFeed.requiresIContext=true;
sap.ovp.cards.charts.Utils.BubbleChart.testShapeFeed=function(c,d){return sap.ovp.cards.charts.Utils.BubbleChart.getShapeFeed(c,d)!=="";};
sap.ovp.cards.charts.Utils.BubbleChart.testShapeFeed.requiresIContext=true;
sap.ovp.cards.charts.Utils.validateMeasuresDimensions=function(v,t){var m=null;var d=null;if(!v.getDataset()){jQuery.sap.log.error("OVP-AC: "+t+" Card Error: No Dataset defined for chart.");return false;}m=v.getDataset().getMeasures();d=v.getDataset().getDimensions();switch(t){case"Bubble":if(m.length!==3||d.length<1||!m[0].getName()||!m[1].getName()||!m[2].getName()||!d[0].getName()){jQuery.sap.log.error("OVP-AC: Bubble Card Error: Enter exactly 3 measures and at least 1 dimension.");return false;}break;case"Donut":if(m.length!==1||d.length!==1||!m[0].getName()||!d[0].getName()){jQuery.sap.log.error("OVP-AC: Donut Card Error: Enter exactly 1 measure and 1 dimension.");return false;}break;case"Line":if(m.length<1||d.length<1||!m[0].getName()||!d[0].getName()){jQuery.sap.log.error("OVP-AC: Line Card Error: Configure at least 1 dimensions and 1 measure.");return false;}break;}return true;};
sap.ovp.cards.charts.Utils.getSortAnnotationCollection=function(d,p,e){if(p&&p.SortOrder&&p.SortOrder.Path&&p.SortOrder.Path.indexOf('@')>=0){var s=p.SortOrder.Path.split('@')[1];var a=d.getServiceAnnotations()[e.entityType];return a[s];}return p.SortOrder;};
}());
},
	"sap/ovp/cards/charts/VizAnnotationManager.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ovp.cards.charts.VizAnnotationManager");jQuery.sap.require("sap.ovp.cards.charts.Utils");jQuery.sap.require("sap.ovp.cards.CommonUtils");jQuery.sap.require("sap.ovp.cards.OVPCardAsAPIUtils");sap.ovp.cards.charts.VizAnnotationManager=sap.ovp.cards.charts.VizAnnotationManager||{};sap.ovp.cards.charts.VizAnnotationManager.constants={LABEL_KEY:"sap:label",LABEL_KEY_V4:"com.sap.vocabularies.Common.v1.Label",TEXT_KEY:"sap:text",TEXT_KEY_V4:"com.sap.vocabularies.Common.v1.Text",TEXT_ARRANGEMENT_ANNO:"com.sap.vocabularies.UI.v1.TextArrangement",TYPE_KEY:"type",DISPLAY_FORMAT_KEY:"sap:display-format",SEMANTICS_KEY:"sap:semantics",UNIT_KEY:"sap:unit",UNIT_KEY_V4_ISOCurrency:"Org.OData.Measures.V1.ISOCurrency",UNIT_KEY_V4_Unit:"Org.OData.Measures.V1.Unit",CURRENCY_CODE:"currency-code",NAME_KEY:"name",NAME_CAP_KEY:"Name",EDM_TYPE:"type",EDM_INT32:"Edm.Int32",SCATTER_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Scatter",BUBBLE_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Bubble",LINE_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/Line",COLUMNSTACKED_CHARTTYPE:"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked"};sap.ovp.cards.charts.VizAnnotationManager.errorMessages={CARD_WARNING:"OVP-AC: Analytic card: Warning: ",CARD_ERROR:"OVP-AC: Analytic card Error: ",DATA_ANNO_ERROR:"OVP-AC: Analytic card Error:",CARD_ANNO_ERROR:"OVP-AC: Analytic card: Error ",CHART_ANNO_ERROR:"OVP-AC: Analytic card: Error ",INVALID_CHART_ANNO:"OVP-AC: Analytic Cards: Invalid Chart Annotation.",ANALYTICAL_CONFIG_ERROR:"Analytic card configuration error",CACHING_ERROR:"no model defined while caching OdataMetaData",INVALID_MAXITEMS:"maxItems is Invalid. ",NO_DATASET:"OVP-AC: Analytic Cards: Could not obtain dataset.",SORTORDER_WARNING:"SortOrder is present in PresentationVariant, but it is empty or not well formed.",BOOLEAN_ERROR:"Boolean value is not present in PresentationVariant.",IS_MANDATORY:"is mandatory.",IS_MISSING:"is missing.",NOT_WELL_FORMED:"is not found or not well formed)",MISSING_CHARTTYPE:"Missing ChartType in ",CHART_ANNO:"Chart Annotation.",DATA_ANNO:"Data Annotation",CARD_ANNO:"card annotation.",CARD_CONFIG:"card configuration.",CARD_CONFIG_ERROR:"Could not obtain configuration for ",CARD_CONTAINER_ERROR:"Could not obtain card container. ",DATA_UNAVAIALABLE:"No data available.",CONFIG_LOAD_ERROR:"Failed to load config.json. Reason: ",INVALID_CHARTTYPE:"Invalid ChartType given for ",INVALID_CONFIG:"No valid configuration given for ",CONFIG_JSON:"in config.json",ENTER_INTEGER:"Please enter an Integer.",NO_CARD_MODEL:"Could not obtain Cards model.",ANNO_REF:"com.sap.vocabularies.UI.v1 annotation.",INVALID_REDUNDANT:"Invalid/redundant role configured for ",CHART_IS:"chart is/are ",CARD_CONFIG_JSON:"card from config.json",ALLOWED_ROLES:"Allowed role(s) for ",DIMENSIONS_MANDATORY:"DimensionAttributes are mandatory.",MEASURES_MANDATORY:"MeasureAttributes are mandatory.",CARD_LEAST:"card: Enter at least ",CARD_MOST:"card: Enter at most ",FEEDS:"feed(s).",MIN_FEEDS:"Minimum number of feeds required for ",FEEDS_OBTAINED:"card is not configured. Obtained ",FEEDS_REQUIRED:"feed(s), Required: ",INVALID_SEMANTIC_MEASURES:"More than one measure is being semantically coloured",INVALID_IMPROVEMENT_DIR:"No Improvement Direction Found",INVALID_CRITICALITY:"Invalid criticality values",INVALID_DIMMEAS:"Invalid number of Measures or Dimensions",INVALID_FORECAST:"Invalid/Redundant Datapoint or Forecast measure",INVALID_TARGET:"Invalid/Redundant Datapoint or Target measure",ERROR_MISSING_AXISSCALES:"Minimum and Maximum values are mandatory for AxisScale MinMax to work"};
sap.ovp.cards.charts.VizAnnotationManager.formatItems=function(c,e,S,p,D,M,a){var r="{";var b=sap.ovp.cards.charts.VizAnnotationManager;if(!c||!c.getSetting('ovpCardProperties')){jQuery.sap.log.error(b.errorMessages.ANALYTICAL_CONFIG_ERROR);r+="}";return r;}var f=c.getSetting("dataModel");var g;if(a&&a.EnumMember){g=a.EnumMember.split("/");if(g&&(g[1]==='Donut')){f.setDefaultCountMode(sap.ui.model.odata.CountMode.Inline);}if(g&&(g[1]!='Donut')&&(D===undefined)){return null;}}var h=[];var j=[];var k=[];var P=S&&S.Parameters;var l=p&&p.SortOrder;var n=p&&p.MaxItems,o=null;var t;var q=null;var u=b.constants.TEXT_KEY;var v=b.constants.TEXT_KEY_V4;var w=b.constants.UNIT_KEY;var x=b.constants.UNIT_KEY_V4_ISOCurrency;var y=b.constants.UNIT_KEY_V4_Unit;var z={};if(n){o=n.Int32?n.Int32:n.Int;}if(o){if(o=="0"){jQuery.sap.log.error("OVP-AC: Analytic card Error: maxItems is configured as "+o);r+="}";return r;}if(!/^\d+$/.test(o)){jQuery.sap.log.error("OVP-AC: Analytic card Error: maxItems is Invalid. "+"Please enter an Integer.");r+="}";return r;}}var A=c.getSetting('ovpCardProperties'),B=A.getProperty('/parameters');P=P||!!B;if(P){var C=sap.ovp.cards.AnnotationHelper.resolveParameterizedEntitySet(f,e,S,B);r+="path: '"+C+"'";}else{r+="path: '/"+e.name+"'";}var E=[];q=c.getSetting('ovpCardProperties').getProperty("/entitySet");if(!f||!q){return r;}var F=b.getMetadata(f,q);var G=c.getSetting('ovpCardProperties').getProperty("/cardLayout");var H=1,I;var J=sap.ovp.cards.charts.VizAnnotationManager.getConfig();var K;var L;if(D&&G&&G.colSpan&&G.colSpan>1){I=G.colSpan-H;for(var N in J){if((L=J[N].reference)&&J[L]){var O=jQuery.extend(true,{},J[L]);J[N]=O;}if(N==g[1]||(J[N].time&&J[N].time.type==g[1].toLowerCase())){K=J[N];break;}}var Q=sap.ovp.cards.charts.VizAnnotationManager.hasTimeSemantics(D,K,f,q);if(Q){K=K.time;}else{K=K.default;}var R=c.getSetting('ovpCardProperties').getProperty("/dataStep");if(!R){if(K.resize&&K.resize.hasOwnProperty("dataStep")&&!isNaN(K.resize.dataStep)){R=K.resize.dataStep;}}R=parseInt(R,10);if(I>0&&R&&!isNaN(R)){o=parseInt(o,10)+R*I;}}if(S){var A=c.getSetting('ovpCardProperties');E=sap.ovp.cards.AnnotationHelper.getFilters(A,S);}if(E.length>0){r+=", filters: "+JSON.stringify(E);}if(l){var T=p.SortOrder;if(!T.length){T=sap.ovp.cards.charts.Utils.getSortAnnotationCollection(f,p,e);}if(T.length<1){jQuery.sap.log.warning(b.errorMessages.CARD_WARNING+b.errorMessages.SORTORDER_WARNING);}else{var U="";var V;var W;var X;for(var i=0;i<T.length;i++){V=T[i];X=V.Property.PropertyPath;k.push(X);if(typeof V.Descending=="undefined"){W='true';}else{var Y=V.Descending.Bool||V.Descending.Boolean;if(!Y){jQuery.sap.log.warning(b.errorMessages.CARD_WARNING+b.errorMessages.BOOLEAN_ERROR);W='true';}else{W=Y.toLowerCase()=='true'?'true':'false';}}U=U+"{path: '"+X+"',descending: "+W+"},";}r+=", sorter: ["+U.substring(0,U.length-1)+"]";}}var Z=c.getSetting("ovpCardProperties").getProperty("/entityType");jQuery.each(M,function(i,m){t=m.Measure.PropertyPath;if(m.DataPoint&&m.DataPoint.AnnotationPath){var d=Z[m.DataPoint.AnnotationPath.substring(1)];if(d.ForecastValue&&(d.ForecastValue.PropertyPath||d.ForecastValue.Path)){var s=(d.ForecastValue.PropertyPath||d.ForecastValue.Path);j.push((d.ForecastValue.PropertyPath||d.ForecastValue.Path));if(F&&F[s]){var _;if(F[s][x]){_=F[s][x].Path?F[s][x].Path:undefined;}else if(F[s][y]){_=F[s][y].Path?F[s][y].Path:undefined;}else if(F[s][w]){_=F[s][w];}if(_){if(jQuery.inArray(_,j)===-1){j.push(_);}}}}if(d.TargetValue&&(d.TargetValue.PropertyPath||d.TargetValue.Path)){var a1=(d.TargetValue.PropertyPath||d.TargetValue.Path);j.push((d.TargetValue.PropertyPath||d.TargetValue.Path));if(F&&F[a1]){var _;if(F[a1][x]){_=F[a1][x].Path?F[a1][x].Path:undefined;}else if(F[a1][y]){_=F[a1][y].Path?F[a1][y].Path:undefined;}else if(F[a1][w]){_=F[a1][w];}if(_){if(jQuery.inArray(_,j)===-1){j.push(_);}}}}}j.push(t);if(F&&F[t]){if(F[t][v]){if(F[t][v].String&&t!=F[t][v].String){j.push(F[t][v].String?F[t][v].String:t);}else if(F[t][v].Path&&t!=F[t][v].Path){j.push(F[t][v].Path?F[t][v].Path:t);}}else if(F[t][u]&&t!=F[t][u]){j.push(F[t][u]?F[t][u]:t);}}if(F&&F[t]){var _;if(F[t][x]){_=F[t][x].Path?F[t][x].Path:undefined;}else if(F[t][y]){_=F[t][y].Path?F[t][y].Path:undefined;}else if(F[t][w]){_=F[t][w];}if(_){if(jQuery.inArray(_,j)===-1){j.push(_);}}}});jQuery.each(D,function(i,d){t=d.Dimension.PropertyPath;h.push(t);if(F&&F[t]){if(F[t][v]){if(F[t][v].String&&t!=F[t][v].String){h.push(F[t][v].String?F[t][v].String:t);}else if(F[t][v].Path&&t!=F[t][v].Path){h.push(F[t][v].Path?F[t][v].Path:t);}}else if(F[t][u]&&t!=F[t][u]){h.push(F[t][u]?F[t][u]:t);}}});if(j.length>0){jQuery.each(j,function(i,m){z[m]=true;});}if(h.length>0){jQuery.each(h,function(i,d){z[d]=true;});}r+=", parameters: {select:'"+[].concat(h,j).join(",");if(k.length>0){var $=[];jQuery.each(k,function(i,s){if(!z.hasOwnProperty(s)){$.push(s);}});if($.length>0){r+=","+$.join(",");}}r+="'}";if(g&&(g[1]==='Donut')&&(D===undefined)){r+=", length: 1";}else if(g&&(g[1]==='Donut')&&(D)&&o){r+=", length: "+(parseInt(o,10)+1);}else if(o){r+=", length: "+o;}r+="}";return r;};
sap.ovp.cards.charts.VizAnnotationManager.formatItems.requiresIContext=true;
sap.ovp.cards.charts.VizAnnotationManager.checkForecastMeasure=function(m,e){var s=sap.ovp.cards.charts.VizAnnotationManager;var b=false;var r;if(m.DataPoint&&m.DataPoint.AnnotationPath){var d=e[m.DataPoint.AnnotationPath.substring(1)];if(d&&d.ForecastValue&&(d.ForecastValue.PropertyPath||d.ForecastValue.Path)){b=true;r=m;}}if(b==true){return r;}else{jQuery.sap.log.warning(s.errorMessages.CARD_WARNING+s.errorMessages.INVALID_FORECAST);return undefined;}};
sap.ovp.cards.charts.VizAnnotationManager.checkTargetMeasure=function(m,e){var s=sap.ovp.cards.charts.VizAnnotationManager;var b=false;var r;if(m.DataPoint&&m.DataPoint.AnnotationPath){var d=e[m.DataPoint.AnnotationPath.substring(1)];if(d&&d.TargetValue&&(d.TargetValue.PropertyPath||d.TargetValue.Path)){b=true;r=m;}}if(b==true){return r;}else{jQuery.sap.log.warning(s.errorMessages.CARD_WARNING+s.errorMessages.INVALID_TARGET);return undefined;}};
sap.ovp.cards.charts.VizAnnotationManager.getSapLabel=function(m,M){var a;jQuery.each(M,function(i,v){if(v.name==m){if(v["com.sap.vocabularies.Common.v1.Label"]){a=v["com.sap.vocabularies.Common.v1.Label"].String?v["com.sap.vocabularies.Common.v1.Label"].String:v["com.sap.vocabularies.Common.v1.Label"].Path;}else if(v["sap:label"]){a=v["sap:label"];}return false;}});return a;};
sap.ovp.cards.charts.VizAnnotationManager.getMeasureDimCheck=function(f,c){var s=sap.ovp.cards.charts.VizAnnotationManager;var b=true;if(c=="line"||c=="column"){jQuery.each(f,function(i,v){if((v.getUid()=='valueAxis')||(v.getUid()=='categoryAxis')){if(v.getValues().length!=1){b=false;jQuery.sap.log.warning(s.errorMessages.CARD_WARNING+s.errorMessages.INVALID_DIMMEAS);return false;}}});}else if(c=="vertical_bullet"){jQuery.each(f,function(i,v){if((v.getUid()=='actualValues')||(v.getUid()=='categoryAxis')){if(v.getValues().length!=1){b=false;jQuery.sap.log.warning(s.errorMessages.CARD_WARNING+s.errorMessages.INVALID_DIMMEAS);return false;}}});}if(b==true){return true;}};
sap.ovp.cards.charts.VizAnnotationManager.formatByType=function(m,p,v){var s=sap.ovp.cards.charts.VizAnnotationManager;var t=s.constants.TYPE_KEY;if(!m||!m[p]||!m[p][t]){return v;}var n=["Edm.Int","Edmt.Int16","Edm.Int32","Edm.Int64","Edm.Decimal"];var c=m[p][t];if(jQuery.inArray(c,n)!==-1){return Number(v);}return v;};
sap.ovp.cards.charts.VizAnnotationManager.returnDateFormat=function(d){if(d){return d;}return"";};
sap.ovp.cards.charts.VizAnnotationManager.formatChartAxes=function(){jQuery.sap.require("sap.ui.core.format.NumberFormat");var c={locale:function(){},format:function(v,p){var a="";if(p){a=p.split('/');}if(a.length>0){var m,s;if(a.length==3){m=Number(a[1]);s=Number(a[2]);if(isNaN(m)){m=-1;}if(isNaN(s)){s=0;}}else{m=2;s=0;}if(a[0]=="axisFormatter"||(a[0]=="ShortFloat")){var n;n=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});if(a[0]=="ShortFloat"){n=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});}if(m===-1){n=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short'});}return n.format(Number(v));}else if(a[0]==="tooltipNoScaleFormatter"){var t=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',currencyCode:false,shortRefNumber:s,showScale:false,minFractionDigits:m,maxFractionDigits:m});if(m===-1){t=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:0,currencyCode:false});}return t.format(Number(v));}else if(a[0]=="CURR"){var b=sap.ui.core.format.NumberFormat.getCurrencyInstance({style:'short',currencyCode:false,minFractionDigits:m,maxFractionDigits:m});if(m===-1){b=sap.ui.core.format.NumberFormat.getCurrencyInstance({style:'short',currencyCode:false});}return b.format(Number(v));}else if(a[0].search("%")!==-1){var d=sap.ui.core.format.NumberFormat.getPercentInstance({style:'short',minFractionDigits:m,maxFractionDigits:m});if(m===-1){d=sap.ui.core.format.NumberFormat.getPercentInstance({style:'short',minFractionDigits:1,maxFractionDigits:1});}v=d.format(Number(v));return v;}}if(v.constructor===Date){jQuery.sap.require("sap.ui.core.format.DateFormat");var D=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:p});if(p==="YearMonthDay"){D=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});}v=D.format(new Date(v));}return v;}};jQuery.sap.require("sap.viz.ui5.api.env.Format");sap.viz.ui5.api.env.Format.numericFormatter(c);};
sap.ovp.cards.charts.VizAnnotationManager.hideDateTimeAxis=function(v,f){var d=v.getModel();var t=v.getVizType();if(t!="line"&&t!="bubble"){return;}if(!f){f=t=="line"?"categoryAxis":"valueAxis";}var e=v.getModel('ovpCardProperties').getProperty("/entitySet");if(!d||!e){return;}var m=this.getMetadata(d,e);var a=v.getFeeds();for(var i=0;i<a.length;i++){if(a[i].getUid()==f){var b=a[i].getValues();if(!b){return;}for(var j=0;j<b.length;j++){if(m[b[j][this.constants.TYPE_KEY]]!="Edm.DateTime"){return;}}v.setVizProperties({categoryAxis:{title:{visible:false}}});return;}}};
sap.ovp.cards.charts.VizAnnotationManager.checkExists=function(t,a,b,m,l,c){var s=sap.ovp.cards.charts.VizAnnotationManager;m=typeof m==="undefined"?false:m;var r=false;var d;if(!t&&m){jQuery.sap.log.error(l+s.errorMessages.CARD_ERROR+b+s.errorMessages.IS_MANDATORY);return r;}if(!t){jQuery.sap.log.warning(l+s.errorMessagesCARD_WARNING+b+s.errorMessages.IS_MISSING);r=true;return r;}d=a[t];if(!d||typeof d!=="object"){var e=m?jQuery.sap.log.error:jQuery.sap.log.warning;e(l+s.errorMessages.CARD_ERROR+"in "+b+". ("+t+" "+s.errorMessages.NOT_WELL_FORMED);return r;}if(c&&c=="sap.ovp.cards.charts.analytical.analyticalChart"&&b=="Chart Annotation"&&(!d.ChartType||!d.ChartType.EnumMember)){jQuery.sap.log.error(l+s.errorMessages.CARD_ERROR+s.errorMessages.MISSING_CHARTTYPE+s.errorMessages.CHART_ANNO);return r;}r=true;return r;};
sap.ovp.cards.charts.VizAnnotationManager.validateCardConfiguration=function(c){var s=sap.ovp.cards.charts.VizAnnotationManager;var r=false;if(!c){return r;}var a;var b;var d;var p;var i;var P;var e;var l="";var C;var v=c.getView();if(v){l="["+v.getId()+"] ";}if(!(C=c.getCardPropertiesModel())){jQuery.sap.log.error(l+s.errorMessages.CARD_ERROR+"in "+s.errorMessages.CARD_CONFIG+s.errorMessages.NO_CARD_MODEL);return r;}e=C.getProperty("/entityType");if(!e||jQuery.isEmptyObject(e)){jQuery.sap.log.error(l+s.errorMessages.CARD_ERROR+"in "+s.errorMessages.CARD_ANNO);return r;}a=C.getProperty("/selectionAnnotationPath");b=C.getProperty("/chartAnnotationPath");p=C.getProperty("/presentationAnnotationPath");i=C.getProperty("/identificationAnnotationPath");P=C.getProperty("/dataPointAnnotationPath");d=C.getProperty("/contentFragment");r=this.checkExists(a,e,"Selection Variant",false,l);r=this.checkExists(b,e,"Chart Annotation",true,l,d)&&r;r=this.checkExists(p,e,"Presentation Variant",false,l)&&r;r=this.checkExists(i,e,"Identification Annotation",true,l)&&r;r=this.checkExists(P,e,"Data Point",false,l)&&r;return r;};
sap.ovp.cards.charts.VizAnnotationManager.checkNoData=function(e,c,v){};
sap.ovp.cards.charts.VizAnnotationManager.getConfig=function(c){var s=sap.ovp.cards.charts.VizAnnotationManager;var r={};var a,b,d,f,g=null;var C=!!c;if(!jQuery.sap.getObject("sap.ovp.cards.charts.config")){d=jQuery.sap.getModulePath("sap.ovp.cards.charts");sap.ovp.cards=sap.ovp.cards||{};sap.ovp.cards.charts=sap.ovp.cards.charts||{};try{sap.ovp.cards.charts.config=jQuery.sap.loadResource({url:d+"/config.json",dataType:"json",async:false});}catch(e){jQuery.sap.log.error(s.errorMessages.CONFIG_LOAD_ERROR+e);}sap.ovp.cards.charts.config=sap.ovp.cards.charts.config||{};}g=sap.ovp.cards.charts.config;if(!C){return g;}if(!c.EnumMember||!(a=c.EnumMember.split("/"))||a.length<2){jQuery.sap.log.error(s.errorMessages.CARD_ERROR+s.errorMessages.INVALID_CHARTTYPE+s.errorMessages.ANNO_REF);return r;}b=a[1];if(!g[b]){jQuery.sap.log.error(s.errorMessages.INVALID_CONFIG+b+" "+s.errorMessages.CONFIG_JSON);return r;}if((f=g[b].reference)&&g[f]){var v=jQuery.extend(true,{},g[f]);g[b]=v;}r=g[b];return r;};
sap.ovp.cards.charts.VizAnnotationManager.hasTimeSemantics=function(d,c,a,e){var r=false;var m;var b;var f;var g;var s;var h;if(!c.time||jQuery.isEmptyObject(c.time)){return r;}if(!d){return r;}for(var i=0;i<d.length;i++){if(!d[i].Dimension||!(b=d[i].Dimension.PropertyPath)){return r;}m=this.getMetadata(a,e);if(m&&m[b]){f=m[b][this.constants.TYPE_KEY];g=m[b][this.constants.DISPLAY_FORMAT_KEY];s=m[b][this.constants.SEMANTICS_KEY];h=m[b]["com.sap.vocabularies.Common.v1.IsCalendarYear"];}if(f&&f.lastIndexOf("Edm.Date",0)===0){if(f.toLowerCase()=="edm.datetime"){if(g&&g.toLowerCase()=="date"){r=true;}}else{r=true;}}if(f=="Edm.String"&&(h||s&&s.lastIndexOf("year",0)===0)){r=true;}if(r){d.unshift(d.splice(i,1)[0]);break;}}return r;};
sap.ovp.cards.charts.VizAnnotationManager.getChartType=function(c,C,d){var r="";var s=sap.ovp.cards.charts.VizAnnotationManager;var a=s.getConfig(C);var b,e;if(!a){return r;}r=a.default.type;b=c.getSetting("dataModel");e=c.getSetting('ovpCardProperties').getProperty("/entitySet");if(s.hasTimeSemantics(d,a,b,e)){r=a.time.type;}return r;};
sap.ovp.cards.charts.VizAnnotationManager.getChartType.requiresIContext=true;
sap.ovp.cards.charts.VizAnnotationManager.checkRolesForProperty=function(q,c,t){var s=sap.ovp.cards.charts.VizAnnotationManager;if(!q.length){return;}var a=t=="dimension"?"Dimension":"Measure";var b=[];jQuery.each(q,function(i,v){if(!v||!v[a]||!v[a].PropertyPath){jQuery.sap.log.error(s.errorMessages.INVALID_CHART_ANNO);return false;}b.push(v[a].PropertyPath);});var d=jQuery.map(c.feeds,function(f){if(f.type==t){if(f.role){return f.role.split("|");}return[];}});d=jQuery.grep(d,function(r,i){return jQuery.inArray(r,d)==i;}).join(", ");jQuery.sap.log.error(s.errorMessages.CARD_ERROR+s.errorMessages.INVALID_REDUNDANT+t+"(s) "+b.join(", ")+". "+s.errorMessages.ALLOWED_ROLES+c.type+s.errorMessages.CHART_IS+d);};
sap.ovp.cards.charts.VizAnnotationManager.getPrimitiveValue=function(v,i){var a;if(v){if(v.String){a=v.String;}else if(v.Boolean||v.Bool){a=sap.ovp.cards.charts.VizAnnotationManager.getBooleanValue(v);}else{a=sap.ovp.cards.charts.VizAnnotationManager.getNumberValue(v,i);}}return a;};
sap.ovp.cards.charts.VizAnnotationManager.getBooleanValue=function(v,d){if(v&&v.Boolean){if(v.Boolean.toLowerCase()==="true"){return true;}else if(v.Boolean.toLowerCase()==="false"){return false;}}else if(v&&v.Bool){if(v.Bool.toLowerCase()==="true"){return true;}else if(v.Bool.toLowerCase()==="false"){return false;}}return d;};
sap.ovp.cards.charts.VizAnnotationManager.getNumberValue=function(v,i){var a;if(v){if(v.String){a=Number(v.String);}else if(v.Int){a=Number(v.Int);}else if(v.Decimal){a=Number(v.Decimal);}else if(v.Double){a=Number(v.Double);}else if(v.Single){a=Number(v.Single);}}if(i){jQuery.sap.require("sap.ui.core.format.NumberFormat");var n=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',minFractionDigits:2,maxFractionDigits:2});if(a){a=n.format(Number(a));}}return a;};
sap.ovp.cards.charts.VizAnnotationManager.formThePathForCriticalityStateCalculation=function(c,d){function g(I){if(I){if(I.Path){return"{path:'"+I.Path+"'}";}else{return sap.ovp.cards.charts.VizAnnotationManager.getPrimitiveValue(I);}}else{return"";}}var v=c[c.measureNames];if(d&&d.CriticalityCalculation&&d.CriticalityCalculation.ImprovementDirection){var i=d.CriticalityCalculation.ImprovementDirection.EnumMember;var a=g(d.CriticalityCalculation.DeviationRangeLowValue);var b=g(d.CriticalityCalculation.DeviationRangeHighValue);var t=g(d.CriticalityCalculation.ToleranceRangeLowValue);var e=g(d.CriticalityCalculation.ToleranceRangeHighValue);return sap.ovp.cards.AnnotationHelper._calculateCriticalityState(v,i,a,b,t,e,sap.ovp.cards.AnnotationHelper.criticalityConstants.StateValues);}else{var s=d.Criticality.EnumMember;var f=s?s.split("/"):[];if(f){return f[1];}}};
sap.ovp.cards.charts.VizAnnotationManager.mapMeasures=function(c,m,M){var a,d;jQuery.each(m,function(i,v){if(v["com.sap.vocabularies.Common.v1.Label"]&&v["com.sap.vocabularies.Common.v1.Label"].String==c.measureNames){a=v.name;return false;}else if(v["com.sap.vocabularies.Common.v1.Label"]&&v["com.sap.vocabularies.Common.v1.Label"].Path==c.measureNames){a=v.name;return false;}else if(v["sap:label"]==c.measureNames){a=v.name;return false;}});jQuery.each(M,function(i,v){if(v.Measure.PropertyPath==a){if(!v.DataPoint||!v.DataPoint.AnnotationPath){return false;}d=v.DataPoint.AnnotationPath;return false;}});return d;};
sap.ovp.cards.charts.VizAnnotationManager.getPathOrPrimitiveValue=function(i,a){if(i){if(i.Path){return i.Path;}else{return sap.ovp.cards.charts.VizAnnotationManager.getPrimitiveValue(i,a);}}else{return"";}};
sap.ovp.cards.charts.VizAnnotationManager.checkFlag=function(m,e){function a(S,c){return S&&S.indexOf(c,S.length-c.length)!==-1;}var b=false;var s=sap.ovp.cards.charts.VizAnnotationManager;jQuery.each(m,function(i,v){if(v.DataPoint&&v.DataPoint.AnnotationPath){var d=e[v.DataPoint.AnnotationPath.substring(1)];if(d&&d.CriticalityCalculation&&d.CriticalityCalculation.ImprovementDirection&&d.CriticalityCalculation.ImprovementDirection.EnumMember){var I=d.CriticalityCalculation.ImprovementDirection.EnumMember;var c=sap.ovp.cards.charts.VizAnnotationManager.getPathOrPrimitiveValue(d.CriticalityCalculation.DeviationRangeLowValue);var f=sap.ovp.cards.charts.VizAnnotationManager.getPathOrPrimitiveValue(d.CriticalityCalculation.DeviationRangeHighValue);var t=sap.ovp.cards.charts.VizAnnotationManager.getPathOrPrimitiveValue(d.CriticalityCalculation.ToleranceRangeLowValue);var g=sap.ovp.cards.charts.VizAnnotationManager.getPathOrPrimitiveValue(d.CriticalityCalculation.ToleranceRangeHighValue);if(a(I,"Minimize")||a(I,"Minimizing")){if(g&&f){b=true;return false;}else{jQuery.sap.log.warning(s.errorMessages.CARD_WARNING+s.errorMessages.INVALID_CRITICALITY);}}else if(a(I,"Maximize")||a(I,"Maximizing")){if(t&&c){b=true;return false;}else{jQuery.sap.log.warning(s.errorMessages.CARD_WARNING+s.errorMessages.INVALID_CRITICALITY);}}else if(a(I,"Target")){if(t&&c&&g&&f){b=true;return false;}else{jQuery.sap.log.warning(s.errorMessages.CARD_WARNING+s.errorMessages.INVALID_CRITICALITY);}}}else if(d&&d.Criticality){b=true;return false;}else{jQuery.sap.log.warning(s.errorMessages.CARD_WARNING+s.errorMessages.INVALID_IMPROVEMENT_DIR);}}});if(b==true&&m.length>1){jQuery.sap.log.warning(s.errorMessages.CARD_WARNING+s.errorMessages.INVALID_SEMANTIC_MEASURES);}return b;};
sap.ovp.cards.charts.VizAnnotationManager.buildSemanticLegends=function(m,e,M){function a(s,S){return s&&s.indexOf(S,s.length-S.length)!==-1;}var r=[null,null];var i=true;var b=m.Measure.PropertyPath;if(M[b]){if(M[b][this.constants.LABEL_KEY_V4]){b=M[b][this.constants.LABEL_KEY_V4].String?M[b][this.constants.LABEL_KEY_V4].String:M[b][this.constants.LABEL_KEY_V4].Path;}else if(M[b][this.constants.LABEL_KEY]){b=M[b][this.constants.LABEL_KEY];}else if(b){b=b;}}var d=m.DataPoint.AnnotationPath;var D=e[d.substring(1)];if(!D.CriticalityCalculation||!D.CriticalityCalculation.ImprovementDirection||!D.CriticalityCalculation.ImprovementDirection.EnumMember){return r;}var I=D.CriticalityCalculation.ImprovementDirection.EnumMember;var c=sap.ovp.cards.charts.VizAnnotationManager.getPathOrPrimitiveValue(D.CriticalityCalculation.DeviationRangeLowValue,i);var f=sap.ovp.cards.charts.VizAnnotationManager.getPathOrPrimitiveValue(D.CriticalityCalculation.DeviationRangeHighValue,i);var t=sap.ovp.cards.charts.VizAnnotationManager.getPathOrPrimitiveValue(D.CriticalityCalculation.ToleranceRangeLowValue,i);var g=sap.ovp.cards.charts.VizAnnotationManager.getPathOrPrimitiveValue(D.CriticalityCalculation.ToleranceRangeHighValue,i);jQuery.sap.require("sap.ui.core.format.NumberFormat");if(a(I,"Minimize")||a(I,"Minimizing")){if(g&&f){r[0]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MINIMIZING_LESS",[b,g]);r[1]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MINIMIZING_MORE",[b,f]);r[2]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MINIMIZING_CRITICAL",[g,b,f]);}}else if(a(I,"Maximize")||a(I,"Maximizing")){if(t&&c){r[0]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MAXIMISING_MORE",[b,t]);r[1]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MAXIMISING_LESS",[b,c]);r[2]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MAXIMIZING_CRITICAL",[c,b,t]);}}else if(a(I,"Target")){if(t&&c&&g&&f){r[0]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("TARGET_BETWEEN",[t,b,g]);r[1]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("TARGET_AROUND",[b,c,f]);r[2]=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("TARGET_CRITICAL",[c,b,t,g,f]);}}return r;};
sap.ovp.cards.charts.VizAnnotationManager.checkNumberFormat=function(m,v,e){if(v&&v.DataPoint&&v.DataPoint.AnnotationPath){var d=e[v.DataPoint.AnnotationPath.substring(1)];var f,a;if(d&&d.ValueFormat){f=d.ValueFormat;}else if(d&&d.NumberFormat){f=d.NumberFormat;}if(f&&f.NumberOfFractionalDigits&&f.NumberOfFractionalDigits.Int){a=f.NumberOfFractionalDigits.Int;if(m<Number(a)){m=Number(a);}}}return m;};
sap.ovp.cards.charts.VizAnnotationManager.getMaxScaleFactor=function(m,v,e){if(v&&v.DataPoint&&v.DataPoint.AnnotationPath){var d=e[v.DataPoint.AnnotationPath.substring(1)];var s,S;if(d&&d.ValueFormat){s=d.ValueFormat;}else if(d&&d.NumberFormat){s=d.NumberFormat;}if(s){if(s.ScaleFactor&&s.ScaleFactor.Decimal){S=Number(s.ScaleFactor.Decimal);}else if(s.ScaleFactor&&s.ScaleFactor.Int){S=Number(s.ScaleFactor.Int);}if(!isNaN(S)){if(m===undefined){m=Number(S);}else if(m>Number(S)){m=Number(S);}}}}return m;};
sap.ovp.cards.charts.VizAnnotationManager.isMeasureCurrency=function(m,s){var a=sap.ovp.cards.charts.VizAnnotationManager;if(m&&m[s]&&(m[s]["Org.OData.Measures.V1.ISOCurrency"]||(m[s][a.constants.SEMANTICS_KEY]&&m[s][a.constants.SEMANTICS_KEY]===a.constants.CURRENCY_CODE))){return true;}return false;};
sap.ovp.cards.charts.VizAnnotationManager.fractionalDigitsExists=function(v,e){if(v.DataPoint&&v.DataPoint.AnnotationPath){var d=e[v.DataPoint.AnnotationPath.substring(1)];if(d&&d.ValueFormat&&d.ValueFormat.NumberOfFractionalDigits&&d.ValueFormat.NumberOfFractionalDigits.Int){return true;}else if(d&&d.NumberFormat&&d.NumberFormat.NumberOfFractionalDigits&&d.NumberFormat.NumberOfFractionalDigits.Int){return true;}}return false;};
sap.ovp.cards.charts.VizAnnotationManager.checkEDMINT32Exists=function(m,v,f){var s=sap.ovp.cards.charts.VizAnnotationManager;if(m[v[f].PropertyPath][s.constants.EDM_TYPE]==s.constants.EDM_INT32){return true;}return false;};
sap.ovp.cards.charts.VizAnnotationManager.buildVizAttributes=function(a,h,c,C){var o,e,b,d;var f,g,l,D,m;var V;var q,Q,n;var p,r=[],M=[];var s;var t;var u=sap.ovp.cards.charts.VizAnnotationManager;var w=C&&C.getView();var x,y;f=a.getVizType();g=this.getConfig();for(var z in g){if((t=g[z].reference)&&g[t]){var A=jQuery.extend(true,{},g[t]);g[z]=A;}if(g[z].default.type==f||(g[z].time&&g[z].time.type==f)){l=g[z];break;}}if(!l){jQuery.sap.log.error(u.errorMessages.CARD_ERROR+"in "+u.errorMessages.CARD_CONFIG+u.errorMessages.CARD_CONFIG_ERROR+f+" "+u.errorMessages.CARD_CONFIG_JSON);return;}if(!(o=a.getModel('ovpCardProperties'))){jQuery.sap.log.error(u.errorMessages.CARD_ERROR+"in "+u.errorMessages.CARD_CONFIG+u.errorMessages.NO_CARD_MODEL);return;}var B=a.getModel();var E=o.getProperty("/entitySet");if(!B||!E){return;}e=o.getProperty("/entityType");if(!e){jQuery.sap.log.error(u.errorMessages.CARD_ANNO_ERROR+"in "+u.errorMessages.CARD_ANNO);return;}var F=u.getMetadata(B,E);b=o.getProperty("/chartAnnotationPath");if(!b||!(d=e[b])){jQuery.sap.log.error(u.errorMessages.CARD_ANNO_ERROR+"in "+u.errorMessages.CARD_ANNO);return;}if(!(D=d.DimensionAttributes)||!D.length){jQuery.sap.log.error(u.errorMessages.CHART_ANNO_ERROR+"in "+u.errorMessages.CHART_ANNO+" "+u.errorMessages.DIMENSIONS_MANDATORY);return;}var N;if(!(m=d.MeasureAttributes)||!m.length){jQuery.sap.log.error(u.errorMessages.CHART_ANNO_ERROR+"in "+u.errorMessages.CHART_ANNO+" "+u.errorMessages.MEASURES_MANDATORY);return;}else{var G=m[0].DataPoint?e[m[0].DataPoint.AnnotationPath.substring(1)]:null;var H=G&&G.NumberFormat&&G.NumberFormat.NumberOfFractionalDigits&&G.NumberFormat.NumberOfFractionalDigits.Int;N=H?H:0;}s=u.hasTimeSemantics(D,l,B,E);if(s){l=l.time;}else{l=l.default;}var I=o.getProperty("/ChartProperties")||o.getProperty("/chartProperties");if(o&&o.getProperty("/tabs")&&(I==undefined)){x=w.byId("ovp_card_dropdown");y=parseInt(x.getSelectedKey(),10);I=o.getProperty("/tabs")&&o.getProperty("/tabs")[y-1]&&(o.getProperty("/tabs")[y-1]["ChartProperties"]||o.getProperty("/tabs")[y-1]["chartProperties"]);}var J=false;var K=N>0?"tooltipNoScaleFormatter/"+N.toString()+"/":'tooltipNoScaleFormatter/-1/';var T=new sap.viz.ui5.controls.VizTooltip({formatString:K});T.connect(a.getVizUid());T.connect(a.getVizUid());a._oOvpVizFrameTooltip=T;[l.dimensions,l.measures].forEach(function(j,i){var k=i?m:D;var v=i?"measure(s)":"dimension(s)";if(j.min&&k.length<j.min){jQuery.sap.log.error(u.errorMessages.CARD_ERROR+"in "+f+" "+u.errorMessages.CARD_LEAST+j.min+" "+v);J=true;}if(j.max&&k.length>j.max){jQuery.sap.log.error(u.errorMessages.CARD_ERROR+"in "+f+u.errorMessages.CARD_MOST+j.max+" "+v);J=true;}});if(J){return;}var L=true;if(l.properties&&l.properties.hasOwnProperty("hideLabel")&&!l.properties["hideLabel"]){L=false;}var O=true;var P=false;if(f=='donut'){P=true;}a.removeAllAggregation();V={legend:{isScrollable:false},title:{visible:false},interaction:{noninteractiveMode:O?false:true,selectability:{legendSelection:false,axisLabelSelection:false,mode:'EXCLUSIVE',plotLassoSelection:false,plotStdSelection:true},zoom:{enablement:'disabled'}},plotArea:{window:{start:'firstDataPoint',end:'lastDataPoint'},dataLabel:{visible:P?true:false,type:'value'},dataPoint:{invalidity:'ignore'}},categoryAxis:{label:{truncatedLabelRatio:0.15}},general:{groupData:false,showAsUTC:true}};if(l.properties&&l.properties.semanticColor==true&&sap.ovp.cards.charts.VizAnnotationManager.checkFlag(m,e)){var R=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("GOOD");var S=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("BAD");var U=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("CRITICAL");var W=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OTHERS");if(m.length==1){var X=u.buildSemanticLegends(m[0],e,F);var R=X[0]||R,S=X[1]||S,U=X[2]||U,W=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OTHERS");}V.plotArea.dataPointStyle={rules:[{callback:function(i){var j=sap.ovp.cards.charts.VizAnnotationManager.mapMeasures(i,F,m);if(!j){return false;}var k=e[j.substring(1)];var v=sap.ovp.cards.charts.VizAnnotationManager.formThePathForCriticalityStateCalculation(i,k);if(v==sap.ovp.cards.AnnotationHelper.criticalityConstants.StateValues.Positive){return true;}else if(v==="Positive"){return true;}},properties:{color:"sapUiChartPaletteSemanticGoodLight1"},"displayName":R},{callback:function(i){var j=sap.ovp.cards.charts.VizAnnotationManager.mapMeasures(i,F,m);if(!j){return false;}var k=e[j.substring(1)];var v=sap.ovp.cards.charts.VizAnnotationManager.formThePathForCriticalityStateCalculation(i,k);if(v==sap.ovp.cards.AnnotationHelper.criticalityConstants.StateValues.Critical){return true;}else if(v==="Critical"){return true;}},properties:{color:"sapUiChartPaletteSemanticCriticalLight1"},"displayName":U},{callback:function(i){var j=sap.ovp.cards.charts.VizAnnotationManager.mapMeasures(i,F,m);if(!j){return false;}var k=e[j.substring(1)];var v=sap.ovp.cards.charts.VizAnnotationManager.formThePathForCriticalityStateCalculation(i,k);if(v==sap.ovp.cards.AnnotationHelper.criticalityConstants.StateValues.Negative){return true;}else if(v==="Negative"){return true;}},properties:{color:"sapUiChartPaletteSemanticBadLight1"},"displayName":S},{callback:function(i){var j=sap.ovp.cards.charts.VizAnnotationManager.mapMeasures(i,F,m);if(!j){return false;}var k=e[j.substring(1)];var v=sap.ovp.cards.charts.VizAnnotationManager.formThePathForCriticalityStateCalculation(i,k);if(v==sap.ovp.cards.AnnotationHelper.criticalityConstants.StateValues.None){return true;}else if(v==="Neutral"){return true;}},properties:{color:"sapUiChartPaletteSemanticNeutralLight1"},"displayName":W}]};}var Y=o.getProperty("/colorPalette");var Z;if(d.ChartType.EnumMember===sap.ovp.cards.charts.VizAnnotationManager.constants.COLUMNSTACKED_CHARTTYPE&&Y&&Y.length===4){jQuery.each(D,function(i,j){if(j&&j.Role&&j.Role.EnumMember=="com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series"){Z=j.Dimension&&j.Dimension.PropertyPath;return;}});var $;if(Z){if(F&&F[Z]){if(F[Z][u.constants.LABEL_KEY_V4]){$=F[Z][u.constants.LABEL_KEY_V4].String?F[Z][u.constants.LABEL_KEY_V4].String:F[Z][u.constants.LABEL_KEY_V4].Path;}else if(F[Z][u.constants.LABEL_KEY]){$=F[Z][u.constants.LABEL_KEY];}else if(Z){$=Z;}}var _=Y.map(function(v){return v.color;});var a1=Y.map(function(v){return v.legendText;});var b1=sap.ui.getCore().getLibraryResourceBundle("sap.ovp");var c1=a1[0]!=undefined?a1[0]:b1.getText("OTHERS");var d1=a1[1]!=undefined?a1[1]:b1.getText("BAD");var e1=a1[2]!=undefined?a1[2]:b1.getText("CRITICAL");var f1=a1[3]!=undefined?a1[3]:b1.getText("GOOD");V.plotArea.dataPointStyle={rules:[{callback:function(i){if(i&&(i[$]==="3"||i[$]===3)){return true;}},properties:{color:_[3]},"displayName":f1},{callback:function(i){if(i&&(i[$]==="2"||i[$]===2)){return true;}},properties:{color:_[2]},"displayName":e1},{callback:function(i){if(i&&(i[$]==="1"||i[$]===1)){return true;}},properties:{color:_[1]},"displayName":d1},{callback:function(i){if(i&&(i[$]==="0"||i[$]===0)){return true;}},properties:{color:_[0]},"displayName":c1}]};}}var g1=false;if(d.ChartType.EnumMember===sap.ovp.cards.charts.VizAnnotationManager.constants.SCATTER_CHARTTYPE||d.ChartType.EnumMember===sap.ovp.cards.charts.VizAnnotationManager.constants.BUBBLE_CHARTTYPE||d.ChartType.EnumMember===sap.ovp.cards.charts.VizAnnotationManager.constants.LINE_CHARTTYPE){if(d&&d.AxisScaling&&d.AxisScaling.EnumMember){var h1=d.AxisScaling.EnumMember.substring(d.AxisScaling.EnumMember.lastIndexOf('/')+1,d.AxisScaling.EnumMember.length);switch(h1){case"AdjustToDataIncluding0":V.plotArea.adjustScale=false;g1=true;break;case"AdjustToData":V.plotArea.adjustScale=true;g1=true;break;case"MinMaxValues":var i1=[];if(d["MeasureAttributes"][0]&&d["MeasureAttributes"][0].DataPoint&&d["MeasureAttributes"][0].DataPoint.AnnotationPath){var j1=d["MeasureAttributes"][0].DataPoint.AnnotationPath;var k1=j1.substring(j1.lastIndexOf('@')+1,j1.length);if(e&&e[k1]){var l1=e[k1];if(l1&&l1.MaximumValue&&l1.MaximumValue.Decimal&&l1.MinimumValue&&l1.MinimumValue.Decimal){i1.push({feed:"valueAxis",max:l1.MaximumValue.Decimal,min:l1.MinimumValue.Decimal});g1=true;}else{jQuery.sap.log.error(u.errorMessages.ERROR_MISSING_AXISSCALES);}}}if(d.ChartType.EnumMember!==sap.ovp.cards.charts.VizAnnotationManager.constants.LINE_CHARTTYPE&&d["MeasureAttributes"][1]&&d["MeasureAttributes"][1].DataPoint&&d["MeasureAttributes"][1].DataPoint.AnnotationPath){var j1=d["MeasureAttributes"][1].DataPoint.AnnotationPath;var k1=j1.substring(j1.lastIndexOf('@')+1,j1.length);if(e&&e[k1]){var l1=e[k1];if(l1&&l1.MaximumValue&&l1.MaximumValue.Decimal&&l1.MinimumValue&&l1.MinimumValue.Decimal){i1.push({feed:"valueAxis2",max:l1.MaximumValue.Decimal,min:l1.MinimumValue.Decimal});g1=true;}else{jQuery.sap.log.error(u.errorMessages.ERROR_MISSING_AXISSCALES);}}}a.setVizScales(i1);break;default:break;}}}Q=D.slice();n=m.slice();var m1=0;var n1=0;var o1;var p1;var q1=false;var r1=false;var s1=false;var t1=false;var u1;var v1=[];var w1=[],x1=[];jQuery.each(l.feeds,function(i,v){var D1=v.uid;var E1=[];if(v.type){var F1,G1,H1;if(v.type==="dimension"){F1=D.length;G1="Dimension";H1="dimensions";q=Q;p=r;}else{F1=m.length;G1="Measure";H1="measures";q=n;p=M;}var I1=0,J1=F1;if(v.min){I1=I1>v.min?I1:v.min;}if(v.max){J1=J1<v.max?J1:v.max;}if(!v.role){var K1=q.length;for(var j=0;j<K1&&E1.length<J1;++j){var L1=q[j];q.splice(j,1);--K1;--j;E1.push(L1);if(F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_ISOCurrency]){u1=F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_ISOCurrency].Path?F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_ISOCurrency].Path:undefined;}else if(F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_Unit]){u1=F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_Unit].Path?F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_Unit].Path:undefined;}else if(F[L1[G1].PropertyPath][u.constants.UNIT_KEY]){u1=F[L1[G1].PropertyPath][u.constants.UNIT_KEY];}if(!t1){t1=u.checkEDMINT32Exists(F,L1,G1);}if(u.isMeasureCurrency(F,u1)){q1=true;}else{r1=true;}if(!s1){s1=u.fractionalDigitsExists(L1,e);}if(!q1){m1=u.checkNumberFormat(m1,L1,e);o1=u.getMaxScaleFactor(o1,L1,e);}else{n1=u.checkNumberFormat(n1,L1,e);p1=u.getMaxScaleFactor(p1,L1,e);}}}else{var M1=v.role.split("|");jQuery.each(M1,function(j,d2){if(E1.length==J1){return false;}var K1=q.length;for(var k=0;k<K1&&E1.length<J1;++k){var L1=q[k];if(L1&&L1.Role&&L1.Role.EnumMember&&L1.Role.EnumMember.split("/")&&L1.Role.EnumMember.split("/")[1]){var e2=L1.Role.EnumMember.split("/")[1];if(e2==d2){q.splice(k,1);--K1;--k;E1.push(L1);if(F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_ISOCurrency]){u1=F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_ISOCurrency].Path?F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_ISOCurrency].Path:undefined;}else if(F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_Unit]){u1=F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_Unit].Path?F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_Unit].Path:undefined;}else if(F[L1[G1].PropertyPath][u.constants.UNIT_KEY]){u1=F[L1[G1].PropertyPath][u.constants.UNIT_KEY];}if(u.isMeasureCurrency(F,u1)){q1=true;}else{r1=true;}if(!t1){t1=u.checkEDMINT32Exists(F,L1,G1);}if(!s1){s1=u.fractionalDigitsExists(L1,e);}if(!q1){m1=u.checkNumberFormat(m1,L1,e);o1=u.getMaxScaleFactor(o1,L1,e);}else{n1=u.checkNumberFormat(n1,L1,e);p1=u.getMaxScaleFactor(p1,L1,e);}}}else if(jQuery.inArray(L1,p)==-1){p.push(L1);}}});if(E1.length<J1){jQuery.each(p,function(k,L1){var d2;var e2;if((d2=l[H1].defaultRole)&&(jQuery.inArray(d2,M1)!==-1)&&(e2=jQuery.inArray(L1,q))!==-1){q.splice(e2,1);E1.push(L1);if(F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_ISOCurrency]){u1=F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_ISOCurrency].Path?F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_ISOCurrency].Path:undefined;}else if(F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_Unit]){u1=F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_Unit].Path?F[L1[G1].PropertyPath][u.constants.UNIT_KEY_V4_Unit].Path:undefined;}else if(F[L1[G1].PropertyPath][u.constants.UNIT_KEY]){u1=F[L1[G1].PropertyPath][u.constants.UNIT_KEY];}if(u.isMeasureCurrency(F,u1)){q1=true;}else{r1=true;}if(!t1){t1=u.checkEDMINT32Exists(F,L1,G1);}if(!s1){s1=u.fractionalDigitsExists(L1,e);}if(!q1){m1=u.checkNumberFormat(m1,L1,e);o1=u.getMaxScaleFactor(o1,L1,e);}else{n1=u.checkNumberFormat(n1,L1,e);p1=u.getMaxScaleFactor(p1,L1,e);}if(E1.length==J1){return false;}}});}if(E1.length<I1){jQuery.sap.log.error(u.errorMessages.CARD_ERROR+u.errorMessages.MIN_FEEDS+f+" "+u.errorMessages.FEEDS_OBTAINED+E1.length+" "+u.errorMessages.FEEDS_REQUIRED+I1+" "+u.errorMessages.FEEDS);return false;}}if(E1.length){var N1=[];var O1;if(!(O1=a.getDataset())){jQuery.sap.log.error(u.errorMessages.NO_DATASET);return false;}this.entityTypeObject=e;jQuery.each(E1,function(i,L1){if(!L1||!L1[G1]||!L1[G1].PropertyPath){jQuery.sap.log.error(u.errorMessages.INVALID_CHART_ANNO);return false;}var k=L1[G1].PropertyPath;var $=k;var d2=k;var e2=null;if(F&&F[k]){if(F[k][u.constants.LABEL_KEY_V4]){if(F[k][u.constants.LABEL_KEY_V4].String){$=F[k][u.constants.LABEL_KEY_V4].String;}else if(F[k][u.constants.LABEL_KEY_V4].Path){$=F[k][u.constants.LABEL_KEY_V4].Path;}else{$=k;}}else if(F[k][u.constants.LABEL_KEY]){$=F[k][u.constants.LABEL_KEY];}else if(k){$=k;}if(F[k][u.constants.TEXT_KEY_V4]){d2=F[k][u.constants.TEXT_KEY_V4].String?F[k][u.constants.TEXT_KEY_V4].String:F[k][u.constants.TEXT_KEY_V4].Path;}else if(F[k][u.constants.TEXT_KEY]){d2=F[k][u.constants.TEXT_KEY];}else if(k){d2=k;}e2=F[k][u.constants.TYPE_KEY]||null;}var f2;if((e2=="Edm.DateTime"||e2=="Edm.DateTimeOffset")&&d2==k){f2="{path:'"+k+"', formatter: 'sap.ovp.cards.charts.VizAnnotationManager.returnDateFormat'}";}else{if(F[k]&&F[k][u.constants.TEXT_KEY_V4]&&F[k][u.constants.TEXT_KEY_V4][u.constants.TEXT_ARRANGEMENT_ANNO]){var g2,h2;g2=F[k][u.constants.TEXT_ARRANGEMENT_ANNO];h2=g2&&g2.EnumMember;if(!h2){g2=F[k][u.constants.TEXT_KEY_V4][u.constants.TEXT_ARRANGEMENT_ANNO];h2=g2&&g2.EnumMember;}if(!h2){var i2=this.entityTypeObject;g2=i2&&i2[u.constants.TEXT_ARRANGEMENT_ANNO];h2=g2&&g2.EnumMember;}switch(h2){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst":f2="{"+d2+"}"+" "+"("+"{"+k+"}"+")";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":f2="{"+k+"}"+" "+"("+"{"+d2+"}"+")";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":f2="{"+d2+"}";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeperate":f2="{"+k+"}"+" "+"("+"{"+d2+"}"+")";break;default:f2="{"+k+"}";break;}}else{f2="{"+d2+"}";}}N1.push($);if(G1=="Dimension"){if(D1=="waterfallType"){var j2=new sap.viz.ui5.data.DimensionDefinition({name:$,value:"{"+k+"}"});}else{var j2=new sap.viz.ui5.data.DimensionDefinition({name:$,value:"{"+k+"}",displayValue:f2});}var k2=F[k]["com.sap.vocabularies.Common.v1.IsCalendarYear"]&&F[k]["com.sap.vocabularies.Common.v1.IsCalendarYear"].Bool;if(s&&(e2=="Edm.DateTime"||k2||e2=="Edm.DateTimeOffset")){j2.setDataType("date");}O1.addDimension(j2);if(jQuery.inArray($,x1)===-1){x1.push($);}}else{O1.addMeasure(new sap.viz.ui5.data.MeasureDefinition({name:$,value:"{"+k+"}"}));if((jQuery.inArray($,w1)===-1)&&(D1!="bubbleWidth")){w1.push($);}}}.bind(this));a.addFeed(new sap.viz.ui5.controls.common.feeds.FeedItem({'uid':D1,'type':G1,'values':N1}));if(D1==="categoryAxis"){V[D1]={title:{visible:L?false:true,text:N1.join(", ")},label:{formatString:q1?'CURR':'axisFormatter',truncatedLabelRatio:0.15}};}else{V[D1]={title:{visible:L?false:true,text:N1.join(", ")},label:{formatString:q1?'CURR':'axisFormatter'}};}v1.push(V[D1]);if(l.hasOwnProperty("vizProperties")){var P1=0;var Q1=l.vizProperties.length;var R1;var S1;for(;P1<Q1;P1++){if(l.vizProperties[P1].hasOwnProperty("value")){S1=l.vizProperties[P1].value;}if(l.vizProperties[P1].hasOwnProperty("path")){R1=(l.vizProperties[P1].path).split(".");var T1=R1.length;var U1,V1;var W1;for(var X1=0,W1=R1[0],U1=V,V1=I;X1<T1;++X1){if(X1==T1-1){if(V1&&V1.hasOwnProperty(W1)){if(f=='donut'&&(V1[W1]=="value"||V1[W1]=="percentage")){S1=V1[W1];}else if(f!='donut'){S1=V1[W1];}}if((g1&&(W1!="adjustScale"))||(!g1&&(W1==="adjustScale"))||(!g1&&(W1!="adjustScale"))){U1[W1]=S1;}break;}U1[W1]=U1[W1]||{};U1=U1[W1];if(V1){V1[W1]=V1[W1]||{};V1=V1[W1];}W1=R1[X1+1];}}}}if(v.hasOwnProperty("vizProperties")){var i=0;var Y1=v.vizProperties.length;var Z1;var $1;var _1;for(;i<Y1;i++){if(v.vizProperties[i].hasOwnProperty("method")){$1=v.vizProperties[i].method;switch($1){case'count':Z1=N1.length;if(v.vizProperties[i].hasOwnProperty("min")&&Z1<=v.vizProperties[i].min){Z1=v.vizProperties[i].min;}else if(v.vizProperties[i].hasOwnProperty("max")&&Z1>=v.vizProperties[i].max){Z1=v.vizProperties[i].max;}break;}}else if(v.vizProperties[i].hasOwnProperty("value")){Z1=v.vizProperties[i].value;}if(v.vizProperties[i].hasOwnProperty("path")){_1=(v.vizProperties[i].path).split(".");var a2=_1.length;var b2;var c2;for(var j=0,c2=_1[0],b2=V;j<a2;++j){if(j==a2-1){b2[c2]=Z1;break;}b2[c2]=b2[c2]||{};b2=b2[c2];c2=_1[j+1];}}}}}}});var y1=a.getFeeds();if(l.properties&&l.properties.semanticPattern==true&&sap.ovp.cards.charts.VizAnnotationManager.getMeasureDimCheck(y1,f)){jQuery.each(y1,function(i,v){if(y1[i].getType()=='Measure'&&((y1[i].getUid()=='valueAxis')||(y1[i].getUid()=='actualValues'))){var j;jQuery.each(m,function(I1,J1){var K1=sap.ovp.cards.charts.VizAnnotationManager.getSapLabel(J1.Measure.PropertyPath,F);if(K1==y1[i].getValues()[0]){j=sap.ovp.cards.charts.VizAnnotationManager.checkForecastMeasure(J1,e);return false;}});if(j){var k=sap.ovp.cards.charts.VizAnnotationManager.getSapLabel(j.Measure.PropertyPath,F);var D1=(e[j.DataPoint.AnnotationPath.substring(1)].ForecastValue.PropertyPath||e[j.DataPoint.AnnotationPath.substring(1)].ForecastValue.Path);var E1=sap.ovp.cards.charts.VizAnnotationManager.getSapLabel(D1,F);var F1=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("ACTUAL",[k]);var G1=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("FORECAST",[E1]);V.plotArea.dataPointStyle={rules:[{dataContext:{MeasureNamesDimension:k},properties:{color:"sapUiChartPaletteSequentialHue1Light1",lineType:"line",lineColor:"sapUiChartPaletteSequentialHue1Light1"},displayName:F1},{dataContext:{MeasureNamesDimension:E1},properties:{color:"sapUiChartPaletteSequentialHue1Light1",lineType:"dotted",lineColor:"sapUiChartPaletteSequentialHue1Light1",pattern:"diagonalLightStripe"},displayName:G1}]};a.getDataset().addMeasure(new sap.viz.ui5.data.MeasureDefinition({name:E1,value:"{"+D1+"}"}));var H1=y1[i].getValues();H1.push(E1);y1[i].setValues(H1);}return false;}});}if(l.properties&&l.properties.semanticPattern==true&&sap.ovp.cards.charts.VizAnnotationManager.getMeasureDimCheck(y1,f)&&a.getVizType()==="vertical_bullet"){jQuery.each(y1,function(i,v){if(y1[i].getType()=='Measure'&&((y1[i].getUid()=='valueAxis')||(y1[i].getUid()=='actualValues'))){var j;jQuery.each(m,function(E1,F1){var G1=sap.ovp.cards.charts.VizAnnotationManager.getSapLabel(F1.Measure.PropertyPath,F);if(G1==y1[i].getValues()[0]){j=sap.ovp.cards.charts.VizAnnotationManager.checkTargetMeasure(F1,e);return false;}});if(j){var k=(e[j.DataPoint.AnnotationPath.substring(1)].TargetValue.PropertyPath||e[j.DataPoint.AnnotationPath.substring(1)].TargetValue.Path);var D1=sap.ovp.cards.charts.VizAnnotationManager.getSapLabel(k,F);a.getDataset().addMeasure(new sap.viz.ui5.data.MeasureDefinition({name:D1,value:"{"+k+"}"}));a.addFeed(new sap.viz.ui5.controls.common.feeds.FeedItem({'uid':"targetValues",'type':"Measure",'values':[D1]}));}return false;}});}if(q1&&r1){jQuery.sap.log.warning(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Currency_non_currency_measure"));}if(t1&&!s1){n1=m1=-1;}else if(!t1&&!s1){n1=m1=-1;}var z1;if(p1===undefined){p1="";}if(o1===undefined){o1="";}if(q1){z1=sap.ovp.cards.charts.VizAnnotationManager.getScaleUnit(p1,q1);}else{z1=sap.ovp.cards.charts.VizAnnotationManager.getScaleUnit(o1,q1);}if(h){h.setScale(z1);}sap.ovp.cards.charts.VizAnnotationManager.setFormattedChartTitle(w1,x1,c);var A1="";jQuery.each(v1,function(i,j){var k=j.label.formatString;A1="";if(q1){if(k==='CURR'){A1='CURR/'+n1.toString()+"/";}else{A1='axisFormatter/'+n1.toString()+"/";}}else{A1='axisFormatter/'+m1.toString()+"/";}j.label.formatString=A1;});if(f=="vertical_bullet"){V["valueAxis"]={title:{visible:L?false:true},label:{formatString:A1}};}var B1="";var C1="";if(q1){B1=n1.toString();C1='CURR/'+n1.toString()+"/";}else{B1=m1.toString();C1='axisFormatter/'+m1.toString()+"/";}if(f==="donut"){V.plotArea.dataLabel.formatString=C1;if(V.plotArea.dataLabel.type==="percentage"){V.plotArea.dataLabel.formatString="0.0%/"+B1+"/";}}this.checkRolesForProperty(Q,l,"dimension");this.checkRolesForProperty(n,l,"measure");a.setVizProperties(V);};
sap.ovp.cards.charts.VizAnnotationManager.setChartUoMTitle=function(v,a,c){if(v&&(v.getVizType()==="bubble"||v.getVizType()==="scatter")){return;}var C,e,b,d;var M;var s=sap.ovp.cards.charts.VizAnnotationManager;var u=s.constants.UNIT_KEY;var f=s.constants.UNIT_KEY_V4_ISOCurrency;var g=s.constants.UNIT_KEY_V4_Unit;var t;var h=[];if(!(C=v.getModel('ovpCardProperties'))){jQuery.sap.log.error(s.errorMessages.CARD_ERROR+"in "+s.errorMessages.CARD_CONFIG+s.errorMessages.NO_CARD_MODEL);return;}var j=v.getModel();var k=C.getProperty("/entitySet");if(!j||!k){return;}e=C.getProperty("/entityType");if(!e){jQuery.sap.log.error(s.errorMessages.CARD_ANNO_ERROR+"in "+s.errorMessages.CARD_ANNO);return;}var o=s.getMetadata(j,k);b=C.getProperty("/chartAnnotationPath");if(!b||!(d=e[b])){jQuery.sap.log.error(s.errorMessages.CARD_ANNO_ERROR+"in "+s.errorMessages.CARD_ANNO);return;}if(!(M=d.MeasureAttributes)||!M.length){jQuery.sap.log.error(s.errorMessages.CHART_ANNO_ERROR+"in "+s.errorMessages.CHART_ANNO+" "+s.errorMessages.MEASURES_MANDATORY);return;}jQuery.each(M,function(i,m){t=m.Measure.PropertyPath;if(m.DataPoint&&m.DataPoint.AnnotationPath){var w=e[m.DataPoint.AnnotationPath.substring(1)];if(w.ForecastValue&&(w.ForecastValue.PropertyPath||w.ForecastValue.Path)){h.push((w.ForecastValue.PropertyPath||w.ForecastValue.Path));}}h.push(t);});var r=a?a.results:null;var l="";var S=true;var n=[];var p=v.getFeeds();jQuery.each(p,function(i,m){if(m.getType()==="Measure"){n=n.concat(m.getValues());}});if(r){jQuery.each(h,function(i,m){var w="";if(o&&o[m]){if(o[m][s.constants.LABEL_KEY_V4]){w=o[m][s.constants.LABEL_KEY_V4].String?o[m][s.constants.LABEL_KEY_V4].String:o[m][s.constants.LABEL_KEY_V4].Path;}else if(o[m][s.constants.LABEL_KEY]){w=o[m][s.constants.LABEL_KEY];}else if(m){w=m;}}if(jQuery.inArray(w,n)!=-1){if(o&&o[m]){var x;if(o[m][f]){x=o[m][f].Path?o[m][f].Path:o[m][f].String;}else if(o[m][g]){x=o[m][g].Path?o[m][g].Path:o[m][g].String;}else if(o[m][u]){x=o[m][u];}if(!x){S=false;return false;}if(x&&o[x]){for(var i=0;i<r.length;i++){var y=r[i];if(S){if(l&&y[x]&&(y[x]!="")&&(l!="")&&(l!=y[x])){S=false;break;}}l=y[x];}}}}});}var q="";if(S){if(l!=""){q=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN_NO_SCALE",[l]);q=" "+q;}if(c){c.setText(q);c.data("aria-label",q,true);}}};
sap.ovp.cards.charts.VizAnnotationManager.getMetadata=function(m,e){var a=this.cacheODataMetadata(m);if(!a){return undefined;}return a[e];};
sap.ovp.cards.charts.VizAnnotationManager.setFormattedChartTitle=function(m,d,c){var t="",a="",b="";if(c){t=c.getText();}if(m&&(m.length>1)){for(var i=0;i<m.length-1;i++){if(a!=""){a+=", ";}a+=m[i];}a=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[a,m[i]]);}else if(m){a=m[0];}if(d&&(d.length>1)){for(var i=0;i<d.length-1;i++){if(b!=""){b+=", ";}b+=d[i];}b=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("MEAS_DIM_TITLE",[b,d[i]]);}else if(d){b=d[0];}if(c&&(t=="")){t=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("NO_CHART_TITLE",[a,b]);c.setText(t);c.data("aria-label",t,true);}};
sap.ovp.cards.charts.VizAnnotationManager.getScaleUnit=function(m,i){var n=1;var s;if(i){var c=sap.ui.core.format.NumberFormat.getCurrencyInstance({style:'short',currencyCode:false,shortRefNumber:m});s=c.format(Number(n));}else{var a=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',shortRefNumber:m});s=a.format(Number(n));}var b=s.slice(-1);return b;};
sap.ovp.cards.charts.VizAnnotationManager.cacheODataMetadata=function(m){var s=sap.ovp.cards.charts.VizAnnotationManager;if(m){if(!jQuery.sap.getObject("sap.ovp.cards.charts.cachedMetaModel")){sap.ovp.cards.charts.cachedMetaModel={};}var a=sap.ovp.cards.charts.cachedMetaModel[m.getId()];if(!a){var b=m.getMetaModel();a={};var c=b.getODataEntityContainer();jQuery.each(c.entitySet,function(d,e){var f=b.getODataEntityType(e.entityType);var g={};jQuery.each(f.property,function(p,h){g[h.name]=h;});a[e.name]=g;});sap.ovp.cards.charts.cachedMetaModel[m.getId()]=a;}return a;}else{jQuery.sap.log.error(s.errorMessages.CARD_ERROR+s.errorMessages.CACHING_ERROR);}};
sap.ovp.cards.charts.VizAnnotationManager.getSelectedDataPoint=function(v,c){v.attachSelectData(function(e){var s=sap.ovp.cards.charts.VizAnnotationManager;var C=v.getModel('ovpCardProperties');var d=v.getModel();var a=C.getProperty("/entitySet");var m=s.getMetadata(d,a);var b=[],f=[];var g={};var h=v.getDataset().getDimensions();var l;for(var i=0;i<h.length;i++){b.push(h[i].getName());}var n=jQuery.map(v.getDataset().getBinding("data").getCurrentContexts(),function(x){return x.getObject();});if(e.getParameter("data")&&e.getParameter("data")[0]&&e.getParameter("data")[0].data){l=e.getParameter("data")[0].data._context_row_number;var o=v.getDataset().getBinding("data").getContexts()[l];var N=c.getEntityNavigationEntries(o)[0];if(n[l].$isOthers&&n[l].$isOthers==true){var p={$isOthers:true};var q={getObject:function(){return p;}};if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(c)){sap.ovp.cards.CommonUtils.onContentClicked(q);}else{if(N){c.doNavigation(q,N);}}}else{f=Object.keys(e.getParameter("data")[0].data);for(var j=0;j<b.length;j++){for(var k=0;k<f.length;k++){if(b[j]==f[k]){for(var r in m){if(m.hasOwnProperty(r)){var t=m[r][s.constants.LABEL_KEY]||m[r][s.constants.NAME_KEY]||m[r][s.constants.NAME_CAP_KEY];if(t==f[k]){g[r]=n[l][r];}}}}}}var q={getObject:function(){return g;}};if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(c)){sap.ovp.cards.CommonUtils.onContentClicked(q);}else{if(N){c.doNavigation(q,N);}}}}});};
sap.ovp.cards.charts.VizAnnotationManager.checkBubbleChart=function(c){if(c.EnumMember.endsWith("Bubble")){return true;}else{return false;}};
sap.ovp.cards.charts.VizAnnotationManager.dimensionAttrCheck=function(d){var r=false;var s=sap.ovp.cards.charts.VizAnnotationManager;if(!d||d.constructor!=Array||d.length<1||d[0].constructor!=Object||!d[0].Dimension||!d[0].Dimension.PropertyPath){jQuery.sap.log.error(s.errorMessages.CHART_ANNO_ERROR+"in "+s.errorMessages.CHART_ANNO+" "+s.errorMessages.DIMENSIONS_MANDATORY);return r;}r=true;return r;};
sap.ovp.cards.charts.VizAnnotationManager.measureAttrCheck=function(m){var r=false;var s=sap.ovp.cards.charts.VizAnnotationManager;if(!m||m.constructor!=Array||m.length<1||m[0].constructor!=Object||!m[0].Measure||!m[0].Measure.PropertyPath){jQuery.sap.log.error(s.errorMessages.CHART_ANNO_ERROR+"in "+s.errorMessages.CHART_ANNO+" "+s.errorMessages.MEASURES_MANDATORY);return r;}r=true;return r;};
sap.ovp.cards.charts.VizAnnotationManager.getEntitySet=function(e){return e.name;};
sap.ovp.cards.charts.VizAnnotationManager.getAnnotationQualifier=function(a){if(a&&a.indexOf("#")!=-1){var t=a.split("#");if(t.length>1){return t[1];}}return"";};
sap.ovp.cards.charts.VizAnnotationManager.reprioritizeContent=function(n,v){var c=v.getModel('ovpCardProperties');var a=sap.ovp.cards.charts.VizAnnotationManager.getMaxItems(v);var m=+a.itemsLength;var d=+c.getProperty("/dataStep");if(m&&d){var b=n.colSpan-1;if(b>=0){m+=d*b;sap.ovp.cards.charts.VizAnnotationManager.updateBindingForAnalyticalCard(v,m);}}};
sap.ovp.cards.charts.VizAnnotationManager.getMaxItems=function(v){var c=v.getModel('ovpCardProperties');var e=c.getProperty("/entityType");var p=c.getProperty("/presentationAnnotationPath");var a=e.hasOwnProperty(p)&&e[p];var m=a&&a.MaxItems;if(m){var b=m.Int32?m.Int32:m.Int;return{itemsLength:+b,dataStep:+c.getProperty("/dataStep")};}};
sap.ovp.cards.charts.VizAnnotationManager.updateBindingForAnalyticalCard=function(v,a){var n,b={},f=[];var c=v.getVizType();var C=v.getModel('ovpCardProperties');var e=C.getProperty("/entityType");var d=C.getProperty("/chartAnnotationPath");var g=e[d];var h=v.getParent();var j=h.getBinding("data");b.path=j.getPath();b.parameters={};b.parameters.select=j.mParameters.select;b.filters=j.aApplicationFilters;b.sorter=j.aSorters;b.length=(c==="donut")?a+1:a;b.template=new sap.ui.core.Element();h.bindAggregation("data",b);if(c==="donut"){jQuery.each(g.MeasureAttributes,function(i,m){f.push(m.Measure.PropertyPath);});n={};n.path=j.getPath();n.parameters={};n.parameters.select=f.join(",");n.filters=j.aApplicationFilters;n.sorter=j.aSorters;n.length=1;n.template=new sap.ui.core.Element();h.bindAggregation("aggregateData",n);}h.updateBindingContext();};
}());
},
	"sap/ovp/cards/charts/analytical/analyticalChart.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.ovp.cards.charts.analytical.analyticalChart",{onInit:function(){sap.ovp.cards.charts.VizAnnotationManager.formatChartAxes();},onBeforeRendering:function(){if(this.bCardProcessed){return;}sap.ovp.cards.charts.VizAnnotationManager.validateCardConfiguration(this);var v=this.getView().byId("analyticalChart");var c=this.getOwnerComponent().getComponentData();if(this.getCardPropertiesModel().getProperty("/layoutDetail")==="resizable"&&c.appComponent){var d=c.appComponent.getDashboardLayoutUtil();var C=d.dashboardLayoutModel.getCardById(c.cardId);if(C.dashboardLayout.autoSpan&&v){v.setHeight("340px");}}var a=this.getView().byId("vbLayout");var n;var i=false;var D=new sap.viz.ui5.data.FlattenedDataset({data:{path:"/"}});this.isVizPropSet=i;this.oDataSet=D;this.vizFrame=v;this.vbLayout=a;if(!v){jQuery.sap.log.error(sap.ovp.cards.charts.VizAnnotationManager.constants.ERROR_NO_CHART+": ("+this.getView().getId()+")");}else{this.vbLayout.setBusy(true);n=v.getModel('ovpCardProperties').getProperty("/navigation");if(n===undefined||n=="datapointNav"||n!="headerNav"){sap.ovp.cards.charts.VizAnnotationManager.getSelectedDataPoint(v,this);}v.destroyDataset();var b=v.getParent().getBinding("data");this._handleKPIHeader();if(b&&b.getPath()){b.attachDataReceived(jQuery.proxy(this.onDataReceived,this));b.attachDataRequested(jQuery.proxy(this.onDataRequested,this));}else{var e=sap.ui.xmlfragment("sap.ovp.cards.charts.generic.noData");var f=this.getCardContentContainer();f.removeAllItems();f.addItem(e);}v.addEventDelegate({onmouseover:function(){var g=v._oOvpVizFrameTooltip;if(g){g._oPopup.close();}}});}this.bCardProcessed=true;},onAfterRendering:function(){if(!sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)&&this.getCardPropertiesModel().getProperty("/layoutDetail")==="resizable"){var c=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);var C=this.oDashboardLayoutUtil.getCardDomId(this.cardId);var e=document.getElementById(C);var h=this.getHeaderHeight();if(!c.dashboardLayout.autoSpan){var o=e.getElementsByClassName('sapOvpWrapper')[0];if(o){o.style.height=c.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX+2-(h+2*this.oDashboardLayoutUtil.CARD_BORDER_PX)+"px";}}if(c.dashboardLayout.showOnlyHeader){e.classList.add("sapOvpMinHeightContainer");}var v=this.getView().byId("analyticalChart");if(v){v.setHeight(this._calculateVizFrameHeight()+"px");}}},onDataReceived:function(e){var t=this;var a=this.getView().byId("analyticalChart");var b=this.getView().byId("bubbleText");var c=this.getView().byId("ovpCT");var d=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("BUBBLESIZE");this.oDataSet.bindData("analyticalmodel>/","");a.setDataset(this.oDataSet);var h=a.getParent();if(!this.isVizPropSet){sap.ovp.cards.charts.VizAnnotationManager.buildVizAttributes(a,h,c,this);this.isVizPropSet=true;if(b!=undefined){var f=a.getFeeds();jQuery.each(f,function(i,v){if(f[i].getUid()=="bubbleWidth"){b.setText(d+" "+f[i].getValues());}});}sap.ovp.cards.charts.VizAnnotationManager.hideDateTimeAxis(a);}var g=this.getView().byId("ovpUoMTitle");var j=e?e.getParameter('data'):null;sap.ovp.cards.charts.VizAnnotationManager.setChartUoMTitle(a,j,g);if(this.bFlag==true){this.bFlag=false;this.vbLayout.setBusy(false);}else{setTimeout(function(){t.vbLayout.setBusy(false);},0);}sap.ovp.cards.charts.VizAnnotationManager.checkNoData(e,this.getCardContentContainer(),a);},onDataRequested:function(){this.vbLayout.setBusy(true);},getCardItemsBinding:function(){var v=this.getView().byId("analyticalChart");if(v&&v.getDataset()&&v.getDataset().getBinding("data")){this.vbLayout.setBusy(false);}if(v&&v.getParent()){return v.getParent().getBinding("data");}return null;},resizeCard:function(n){var c=this.getCardPropertiesModel();this.newCardLayout=n;c.setProperty("/cardLayout/rowSpan",n.rowSpan);c.setProperty("/cardLayout/colSpan",n.colSpan);var C=this.getCardPropertiesModel().getProperty("/cardLayout");var h=this.getHeaderHeight();jQuery(this.getView().$()).find(".sapOvpWrapper").css({height:(n.rowSpan*C.iRowHeightPx+2)-(h+2*C.iCardBorderPx)+"px"});var a=this.getView().byId("analyticalChart");var b=this.getView().byId("bubbleText");var d=this.getView().byId("ovpCT");if(a){if(a.getVizType()==='timeseries_bubble'||a.getVizType()==='bubble'){if(C.colSpan>1){b.setVisible(false);}else{b.setVisible(true);}}a.setHeight(this._calculateVizFrameHeight()+"px");}var o=this.getView().byId('ovpCardContentContainer').getDomRef();if(o){if(!n.showOnlyHeader){o.classList.remove('sapOvpContentHidden');}else{o.classList.add('sapOvpContentHidden');}}var e=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("BUBBLESIZE");this.oDataSet.bindData("analyticalmodel>/","");this.vizFrame.setDataset(this.oDataSet);var f=a.getParent();if(!this.isVizPropSet){sap.ovp.cards.charts.VizAnnotationManager.buildVizAttributes(a,f,d,this);this.isVizPropSet=true;if(b!=undefined){var g=a.getFeeds();jQuery.each(g,function(i,v){if(g[i].getUid()=="bubbleWidth"){b.setText(e+" "+g[i].getValues());}});}sap.ovp.cards.charts.VizAnnotationManager.hideDateTimeAxis(a);}sap.ovp.cards.charts.VizAnnotationManager.reprioritizeContent(this.newCardLayout,a);},_calculateVizFrameHeight:function(){var v;var c=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);var a=this.getView().byId("analyticalChart");if(c){var g=this.getView().getController();var d=this.getItemHeight(g,'toolbar');var h=this.getHeaderHeight();var C=this.getView().byId("ovpCT")?24:0;var b=(a.getVizType()==='timeseries_bubble'||a.getVizType()==="bubble")&&c.dashboardLayout.colSpan===1?43:0;v=c.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX+2-(h+2*this.oDashboardLayoutUtil.CARD_BORDER_PX+d+C+b+30);}return v;},refreshCard:function(){this.getView().rerender();}});})();
},
	"sap/ovp/cards/charts/smart/chart/analyticalChart.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.ovp.cards.charts.smart.chart.analyticalChart",{onInit:function(){sap.ovp.cards.charts.VizAnnotationManager.formatChartAxes();this.bFlag=true;var s=this.getView().byId("analyticalChart2");if(s){if(s.getHeader()===""){s.setHeader("Dummy");}}var M=sap.ui.comp.odata.MetadataAnalyser;var e=M.prototype._enrichChartAnnotation;var l,i,o;M.prototype._enrichChartAnnotation=function(a,A){if(A){if(!A.Measures){A.Measures=[];if(A.MeasureAttributes){l=A.MeasureAttributes.length;for(i=0;i<l;i++){o=A.MeasureAttributes[i];A.Measures.push({"PropertyPath":o.Measure.PropertyPath});}}}if(!A.Dimensions){A.Dimensions=[];if(A.DimensionAttributes){l=A.DimensionAttributes.length;for(i=0;i<l;i++){o=A.DimensionAttributes[i];A.Dimensions.push({"PropertyPath":o.Dimension.PropertyPath});}}}}e.apply(this,arguments);};},onBeforeRendering:function(){var s=this.getView().byId("analyticalChart2");var v=s._getVizFrame();this.vizFrame=v;var a=s.getChart();a.setProperty("enableScalingFactor",true);sap.ovp.cards.charts.SmartAnnotationManager.getSelectedDataPoint(v,this);sap.ovp.cards.charts.SmartAnnotationManager.attachDataReceived(s,this);},onAfterRendering:function(){var c=this.getOwnerComponent().getComponentData();if(this.getCardPropertiesModel().getProperty("/layoutDetail")==="resizable"&&c.appComponent){var d=c.appComponent.getDashboardLayoutUtil();var C=d.getCardDomId(c.cardId);var o=d.dashboardLayoutModel.getCardById(c.cardId);var e=document.getElementById(C);e.getElementsByClassName('sapOvpWrapper')[0].style.height=o.dashboardLayout.rowSpan*d.ROW_HEIGHT_PX+1-(o.dashboardLayout.headerHeight+2*d.CARD_BORDER_PX)+"px";var a=Math.round((o.dashboardLayout.headerHeight+2*d.CARD_BORDER_PX)/d.ROW_HEIGHT_PX);if(o.dashboardLayout.rowSpan<=a){e.classList.add("sapOvpMinHeightContainer");}}var s=this.getView().byId("analyticalChart2");var b=s.getChart();var v=s._getVizFrame();b.addEventDelegate({onAfterRendering:function(){var D="in";if(v&&v._states()&&v._states()["dynamicScale"]){var S=b.getScalingFactor();var f=S&&S.primaryValues&&S.primaryValues.scalingFactor;if(f!=undefined){D=D+" "+f;}var u=S&&S.primaryValues&&S.primaryValues.unit;if(u){D=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("IN_NO_SCALE",[u]);var h=s.getHeader();h+=D;s.setHeader(h);}}}});},beforeRebindSmartChart:function(e){var c=this.getView().byId("analyticalChart2"),C=sap.ovp.cards.charts.SmartAnnotationManager.getMaxItems(c),a=+this.getCardPropertiesModel().getProperty("/cardLayout/colSpan")-1;c.attachBeforeRebindChart(jQuery.proxy(this.beforeRebindSmartChart,this));var b=e.getParameter("bindingParams");if(this.getCardPropertiesModel().getProperty('/layoutDetail')==='resizable'){this.dataLength=C.itemsLength+a*C.dataStep;}else{this.dataLength=C.itemsLength;}b.length=this.dataLength;var f=b.filters;var o=this.getCardPropertiesModel();var d=o.getData();var s=d.entityType[d.selectionAnnotationPath];var F=s&&s.SelectOptions;var g=this.getModel();var E=this.getEntitySet();var m=sap.ovp.cards.charts.SmartAnnotationManager.getMetadata(this.getModel(),d.entitySet);if(F){jQuery.each(s.SelectOptions,function(){var i=this.PropertyName.PropertyPath;jQuery.each(this.Ranges,function(){if(this.Sign.EnumMember==="com.sap.vocabularies.UI.v1.SelectionRangeSignType/I"){var j=sap.ovp.cards.charts.SmartAnnotationManager.getPrimitiveValue(this.Low);var k=this.High&&this.High.String;j=sap.ovp.cards.charts.SmartAnnotationManager.formatByType(m,i,j);var l={path:i,operator:this.Option.EnumMember.split("/")[1],value1:j};if(k){l.value2=sap.ovp.cards.charts.SmartAnnotationManager.formatByType(m,i,k);}f.push(new sap.ui.model.Filter(l));}});});}var h="";var p=s&&s.Parameters,P=o.getProperty('/parameters');p=p||!!P;if(p){h=sap.ovp.cards.AnnotationHelper.resolveParameterizedEntitySet(g,E,s,P);}else{h="/"+E.name;}c.setChartBindingPath(h);},resizeCard:function(n,$){var c=this.getCardPropertiesModel(),s=this.getView().byId("analyticalChart2"),C=this.getCardPropertiesModel().getProperty("/cardLayout");c.setProperty("/cardLayout/rowSpan",n.rowSpan);c.setProperty("/cardLayout/colSpan",n.colSpan);jQuery(this.getView().$()).find(".sapOvpWrapper").css({height:(n.rowSpan*C.iRowHeightPx)-(C.headerHeight+2*C.iCardBorderPx)+"px"});if(s){s.rebindChart();s._getVizFrame().setHeight(this._calculateVizFrameHeight()+"px");}},_calculateVizFrameHeight:function(){var v,c=this.getCardPropertiesModel().getProperty("/cardLayout");if(c&&c.rowSpan){var g=this.getView().getController();var d=this.getItemHeight(g,'toolbar');var b=this.getView().byId("bubbleText");var C=this.getView().byId("ovpCT")?20:0;var B=b&&b.getVisible()?70:20;v=c.rowSpan*c.iRowHeightPx+1-(c.headerHeight+2*c.iCardBorderPx+d+C+B+30);}return v;}});})();
},
	"sap/ovp/cards/generic/Card.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ovp.cards.ActionUtils");jQuery.sap.require("sap.ui.generic.app.navigation.service.NavigationHandler");jQuery.sap.require("sap.ui.generic.app.navigation.service.PresentationVariant");jQuery.sap.require("sap.ovp.cards.CommonUtils");jQuery.sap.require("sap.ovp.cards.OVPCardAsAPIUtils");var A=sap.ovp.cards.ActionUtils;sap.ui.controller("sap.ovp.cards.generic.Card",{onInit:function(){this.oCardComponent=this.getOwnerComponent();this.oCardComponentData=this.oCardComponent&&this.oCardComponent.getComponentData();this.oMainComponent=this.oCardComponentData&&this.oCardComponentData.mainComponent;this.sCardId=this.oCardComponentData.cardId;var s=this.getView().mPreprocessors.xml[0].ovpCardProperties.oData.state;if(s!=="Loading"&&s!=="Error"){var h=this.getView().byId("ovpCardHeader");if(!!h){h.attachBrowserEvent("click",this.onHeaderClick.bind(this));h.addEventDelegate({onkeydown:function(e){if(!e.shiftKey&&(e.keyCode==13||e.keyCode==32)){e.preventDefault();this.onHeaderClick();}}.bind(this)});}}var n=this.getView().byId("kpiNumberValue");if(n){n.addEventDelegate({onAfterRendering:function(){var $=n.$();var a=$.find(".sapMNCValueScr");var b=$.find(".sapMNCScale");a.attr("aria-label",a.text());b.attr("aria-label",b.text());var c=this.getView().byId("ovpCardHeader").getDomRef();var C=this.getOwnerComponent().getComponentData();if(!!C&&!!C.appComponent){var d=C.appComponent;if(!!d.getModel("ui")){var u=d.getModel("ui");if(!!u.getProperty("/containerLayout")&&u.getProperty("/containerLayout")==="resizable"){var D=C.appComponent.getDashboardLayoutUtil();if(!!D){D.setKpiNumericContentWidth(c);}}}}}.bind(this)});}var o=this.getView().byId("ovpTable");if(o){o.addEventDelegate({onAfterRendering:function(){var O=this.getView().byId("ovpTable");var $=O.$();var a=$.find(".ovpTableSmartLink");if(a.length>0){a.removeAttr("aria-labelledby");}}.bind(this)});}},exit:function(){if(this.resizeHandlerId){sap.ui.core.ResizeHandler.deregister(this.resizeHandlerId);}},onAfterRendering:function(){var c=this.getCardPropertiesModel();this.enableClick=true;var C=c.getProperty("/contentFragment");var o=this.getOwnerComponent().getComponentData();this._handleCountHeader();this._handleKPIHeader();var s=c.getProperty("/selectedKey");if(s&&c.getProperty("/state")!=='Loading'){var d=this.getView().byId("ovp_card_dropdown");if(d){d.setSelectedKey(s);}}try{var o=this.getOwnerComponent().getComponentData();if(o&&o.appComponent){var a=o.appComponent;if(a.getModel('ui')){var u=a.getModel('ui');if(u.getProperty('/containerLayout')==='resizable'){var D=a.getDashboardLayoutUtil();if(D){this.oDashboardLayoutUtil=D;this.cardId=o.cardId;if(D.isCardAutoSpan(o.cardId)){this.resizeHandlerId=sap.ui.core.ResizeHandler.register(this.getView(),function(E){jQuery.sap.log.info('DashboardLayout autoSize:'+E.target.id+' -> '+E.size.height);D.setAutoCardSpanHeight(E);});}}}}}}catch(e){jQuery.sap.log.error("DashboardLayout autoSpan check failed.");}if(this.oDashboardLayoutUtil&&this.oDashboardLayoutUtil.isCardAutoSpan(this.cardId)){var $=jQuery("#"+this.oDashboardLayoutUtil.getCardDomId(this.cardId));if(this.oView.$().outerHeight()>$.innerHeight()){this.oDashboardLayoutUtil.setAutoCardSpanHeight(null,this.cardId,this.oView.$().height());}}var i=0;if(o&&o.mainComponent){var m=o.mainComponent;if(m.bGlobalFilterLoaded){i=this.checkNavigation();}}else if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){i=this.checkNavigation();}var b=this.getCardPropertiesModel();var S=b.getProperty("/state");if(S!=="Loading"&&S!=="Error"){var f=b.getProperty("/template");if(f==="sap.ovp.cards.stack"){if(!i){var v=this.getView().byId('ViewAll');if(v){v=v.getDomRef();jQuery(v).remove();}}}}if(i){if(C?C!=="sap.ovp.cards.quickview.Quickview":true){if(C==="sap.ovp.cards.stack.Stack"){var g=this.getView().getDomRef();var h=jQuery(g).find('.sapOvpCardContentRightHeader');if(h.length!==0){h.addClass('sapOvpCardNavigable');}}else{this.getView().addStyleClass("sapOvpCardNavigable");}}if(C&&C==="sap.ovp.cards.quickview.Quickview"){var H=this.byId("ovpCardHeader");if(H){H.addStyleClass("sapOvpCardNavigable");}}}else{if(C){this.getView().addStyleClass("ovpNonNavigableItem");var H=this.byId("ovpCardHeader");if(H){H.$().removeAttr('role');H.addStyleClass('ovpNonNavigableItem');}var I=this.checkLineItemNavigation();if(!I){switch(C){case"sap.ovp.cards.list.List":var l=this.getView().byId("listItem");if(l){l.setType("Inactive");}break;case"sap.ovp.cards.table.Table":var l=this.getView().byId("tableItem");if(l){l.setType("Inactive");}break;case"sap.ovp.cards.linklist.LinkList":if(!this.checkNavigationForLinkedList()){var l=this.getView().byId("ovpCLI");if(l){l.setType("Inactive");}}break;}}}}var j=this.getView().byId("ovp_card_dropdown");var t=this.getView().byId("toolbar");if(t){var k=t.getDomRef();jQuery(k).attr("aria-label",j.getSelectedItem().getText());}},checkNavigation:function(){var c=this.getCardPropertiesModel();var e=this.getEntityType();if(e){if(c){var i=c.getProperty("/identificationAnnotationPath");var a=i;var C=c.getProperty("/contentFragment");if(C&&(C==="sap.ovp.cards.stack.Stack"||C==="sap.ovp.cards.quickview.Quickview")){var b=(i)?i.split(","):[];if(b&&b.length>1){if(C==="sap.ovp.cards.stack.Stack"){a=b[0];}else{a=b[1];}}}var r=e[a];if(this.isNavigationInAnnotation(r)){return 1;}if(c&&c.getProperty("/template")==="sap.ovp.cards.charts.analytical"){var k=c.getProperty("/kpiAnnotationPath");if(e&&k){var R=e[k];var s=R.Detail&&R.Detail.SemanticObject&&R.Detail.SemanticObject.String;var d=R.Detail&&R.Detail.Action&&R.Detail.Action.String;if(s&&d){return 1;}}}}}else if(c&&c.getProperty("/template")==="sap.ovp.cards.linklist"&&c.getProperty("/staticContent")&&c.getProperty("/targetUri")){return 1;}return 0;},checkNavigationForLinkedList:function(){if(this.getEntityType()){var e=this.getEntityType();var l=e['com.sap.vocabularies.UI.v1.LineItem'];if(l&&(l[0].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||l[0].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")){return true;}}return false;},checkLineItemNavigation:function(){if(this.getEntityType()){var e=this.getEntityType();var c=this.getCardPropertiesModel();if(c){var a=c.getProperty("/annotationPath");var r=e[a];return this.isNavigationInAnnotation(r);}}},isNavigationInAnnotation:function(r){if(r&&r.length){for(var i=0;i<r.length;i++){var I=r[i];if(I.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||I.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||I.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){return 1;}}}return 0;},onHeaderClick:function(){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onHeaderClicked();}else{var c=this.getCardPropertiesModel();var t=c.getProperty("/template");var T=c.getProperty("/targetUri");if(t=="sap.ovp.cards.linklist"&&c.getProperty("/staticContent")!==undefined&&T){window.location.href=T;}else if(c.getProperty("/staticContent")!==undefined&&T===""){return;}else{this.doNavigation(this.getView().getBindingContext());}}},resizeCard:function(c){jQuery.sap.log.info(c);if(this.resizeHandlerId){sap.ui.core.ResizeHandler.deregister(this.resizeHandlerId);this.resizeHandlerId=null;}},_handleCountHeader:function(){var c=this.getView().byId("ovpCountHeader");if(c){var i=this.getCardItemsBinding();if(i){this.setHeaderCounter(i,c);i.attachDataReceived(function(){this.setHeaderCounter(i,c);}.bind(this));i.attachChange(function(){this.setHeaderCounter(i,c);}.bind(this));}}},setHeaderCounter:function(i,c){var t=i.getLength();var C=i.getCurrentContexts().length;var o,a="";var n=sap.ui.core.format.NumberFormat.getIntegerInstance({minFractionDigits:0,maxFractionDigits:1,decimalSeparator:".",style:"short"});C=parseFloat(C,10);var b=this.getOwnerComponent().getComponentData();if(b&&b.appComponent){var d=b.appComponent;if(d.getModel('ui')){var u=d.getModel('ui');if(u.getProperty('/containerLayout')!=='resizable'){if(t!==0){t=n.format(Number(t));}if(C!==0){C=n.format(Number(C));}}else{o=d.getDashboardLayoutUtil().dashboardLayoutModel.getCardById(b.cardId);}}}if(C===0){a="";}else if(o&&o.dashboardLayout.showOnlyHeader){a=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Count_Header_Total",[t]);}else if(t!=C){a=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Count_Header",[C,t]);}c.setText(a);var e=c.$();e.attr("aria-label",a);},_handleKPIHeader:function(){var k,s;if(this.getView()&&this.getView().getDomRef()){k=this.getView().getDomRef().getElementsByClassName("numericContentHbox");s=this.getView().getDomRef().getElementsByClassName("noDataSubtitle");}else{return;}if(k||s){var i=this.getCardItemsBinding();if(i){i.attachDataReceived(function(){this._setSubTitleWithUnitOfMeasure(i);var t=i.getLength();if(k[0]){k[0].style.visibility=null;if(t===0){k[0].style.visibility='hidden';}}if(s.length!==0){s[0].style.display="none";if(t===0){s[0].style.display="flex";}}}.bind(this));}}},_setSubTitleWithUnitOfMeasure:function(i){var c=this.getCardPropertiesModel();if(!!c){var d=c.getData();var s=this.getView().byId("SubTitle-Text");if(!!s){s.setText(d.subTitle);if(!!d&&!!d.entityType&&!!d.dataPointAnnotationPath){var e=c.getData().entityType;var D=e[d.dataPointAnnotationPath];var m;if(D&&D.Value&&D.Value.Path){m=D.Value.Path;}else if(D&&D.Description&&D.Description.Value&&D.Description.Value.Path){m=D.Description.Value.Path;}if(!!m){var p=sap.ovp.cards.CommonUtils.getUnitColumn(m,e);var k=this.byId("kpiHeader");if(!!k){var a=k.getAggregation("items")[0];if(!!a){var b=a.getItems()[0];if(!!b){var C=b.getBindingContext().getPath();if(!!C){var u;var M=this.getModel();var o=M.getContext(C);if(!!p&&!!o){u=o.getProperty(p);}else{u=sap.ovp.cards.CommonUtils.getUnitColumn(m,e,true);}var f=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("SubTitle_IN");if(!!d.subTitle&&!!f&&!!u){s.setText(d.subTitle+" "+f+" "+u);var g=s.getAggregation("customData");if(!!g&&!!g[0]){g[0].setValue(d.subTitle+" "+f+" "+u);}}}}}}}}}}},getCardItemsBinding:function(){},onActionPress:function(e){var s=e.getSource(),c=this._getActionObject(s),a=s.getBindingContext();if(c.type.indexOf("DataFieldForAction")!==-1){this.doAction(a,c);}else{this.doNavigation(a,c);}},_getActionObject:function(s){var c=s.getCustomData();var C={};for(var i=0;i<c.length;i++){C[c[i].getKey()]=c[i].getValue();}return C;},doNavigation:function(c,n){if(!this.enableClick){return;}this.enableClick=false;setTimeout(function(){this.enableClick=true;}.bind(this),1000);if(!n){n=this.getEntityNavigationEntries(c)[0];}var C=jQuery.extend(true,{},c);var N=jQuery.extend(true,{},n);var o=this.oMainComponent&&this.oMainComponent.doCustomNavigation&&this.oMainComponent.doCustomNavigation(this.sCardId,C,N);if(o){var t=o.type;if(t&&typeof t==="string"&&t.length>0){t=t.split(".").pop().split("/").pop().toLowerCase();switch(t){case"datafieldwithurl":o.type="com.sap.vocabularies.UI.v1.DataFieldWithUrl";break;case"datafieldforintentbasednavigation":o.type="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation";break;}n=o;}}if(n){switch(n.type){case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":this.doNavigationWithUrl(c,n);break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":this.doIntentBasedNavigation(c,n,false);break;case"com.sap.vocabularies.UI.v1.KPIDetailType":this.doIntentBasedNavigation(c,n,false);break;}}},doNavigationWithUrl:function(c,n){if(!sap.ushell.Container){return;}var p=sap.ushell.Container.getService("URLParsing");if(!(p.isIntentUrl(n.url))){window.open(n.url);}else{var P=p.parseShellHash(n.url);this.doIntentBasedNavigation(c,P,true);}},fnHandleError:function(e){if(e instanceof sap.ui.generic.app.navigation.service.NavError){if(e.getErrorCode()==="NavigationHandler.isIntentSupported.notSupported"){sap.m.MessageBox.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OVP_NAV_ERROR_NOT_AUTHORIZED_DESC"),{title:sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OVP_GENERIC_ERROR_TITLE")});}else{sap.m.MessageBox.show(e.getErrorCode(),{title:sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OVP_GENERIC_ERROR_TITLE")});}}},doCrossApplicationNavigation:function(I,n){var s="#"+I.semanticObject+'-'+I.action;if(I.params){var c=this.oCardComponent&&this.oCardComponent.getComponentData();var a=c&&c.appComponent;if(a){var p=a._formParamString(I.params);s=s+p;}}var t=this;if(!sap.ushell.Container){return;}sap.ushell.Container.getService("CrossApplicationNavigation").isIntentSupported([s]).done(function(r){if(r[s].supported===true){if(!!n.params){if(typeof n.params=='string'){try{n.params=JSON.parse(n.params);}catch(e){jQuery.sap.log.error("Could not parse the Navigation parameters");return;}}}var c=t.getOwnerComponent().getComponentData();var g=c?c.globalFilter:undefined;var u=g&&g.getUiState({allFilters:false});var S=u?JSON.stringify(u.getSelectionVariant()):"{}";g=jQuery.parseJSON(S);if(!n.params){n.params={};}if(!!g&&!!g.SelectOptions){for(var i=0;i<g.SelectOptions.length;i++){var G=g.SelectOptions[i].Ranges;if(!!G){var v=[];for(var j=0;j<G.length;j++){if(G[j].Sign==="I"&&G[j].Option==="EQ"){v.push(G[j].Low);}}n.params[g.SelectOptions[i].PropertyName]=v;}}}sap.ushell.Container.getService("CrossApplicationNavigation").toExternal(n);}else{var E=new sap.ui.generic.app.navigation.service.NavError("NavigationHandler.isIntentSupported.notSupported");t.fnHandleError(E);}}).fail(function(){jQuery.sap.log.error("Could not get authorization from isIntentSupported");});},doIntentBasedNavigation:function(c,i,u){if(!sap.ushell.Container){return;}var p,n,e=c?c.getObject():null;if(e&&e.__metadata){delete e.__metadata;}var N=sap.ovp.cards.CommonUtils.getNavigationHandler();if(N){if(i){p=this._getEntityNavigationParameters(e);n={target:{semanticObject:i.semanticObject,action:i.action},appSpecificRoute:i.appSpecificRoute,params:p.newSelectionVariant};var C,m=null;if(this.getOwnerComponent()&&this.getOwnerComponent().getComponentData()){m=this.getOwnerComponent().getComponentData().mainComponent;if(!!m){C=m._getCustomAppState();}}var a={selectionVariant:p.oldSelectionVariant,presentationVariant:p.newPresentationVariant,customData:C};if(u){if(i&&i.semanticObject&&i.action){var P=this.getCardPropertiesModel().getProperty("/staticParameters");n.params=(!!P)?P:{};this.doCrossApplicationNavigation(i,n);}}else{N.navigate(n.target.semanticObject,n.target.action,n.params,a,this.fnHandleError);}}}},doAction:function(c,a){this.actionData=A.getActionInfo(c,a,this.getEntityType());if(this.actionData.allParameters.length>0){this._loadParametersForm();}else{this._callFunction();}},getEntityNavigationEntries:function(c,a){var n=[];var e=this.getEntityType();var C=this.getCardPropertiesModel();if(!e){return n;}if(!a&&!c){var k=C.getProperty("/kpiAnnotationPath");var s=C.getProperty("/template");if(k&&s==="sap.ovp.cards.charts.analytical"){a=k;var r=e[a];var d=r&&r.Detail;if(d.RecordType==="com.sap.vocabularies.UI.v1.KPIDetailType"){n.push({type:d.RecordType,semanticObject:d.SemanticObject.String,action:d.Action.String,label:""});}}}if(!a){var I=C.getProperty("/identificationAnnotationPath");var b=(I)?I.split(","):[];if(b&&b.length>1){a=b[0];}else{a=I;}}var R=e[a];if(Array.isArray(R)){R=sap.ovp.cards.AnnotationHelper.sortCollectionByImportance(R);for(var i=0;i<R.length;i++){if(R[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){n.push({type:R[i].RecordType,semanticObject:R[i].SemanticObject.String,action:R[i].Action.String,label:R[i].Label?R[i].Label.String:null});}if(R[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"&&!R[i].Url.UrlRef){var m=this.getView().getModel();var M=m.oMetaModel;var E=M.createBindingContext(e.$path);var B=sap.ui.model.odata.AnnotationHelper.format(E,R[i].Url);var o=new sap.ui.core.CustomData({key:"url",value:B});o.setModel(m);o.setBindingContext(c);var u=o.getValue();n.push({type:R[i].RecordType,url:u,value:R[i].Value.String,label:R[i].Label?R[i].Label.String:null});}}}return n;},getModel:function(){return this.getView().getModel();},getMetaModel:function(){if(this.getModel()){return this.getModel().getMetaModel();}},getCardPropertiesModel:function(){if(!this.oCardPropertiesModel||jQuery.isEmptyObject(this.oCardPropertiesModel)){this.oCardPropertiesModel=this.getView().getModel("ovpCardProperties");}return this.oCardPropertiesModel;},getEntitySet:function(){if(!this.entitySet){var e=this.getCardPropertiesModel().getProperty("/entitySet");this.entitySet=this.getMetaModel().getODataEntitySet(e);}return this.entitySet;},getEntityType:function(){if(!this.entityType){if(this.getMetaModel()&&this.getEntitySet()){this.entityType=this.getMetaModel().getODataEntityType(this.getEntitySet().entityType);}}return this.entityType;},getCardContentContainer:function(){if(!this.cardContentContainer){this.cardContentContainer=this.getView().byId("ovpCardContentContainer");}return this.cardContentContainer;},_processCustomParameters:function(c,s){var C=this.getCardPropertiesModel();if(!this.oMainComponent||!C){return;}var a=C.getProperty("/customParams");if(!a||!this.oMainComponent.onCustomParams){return;}var g=this.oMainComponent.onCustomParams(a);if(!g||!jQuery.isFunction(g)){return;}var o=jQuery.extend(true,{},c);var S=jQuery.extend(true,{},s);var b=g(o,S);if(!b||(!jQuery.isArray(b)&&!jQuery.isPlainObject(b))){return;}var I=jQuery.isPlainObject(b);if(I&&jQuery.isEmptyObject(b)){return;}var d=I&&(b.bIgnoreEmptyString||b.ignoreEmptyString);var e=I?(b.aSelectionVariant||b.selectionVariant):b;if(!jQuery.isArray(e)){return;}var i,l,f,p,v,V;l=e.length;for(i=0;i<l;i++){f=e[i];if(!f){continue;}p=f.path;v=f.value1;V=f.value2;if(!p||typeof p!=="string"||p===""){jQuery.sap.log.error("Custom Variant property path '"+p+"' should be valid string");continue;}if(!(v||v===0||(v===""&&d))){continue;}v=v.toString();V=V&&V.toString();if(v===""&&d){s.removeSelectOption(p);}delete c[p];s.addSelectOption(p,f.sign,f.operator,v,V);}if(d){this._removeEmptyStringsFromSelectionVariant(s);}return d;},_getEntityNavigationParameters:function(e){var c={};var C=this.getOwnerComponent().getComponentData();var g=C?C.globalFilter:undefined;var o=sap.ovp.cards.AnnotationHelper.getCardSelections(this.getCardPropertiesModel());var a=o.filters;var b=o.parameters;var d=this.getCardPropertiesModel();var E=this.getEntityType();a&&a.forEach(function(m){m.path=m.path.replace("/",".");switch(m.operator){case sap.ui.model.FilterOperator.NE:m.operator=sap.ui.model.FilterOperator.EQ;m.sign="E";break;case sap.ui.model.FilterOperator.Contains:m.operator="CP";var V=m.value1;m.value1="*"+V+"*";break;case sap.ui.model.FilterOperator.EndsWith:m.operator="CP";var V=m.value1;m.value1="*"+V;break;case sap.ui.model.FilterOperator.StartsWith:m.operator="CP";var V=m.value1;m.value1=V+"*";}});o.filters=a;b&&b.forEach(function(m){m.path=m.path.replace("/",".");});o.parameters=b;var f=sap.ovp.cards.AnnotationHelper.getCardSorters(this.getCardPropertiesModel());var s,G,p;if(e){var k;for(var i=0;E.property&&i<E.property.length;i++){k=E.property[i].name;var v=e[k];if(e.hasOwnProperty(k)){if(window.Array.isArray(e[k])&&e[k].length===1){c[k]=e[k][0];}else if(jQuery.type(v)!=="object"){c[k]=v;}}}}var K=d&&d.getProperty("/kpiAnnotationPath");var h=d&&d.getProperty("/template");if(K&&h==="sap.ovp.cards.charts.analytical"){var r=E[K];var D=r&&r.Detail;if(D&&D.RecordType==="com.sap.vocabularies.UI.v1.KPIDetailType"){c["kpiID"]=r.ID.String;}}var u=g&&g.getUiState({allFilters:false});var S=u?JSON.stringify(u.getSelectionVariant()):"{}";G=new sap.ui.generic.app.navigation.service.SelectionVariant(S);p=f&&new sap.ui.generic.app.navigation.service.PresentationVariant(f);s=this._buildSelectionVariant(g,o);var I=this._processCustomParameters(c,s);var j=I?sap.ui.generic.app.navigation.service.SuppressionBehavior.ignoreEmptyString:undefined;var l=d&&d.getProperty("/staticParameters");if(l){for(var k in l){if(!c.hasOwnProperty(k)){c[k]=l[k];}}}var n=sap.ovp.cards.CommonUtils.getNavigationHandler();var N=n&&n.mixAttributesAndSelectionVariant(c,s.toJSONString(),j);return{oldSelectionVariant:G?G.toJSONString():null,newSelectionVariant:N?N.toJSONString():null,newPresentationVariant:p?p.toJSONString():null};},_removeEmptyStringsFromSelectionVariant:function(s){var p=s.getParameterNames();for(var i=0;i<p.length;i++){if(s.getParameter(p[i])===""){s.removeParameter(p[i]);}}var S=s.getSelectOptionsPropertyNames();for(i=0;i<S.length;i++){var a=s.getSelectOption(S[i]);for(var j=0;j<a.length;j++){if(a[j].Low===""&&!a[j].High){a.splice(j,1);j--;}}if(a.length===0){s.removeSelectOption(S[i]);}}return s;},_buildSelectionVariant:function(g,c){var u=g&&g.getUiState({allFilters:false});var s=u?JSON.stringify(u.getSelectionVariant()):"{}";var S=new sap.ui.generic.app.navigation.service.SelectionVariant(s);var f,v,V,p;var C=c.filters;var a=c.parameters;for(var i=0;i<C.length;i++){f=C[i];if(f.path&&f.operator&&typeof f.value1!=="undefined"){v=f.value1.toString();V=(typeof f.value2!=="undefined")?f.value2.toString():undefined;S.addSelectOption(f.path,f.sign,f.operator,v,V);}}var n,N,b;for(var j=0;j<a.length;j++){p=a[j];if(!p.path||!p.value){continue;}n=p.path.split("/").pop();n=n.split(".").pop();if(n.indexOf("P_")===0){N=n;b=n.substr(2);}else{N="P_"+n;b=n;}if(S.getParameter(N)){continue;}if(S.getParameter(b)){continue;}S.addParameter(n,p.value);}return S;},_loadParametersForm:function(){var p=new sap.ui.model.json.JSONModel();p.setData(this.actionData.parameterData);var t=this;var P=new sap.m.Dialog('ovpCardActionDialog',{title:this.actionData.sFunctionLabel,afterClose:function(){P.destroy();}}).addStyleClass("sapUiNoContentPadding");var a=new sap.m.Button({text:this.actionData.sFunctionLabel,press:function(e){var m=A.getParameters(e.getSource().getModel(),t.actionData.oFunctionImport);P.close();t._callFunction(m,t.actionData.sFunctionLabel);}});var c=new sap.m.Button({text:"Cancel",press:function(){P.close();}});P.setBeginButton(a);P.setEndButton(c);var o=function(e){var m=A.mandatoryParamsMissing(e.getSource().getModel(),t.actionData.oFunctionImport);a.setEnabled(!m);};var f=A.buildParametersForm(this.actionData,o);P.addContent(f);P.setModel(p);P.open();},_callFunction:function(u,a){var p={batchGroupId:"Changes",changeSetId:"Changes",urlParameters:u,forceSubmit:true,context:this.actionData.oContext,functionImport:this.actionData.oFunctionImport};var t=this;var P=new Promise(function(r,b){var m=t.actionData.oContext.getModel();var f;f="/"+p.functionImport.name;m.callFunction(f,{method:p.functionImport.httpMethod,urlParameters:p.urlParameters,batchGroupId:p.batchGroupId,changeSetId:p.changeSetId,headers:p.headers,success:function(d,R){r(R);},error:function(R){R.actionText=a;b(R);}});});P.then(function(r){return sap.m.MessageToast.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Success"),{duration:1000});},function(e){var b=sap.ovp.cards.CommonUtils.showODataErrorMessages(e);if(b===""&&e.actionText){b=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Error")+' "'+e.actionText+'"'+".";}return sap.m.MessageBox.error(b,{title:sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("OVP_GENERIC_ERROR_TITLE"),onClose:null,styleClass:"",initialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit});});},setErrorState:function(){var c=this.getOwnerComponent();if(!c||!c.oContainer){return;}var C=c.oContainer;var o=this.getCardPropertiesModel();var a={name:"sap.ovp.cards.loading",componentData:{model:this.getView().getModel(),settings:{category:o.getProperty("/category"),title:o.getProperty("/title"),description:o.getProperty("/description"),entitySet:o.getProperty("/entitySet"),state:sap.ovp.cards.loading.State.ERROR,template:o.getProperty("/template")}}};var l=sap.ui.component(a);C.setComponent(l);setTimeout(function(){c.destroy();},0);},changeSelection:function(s,a,c){if(!a){var d=this.getView().byId("ovp_card_dropdown");s=parseInt(d.getSelectedKey(),10);}var t={};if(!a){t=this.getCardPropertiesModel().getProperty("/tabs")[s-1];}else{t=c.tabs[s-1];}var u={cardId:this.getOwnerComponent().getComponentData().cardId,selectedKey:s};for(var p in t){u[p]=t[p];}if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.OVPCardAsAPIUtils.recreateCard(u,this.getOwnerComponent().getComponentData());}else{this.getOwnerComponent().getComponentData().mainComponent.recreateCard(u);}},getItemHeight:function(g,c,f){if(!!g){var a=g.getView().byId(c);var h=0;if(!!a){if(f){if(a.getItems()[0]&&a.getItems()[0].getDomRef()){h=jQuery(a.getItems()[0].getDomRef()).outerHeight(true);}}else{if(a.getDomRef()){h=jQuery(a.getDomRef()).outerHeight(true);}}}return h;}},getHeaderHeight:function(){var h=this.getItemHeight(this,'ovpCardHeader');var c=this.getOwnerComponent()?this.getOwnerComponent().getComponentData():null;if(c){var C=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(c.cardId);return h===0?C.dashboardLayout.headerHeight:h;}else{return h;}}});})();
},
	"sap/ovp/cards/image/Image.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.ovp.cards.image.Image",{onInit:function(){},onImagePress:function(e){this.doNavigation(e.getSource().getBindingContext());}});})();
},
	"sap/ovp/cards/linklist/LinkList.controller.js":function(){(function(){"use strict";var C=27,a=8,L=8,b=8,O="ovpLinkList",P="pictureCarousel",c="ovpCardHeader",A="sapMCrslActive";var d={onBeforeRendering:function(e){this.itemOnBeforeRendering(e);}};var D={onAfterRendering:function(e){this.itemOnAfterRendering(e);}};sap.ui.controller("sap.ovp.cards.linklist.LinkList",{onInit:function(){this._bInitialLoad=true;this._bListenerAttached=false;this._bListeningPopOver=false;},onBeforeRendering:function(e){var o=this.getCardPropertiesModel();if(o.getProperty("/listFlavor")==="standard"&&!o.getProperty("/staticContent")){var l=this.byId("ovpCLI");if(l){l.addEventDelegate(d,this);}}},onAfterRendering:function(e){this.attachingListenerToTheEventRefresh();var o=this.getCardPropertiesModel();var r=o.getProperty("/cardLayout/rowSpan");var i=o.getProperty("/cardLayout/colSpan");switch(o.getProperty("/listFlavor")){case"standard":if(o.getProperty("/staticContent")){if(i&&r){if(!this._bInitialLoad&&this._aLinkListIds){this._mergeAllTheDataInOneList();}if(r===1){this._aLinkListIds=[O];this._setListColumnWidthInStandardCard(1);}else{this._itemOnEventBuildStandard(o,i,r,true);}}else{this._aLinkListIds=[O];this._setListColumnWidthInStandardCard(1);}}break;case"carousel":var f=this.byId(P);if(f.getId().indexOf('.')!==-1){var $=f.$();$.off('beforeSlide');$.on('beforeSlide',this.onBeforeSlide);$.trigger('beforeSlide',[1,1]);}if(o.getProperty("/staticContent")){if(r&&!(!o.getProperty("/defaultSpan")&&o.getProperty("/cardLayout/autoSpan"))){this._setListHeightInCarouselCard(r);}else{this._setListHeightInCarouselCard(-1);}this._setCarouselImageProperties();}else{f.addEventDelegate(D,this);}break;}if(!sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)&&o.getProperty('/layoutDetail')==='resizable'){var g=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);var s=this.oDashboardLayoutUtil.getCardDomId(this.cardId);var h=document.getElementById(s);g.dashboardLayout.showOnlyHeader?h.classList.add("sapOvpMinHeightContainer"):h.classList.remove("sapOvpMinHeightContainer");}},onBeforeSlide:function(e,p,n){if(e.target!=this){return;}var s=this.id+'-pageIndicator',o=document.getElementById(s);var E=o.querySelector('[data-slide=\''+p+'\']');E.classList.remove(A);E=o.querySelector('[data-slide=\''+n+'\']');E.classList.add(A);},getCardItemsBinding:function(){var l=this.getView().byId("ovpLinkList");var e=this.getView().byId("pictureCarousel");if(l){return l.getBinding("items");}else if(e){return e.getBinding("pages");}else{return null;}},attachingListenerToTheEventRefresh:function(){var I=this.getCardItemsBinding();var o=this.getCardPropertiesModel();if(I){if(!this._bListenerAttached){I.attachRefresh(function(){if(this._aLinkListIds){for(var i=1;i<this._aLinkListIds.length;i++){var l=this.byId(this._aLinkListIds[i]);var e=l.getItems().length;l.getItems().splice(0,e);l.destroy();}this._aLinkListIds.splice(0,this._aLinkListIds.length);}if(this._oListRest){this._oListRest.destroy();}}.bind(this));I.attachChange(function(){this.settingHeightAndWidthOfLinkListCardsOnManageCardAndFilter();if(o.getProperty("/listFlavor")==="carousel"){var e=this.byId(P);e.addEventDelegate(D,this);}if(o.getProperty("/listFlavor")==="standard"){var t=I.getLength();if(t===0){var f=this.byId(O).$().parent();f.width("100%");}}}.bind(this));}else if(this._aLinkListIds){this.settingHeightAndWidthOfLinkListCardsOnManageCardAndFilter();}this._bListenerAttached=true;}},settingHeightAndWidthOfLinkListCardsOnManageCardAndFilter:function(){if(this._aLinkListIds){var o=this.getCardPropertiesModel();var r=o.getProperty("/cardLayout/rowSpan");var i=o.getProperty("/cardLayout/colSpan");if(r){this._setListHeightInStandardCard(r);}if(i){this._setListColumnWidthInStandardCard(this._iVisibleColums);}else{this._setListColumnWidthInStandardCard(1);}}},itemOnBeforeRendering:function(e){var r,o=this.getCardPropertiesModel();switch(o.getProperty("/listFlavor")){case"standard":if(!o.getProperty("/defaultSpan")&&!o.getProperty("/staticContent")&&o.getProperty("/cardLayout/autoSpan")){r=o.getProperty("/cardLayout/noOfItems");}else{r=o.getProperty("/cardLayout/rowSpan");}var i=o.getProperty("/cardLayout/colSpan");var l=this.byId(O);var f=l.getItems();for(var j=0;j<f.length;j++){f[j].removeEventDelegate(d);}if(this._bInitialLoad){this._itemOnEventBuildStandard(o,i,r,true);}else{this._itemOnEventBuildStandard(o,i,r,false);}break;case"carousel":jQuery.sap.log.info("FYI: currently nothing special to handle here");break;}},getSpansWhenNoDefaultSpanMentioned:function(){var o=this.getCardPropertiesModel();var s=o.getProperty('/staticContent');var n=((s&&s.length)||(this.getCardItemsBinding()&&this.getCardItemsBinding().getLength()))||0;var l=s?this.getItemHeight(this,O,true):o.getProperty('/cardLayout/itemHeight');var h=0;var H=this.byId(c);if(H){h=H.$().outerHeight();}var r=o.getProperty("/cardLayout/iRowHeightPx");return Math.ceil((l*Math.min(n,6)+(h+L+b))/r);},itemOnAfterRendering:function(E){var o=this.getCardPropertiesModel();var r=o.getProperty("/cardLayout/rowSpan");var i=o.getProperty("/cardLayout/colSpan");switch(o.getProperty("/listFlavor")){case"standard":try{var l=this.byId(O);var f=l.getItems(this._aLinkListIds[this._aLinkListIds.length-1]);f[f.length-1].removeEventDelegate(D);}catch(e){jQuery.sap.log.info("FYI: Unable to remove the delagted event at the last item of the last list");}if(!o.getProperty("/defaultSpan")&&o.getProperty("/cardLayout/autoSpan")){r=this.getSpansWhenNoDefaultSpanMentioned();}if(r){this._setListHeightInStandardCard(r);}if(i){this._setListColumnWidthInStandardCard(this._iVisibleColums);}else{this._setListColumnWidthInStandardCard(1);}break;case"carousel":try{var g=this.byId(P);g.removeEventDelegate(D);}catch(e){jQuery.sap.log.info("FYI: Unable to remove the delagted event on the carousel");}if(r&&!(!o.getProperty("/defaultSpan")&&o.getProperty("/cardLayout/autoSpan"))){this._setListHeightInCarouselCard(r);}else{this._setListHeightInCarouselCard(-1);}this._setCarouselImageProperties();break;}this._bInitialLoad=false;},_itemOnEventBuildStandard:function(o,e,r,I){var p;var l=this.byId(O);var f=this.getView().byId(this.getView().getId()+"--RestOfData");if(f){f.destroy();}if(I&&this._oListRest===undefined){this._oListRest=new sap.m.List(this.getView().getId()+"--RestOfData",{});}this._aLinkListIds=[O];this._iAvailableItems=l.getItems().length;var g=o.getProperty("/cardLayout/items");if(g!==undefined){this._iNoOfItemsPerColumn=g;p=g;this._iVisibleColums=1;}else{var h=o.getProperty('/staticContent')?this.getItemHeight(this,O,true):o.getProperty('/cardLayout/itemHeight');var k=this._getListHeightInStandardCard(r);this._iNoOfItemsPerColumn=Math.floor(k/h);var n=Math.ceil(this._iAvailableItems/this._iNoOfItemsPerColumn);this._iVisibleColums=Math.min(n,e);p=this._iVisibleColums*this._iNoOfItemsPerColumn;}if(p>this._iAvailableItems){p=this._iAvailableItems;}else{for(var i=p;i<this._iAvailableItems;i++){l.getItems()[i].setVisible(false);}}if(this._iVisibleColums>1){var m=this.byId("ovpListRow");var q=this._iNoOfItemsPerColumn;var s=0;for(var j=this._iNoOfItemsPerColumn;j<p;j++){if(q>=this._iNoOfItemsPerColumn){q=0;s++;var t=O+s;var N=new sap.m.List(this.getView().getId()+"--"+t,{showSeparators:l.getProperty("showSeparators")});this._aLinkListIds.push(t);if(l.hasStyleClass("_iNoOfItemsPerColumnPaddingCozy")){N.addStyleClass("sapOvpLinkListStandardPaddingCozy");}else{N.addStyleClass("sapOvpLinkListStandardPaddingCompact");}m.addItem(N);}N.addItem(l.getItems()[this._iNoOfItemsPerColumn]);q++;}if(N){var u=N.getItems();u[u.length-1].addEventDelegate(D,this);}}else{if(I){this.itemOnAfterRendering(null);}else{var v=l.getItems();v[v.length-1].addEventDelegate(D,this);}}},resizeCard:function(n){var o=this.getCardPropertiesModel();o.setProperty("/cardLayout/rowSpan",n.rowSpan);o.setProperty("/cardLayout/colSpan",n.colSpan);switch(o.getProperty("/listFlavor")){case"standard":this._resizeStandard(n,o);break;case"carousel":this._resizeCarousel(n);break;}if(this.resizeHandlerId){sap.ui.core.ResizeHandler.deregister(this.resizeHandlerId);this.resizeHandlerId=null;}var e=this.getView().byId('ovpCardContentContainer').getDomRef();if(e){if(n.showOnlyHeader){e.classList.add('sapOvpContentHidden');}else{e.classList.remove('sapOvpContentHidden');}}},_mergeAllTheDataInOneList:function(){var l=this._aLinkListIds.length;var o=this.getView().byId("ovpLinkList");var I=-1;for(var e=0;e<o.getItems().length;e++){if(!o.getItems()[e].getVisible()){I=e;break;}}for(var i=1;i<l;i++){var f=this.getView().byId(this._aLinkListIds[i]);var g=f.getItems().length;for(var j=0;j<g;j++){if(I===-1){o.addItem(f.getItems()[0]);}else{o.insertItem(f.getItems()[0],I);I++;}}f.destroy();}},_resizeStandard:function(n,o){if(this._aLinkListIds){this._mergeAllTheDataInOneList();var l=this.getView().byId("ovpLinkList");this._aLinkListIds.splice(0,this._aLinkListIds.length);var r=this._oListRest.getItems().length;try{for(var k=0;k<r;k++){l.addItem(this._oListRest.getItems()[0]);}}catch(e){jQuery.sap.log.info("Error: "+e);}for(var s=0;s<l.getItems().length;s++){l.getItems()[s].setVisible(true);}if(!l){var f=this.byId(O).$().parent();f.width("100%");var R=o.getProperty("/cardLayout/rowSpan");if(R){this._setListHeightInStandardCard(R);}}var B=l.getBindingInfo("items");var i=o.getProperty('/staticContent')?this.getItemHeight(this,O,true):o.getProperty('/cardLayout/itemHeight');var N=this._getListHeightInStandardCard(n.rowSpan);var g=Math.floor(N/i)*n.colSpan;this._bInitialLoad=false;jQuery(this.getView().$()).find(".sapOvpWrapper").css({height:N+"px"});if(B){if(g>this._iAvailableItems&&B.length<=this._iAvailableItems){B.length=g;l.bindItems(B);this._bListenerAttached=false;this.attachingListenerToTheEventRefresh();}else{this._itemOnEventBuildStandard(o,n.colSpan,n.rowSpan,false);}}else{this._itemOnEventBuildStandard(o,n.colSpan,n.rowSpan,false);}}},_resizeCarousel:function(n){this._setListHeightInCarouselCard(n.rowSpan);this._setCarouselImageProperties();},_setListHeightInCarouselCard:function(r){var i=0,o=this.byId(P);if(r!==-1){var h=0;var H=this.byId(c);if(H){h=H.$().outerHeight();}var e=this.getCardPropertiesModel();var R=e.getProperty("/cardLayout/iRowHeightPx");i=(r*R)-(h+C+a);o.$().height(i+16);}else{var f=o.$().width(),p=null,g=o.getPages(),I=0;for(var j=0;j<g.length;j++){p=g[j];if(p&&p.getItems().length>1){I=Math.max(I,p.getItems()[0].$().outerHeight());}}var n=o.$().find(".sapMCrslControlsBottom.sapMCrslControls").outerHeight();i=f+(I+n);o.$().height(i);}},_setCarouselImageProperties:function(){var o=this.byId(P),p=o.getPages(),i=o.$().height(),n=p.length>1?o.$().find(".sapMCrslControlsBottom.sapMCrslControls").outerHeight():0,e=null,I=null,t=0,E,f;for(var g=0;g<p.length;g++){e=p[g];if(e){E=e.getAggregation('items')&&e.getItems()[0];if(E){t=E.hasStyleClass('sapOvpCarouselContentHeader')?E.$().outerHeight():0;f=e.getItems()[e.getItems().length-1];I=f.getAggregation('items')&&f.getItems()[0];if(I instanceof sap.m.Image){this._setCarouselImageHeight(I,i-t-n);}}}}},_setCarouselImageHeight:function(i,e){var f=i.getDomRef().naturalHeight;if(f!==0){f<e?i.setHeight(f+'px'):i.setHeight(e+'px');}},_setListHeightInStandardCard:function(r){var n=0;var l;var o;l=this.byId(O);if(l){n=this._getListHeightInStandardCard(r);o=l.$().parent();o.height(n);}if(this._aLinkListIds){for(var i=1;i<this._aLinkListIds.length;i++){l=this.byId(this._aLinkListIds[i]);n=this._getListHeightInStandardCard(r);o=l.$().parent();o.height(n);}}},_getListHeightInStandardCard:function(r){var l=0;var o=this.getCardPropertiesModel();if(r){var h=0;var H=this.byId(c);if(H){h=H.$().outerHeight();}var R=o.getProperty("/cardLayout/iRowHeightPx");l=(r*R)-(h+L+b);}return l;},_setListColumnWidthInStandardCard:function(i){var l;var o;var s="100%";if(this._aLinkListIds){if(this._aLinkListIds.length>1){for(var j=0;j<this._aLinkListIds.length;j++){l=this.byId(this._aLinkListIds[j]);o=l.$().parent();s=(100/i)+"%";o.width(s);}}else{l=this.byId(this._aLinkListIds[0]);if(l){o=l.$().parent();o.width(s);}}}},onLinkListItemPressLocalData:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var t=e.getSource().data("targetUri");var i=e.getSource().data("openInNewWindow");var B=this.getView().getModel("ovpCardProperties").getProperty("/baseUrl");if(t){t=this.buildUrl(B,t);if(i==="true"){window.open(t);}else{window.location.href=t;}}}},onLinkListActionPressLocalData:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var s=e.getSource().data("dataAction");this.getView().getModel().callFunction(s,{method:"POST",urlParameters:{FunctionImport:s},success:(this.onFuImpSuccess.bind(this)),error:(this.onFuImpFailed.bind(this))});}},onFuImpSuccess:function(e){sap.m.MessageToast.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Success"),{duration:3000});},onFuImpFailed:function(r){sap.m.MessageToast.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Error"),{duration:3000});},onLinkListItemPress:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);}},onLinkPopover:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var p;switch(this.getCardPropertiesModel().getProperty("/listFlavor")){case"standard":p=e.getSource().getParent().getAggregation("items")[0];break;case"carousel":p=e.getSource().getParent().getAggregation("items")[0];break;}var o=this.getCardPropertiesModel();if(o.getProperty("/listFlavor")==="carousel"){var f=this.byId(P);f.addEventDelegate(D,this);}p.bindElement(e.getSource().getBindingContext().getPath());p.openBy(e.getSource());if(!this._bListeningPopOver){p.attachAfterOpen(function(){this.settingHeightAndWidthOfLinkListCardsOnManageCardAndFilter();}.bind(this));}this._bListeningPopOver=true;}},onLinkListLineItemUrl:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var t,s="com.sap.vocabularies.UI.v1.LineItem",n=this.entityType[s][0].Url;if(n.hasOwnProperty("String")){t=n.String;}else{var N=this.getEntityNavigationEntries(e.getSource().getBindingContext(),s)[0];t=N.url;}if(t){window.location.href=t;}else{jQuery.sap.log.info("LinkList Standard Card: No Navigation on line item");}}},onLinkNavigationSingleTarget:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),undefined);this.doNavigation(e.getSource().getBindingContext(),n[0]);}},onLinkNavigation:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{if(sap.ushell.Container.getService("CrossApplicationNavigation")){var B=e.getSource().getBindingContext();if(B.getProperty("SemanticObject")){var n={target:{semanticObject:B.getProperty("SemanticObject"),action:B.getProperty("SemanticAction")}};sap.ushell.Container.getService("CrossApplicationNavigation").toExternal(n);}}}},buildUrl:function(B,m){if(m.lastIndexOf(B,0)===0||m.indexOf("://")>0){return m;}else if(m.lastIndexOf("/",0)===0){return B+m;}else{return B+"/"+m;}},onLinkListActionPress:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var s=e.getSource().data("dataAction");this.getView().getModel().callFunction(s,{method:"POST",urlParameters:{FunctionImport:s},success:(this.onFuImpSuccess.bind(this)),error:(this.onFuImpFailed.bind(this))});}},onLinkListSemanticObjectPressLocalData:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var r=parseInt(e.getSource().data("contentRowIndex"),10);this._oStaticContent=this.getCardPropertiesModel().getProperty("/staticContent");if(this._oStaticContent[r].semanticObject&&this._oStaticContent[r].action){var n={target:{semanticObject:this._oStaticContent[r].semanticObject,action:this._oStaticContent[r].action},params:this._oStaticContent[r].params};var i=this._oStaticContent[r];this.doCrossApplicationNavigation(i,n);}else{sap.m.MessageToast.show(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Toast_Action_Error"),{duration:3000});}}}});})();
},
	"sap/ovp/cards/list/List.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.ovp.cards.list.List",{counter:0,arrayLength:0,minMaxModel:{},onInit:function(){this.counter=0;this.minMaxModel=new sap.ui.model.json.JSONModel();this.minMaxModel.setData({minValue:0,maxValue:0});this.getView().setModel(this.minMaxModel,"minMaxModel");},onContactDetailsLinkPress:function(e){var p,s,b;s=e.getSource();p=s.getParent().getAggregation("items")[0];b=s.getBindingContext();if(!b){return;}p.bindElement(b.getPath());p.openBy(s);},onAfterRendering:function(){var i=this.getCardPropertiesModel().getProperty("/imageSupported");var d=this.getCardPropertiesModel().getProperty("/densityStyle");if(i){var a=this.byId('ovpList');a.attachUpdateFinished(function(){var l=this.byId('ovpList');var b=l.getItems();var f=false;var g=l.getDomRef().getAttribute("class");if(d==="cozy"){g=g+" sapOvpListImageCozy";}else{g=g+" sapOvpListImageCompact";}l.getDomRef().setAttribute("class",g);b.forEach(function(j){if(j.getIcon().indexOf("icon")!=-1){f=true;}});b.forEach(function(j){var k=j.getDomRef();var m;if(k&&k.children[0]&&k.children[0].children[0]){m=k.children[0].children[0];}var n=j.getDescription();var o=j.getIcon();var t=f;var p=j.getTitle();var q=p.split(' ').map(function(u){return u?u[0].toUpperCase():"";}).join('').substring(0,2);if(o!=""&&o.indexOf("icon")==-1){f=false;}if(f&&k.children[0]){jQuery(k.children[0]).addClass("sapOvpIconListItem");}else if(k.children[0]){jQuery(k.children[0]).addClass("sapOvpImageListItem");}if(m&&d==="cozy"&&f===false){if(m){var g=m.getAttribute("class");g=g+" sapOvpImageCozy";m.setAttribute("class",g);}}var r="";if(f===true&&n===""){r=d==="compact"?"sapOvpListWithIconNoDescCompact":"sapOvpListWithIconNoDescCozy";}else if(f===false&&n===""){r=d==="compact"?"sapOvpListWithImageNoDescCompact":"sapOvpListWithImageNoDescCozy";}else{r=d==="compact"?"sapOvpListWithImageIconCompact":"sapOvpListWithImageIconCozy";}j.addStyleClass(r);if(k&&k.children[0]&&o===""&&k.children[0].id!=="ovpIconImagePlaceHolder"){var s=document.createElement('div');s.innerHTML=q;s.setAttribute("id","ovpIconImagePlaceHolder");s.className=f===true?"sapOvpIconPlaceHolder":"sapOvpImagePlaceHolder";if(f===false&&d==="cozy"){s.className=s.className+" sapOvpImageCozy";}k.insertBefore(s,k.children[0]);}f=t;});}.bind(this));}if(!sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)&&this.getCardPropertiesModel().getProperty("/layoutDetail")==="resizable"){var c=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(this.cardId);var h=this.getHeaderHeight();var C=this.oDashboardLayoutUtil.getCardDomId(this.cardId);var e=document.getElementById(C);if(!c.dashboardLayout.autoSpan){e.getElementsByClassName('sapOvpWrapper')[0].style.height=(c.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX)-(h+2*this.oDashboardLayoutUtil.CARD_BORDER_PX)+"px";}if(c.dashboardLayout.showOnlyHeader){e.classList.add("sapOvpMinHeightContainer");}}},onListItemPress:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);}},_getMinMaxObjectFromContext:function(n){this.counter++;var e=this.getEntityType(),a=this.getCardPropertiesModel().getProperty("/annotationPath"),r=e[a],c=this.getMetaModel().createBindingContext(e.$path+"/"+a),m={minValue:0,maxValue:0};if(sap.ovp.cards.AnnotationHelper.isFirstDataPointPercentageUnit(c,r)){m.minValue=0;m.maxValue=100;return m;}var d=sap.ovp.cards.AnnotationHelper.getFirstDataPointValue(c,r),b=this.getView().byId("ovpList"),l=b.getBinding("items"),M=this.getModel(),f=l.getCurrentContexts();for(var i=0;n?i<n:i<f.length;i++){var o=M.getOriginalProperty(d,f[i]),g=parseFloat(o,10);if(g<m.minValue){m.minValue=g;}else if(g>m.maxValue){m.maxValue=g;}}return m;},_updateMinMaxModel:function(n){var m=this._getMinMaxObjectFromContext(n);this.minMaxModel.setData({minValue:m.minValue,maxValue:m.maxValue});this.minMaxModel.refresh();return m;},returnBarChartValue:function(v){var m=this._updateMinMaxModel();var V=parseFloat(v,10);if(V!==0){return V;}else if(m.maxValue==0&&m.minValue<-10){return-0.1;}else if(m.minValue==0&&m.maxValue>10){return 0.1;}return V;},getCardItemsBinding:function(){var l=this.getView().byId("ovpList");return l.getBinding("items");},getCardItemBindingInfo:function(){var l=this.getView().byId("ovpList");return l.getBindingInfo("items");},resizeCard:function(n,c){var N,a,h;try{var $=document.getElementById(this.oDashboardLayoutUtil.getCardDomId(this.cardId)),b=this.getCardItemBindingInfo(),H=this.getHeaderHeight(),o=this.getView().byId('ovpCardContentContainer').getDomRef();if(n.showOnlyHeader){o.classList.add('sapOvpContentHidden');N=0;}else{o.classList.remove('sapOvpContentHidden');h=H+c.dropDownHeight+2*n.iCardBorderPx;a=n.rowSpan*n.iRowHeightPx-h;N=Math.abs(Math.floor(a/c.itemHeight));$.style.height=n.rowSpan*n.iRowHeightPx+'px';}o.style.height=(n.rowSpan*n.iRowHeightPx)-(H+2*n.iCardBorderPx)+"px";if(N!==b.length){b.length=N;n.noOfItems=b.length;this._updateMinMaxModel(b.length);this.getCardItemsBinding().refresh();}}catch(e){jQuery.sap.log.warning("OVP resize: "+this.cardId+" catch "+e.toString());}}});})();
},
	"sap/ovp/cards/loading/Loading.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ovp.cards.LoadingUtils");sap.ui.controller("sap.ovp.cards.loading.Loading",{onInit:function(){},onAfterRendering:function(){var v=this.getView();v.addStyleClass("sapOvpLoadingCard");var s=this.getCardPropertiesModel().getProperty("/state");var t=this;if(sap.ovp.cards.LoadingUtils.bPageAndCardLoading){if(s!==sap.ovp.cards.loading.State.ERROR){var c=v.byId("sapOvpLoadingCanvas").getDomRef();var h="30rem";c.style.width='100%';c.style.height=h;var p=c.parentNode;p.style.width='100%';p.style.position='absolute';p.style.top='0px';var d=v.byId("ovpCardContentContainer").getDomRef();d.style.position='absolute';d.style.zIndex='-3';sap.ovp.cards.LoadingUtils.aCanvas.push(c);setTimeout(function(){},6000);setTimeout(function(){sap.ovp.cards.LoadingUtils.bAnimationStop=true;t.setErrorState();},9000);}setTimeout(function(){if(!sap.ovp.cards.LoadingUtils.bAnimationStarted){sap.ovp.cards.LoadingUtils.startAnimation();sap.ovp.cards.LoadingUtils.bAnimationStarted=true;}},0);}else{var l=v.byId("ovpLoadingFooter");if(s===sap.ovp.cards.loading.State.ERROR){l.setText(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("cannotLoadCard"));}else{setTimeout(function(){l.setBusy(true);},6000);setTimeout(function(){l.setBusy(false);l.setText(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("cannotLoadCard"));},9000);}}}});})();
},
	"sap/ovp/cards/map/Analytical/AnalyticalMap.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.ovp.cards.map.Analytical.AnalyticalMap",{onInit:function(e){var m=this.getView().byId("vbi");m.addEventDelegate({"onAfterRendering":function(){var a=this.getAllRegionCodes(m);m.zoomToRegions(a);var c=this.getCardPropertiesModel().getProperty("/colorpalette");if(c==="qualitative"){var i=m.getAggregation("regions");var b=["sapUiChartPaletteQualitativeHue1","sapUiChartPaletteQualitativeHue2","sapUiChartPaletteQualitativeHue3","sapUiChartPaletteQualitativeHue4","sapUiChartPaletteQualitativeHue5","sapUiChartPaletteQualitativeHue6","sapUiChartPaletteQualitativeHue7","sapUiChartPaletteQualitativeHue8","sapUiChartPaletteQualitativeHue9","sapUiChartPaletteQualitativeHue10","sapUiChartPaletteQualitativeHue11"];i.forEach(function(d,f){var g=sap.ui.core.theming.Parameters.get(b[f%b.length]);d.setColor(g);});}}},this);},getAllRegionCodes:function(m){var r=[];m.getAggregation("regions").forEach(function(i){var c=i.mProperties.code;r.push(c);});return r;},regionClick:function(e){var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);},onAfterRendering:function(){},onBeforeRendering:function(){}});})();
},
	"sap/ovp/cards/map/GeographicalMap.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.ovp.cards.map.GeographicalMap",{onInit:function(e){var s=this.getView().mPreprocessors.xml[0].ovpCardProperties.oData.state;if(s!=="Loading"&&s!=="Error"){var h=this.getView().byId("popoverHeader");h.attachBrowserEvent("click",this.onPopoverHeaderPress.bind(this,h));h.addEventDelegate({onkeydown:function(E){if(!E.shiftKey&&(E.keyCode==13||E.keyCode==32)){E.preventDefault();this.onPopoverHeaderPress(h);}}.bind(this)});}},resizeCard:function(n){var v=this.getView().byId("oVBI");var c=this.getCardPropertiesModel();c.setProperty("/cardLayout/rowSpan",n.rowSpan);c.setProperty("/cardLayout/colSpan",n.colSpan);var g=this.getView().getController();var h=this.getItemHeight(g,'ovpCardHeader');var m=n.rowSpan*n.iRowHeightPx-(h+2*n.iCardBorderPx);v.setHeight(m+"px");v.setWidth("100%");var o=this.getView().byId('ovpCardContentContainer').getDomRef();if(o){if(!n.showOnlyHeader){o.classList.remove('sapOvpContentHidden');}else{o.classList.add('sapOvpContentHidden');}}},onPopoverHeaderPress:function(h){var n=this.getEntityNavigationEntries(h.getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(h.getBindingContext(),n[0]);},getAllSpotsCoordinates:function(m){var s={lonValues:[],latValues:[]};m.getAggregation("vos")[0].getItems().forEach(function(i){var c=i.getPosition().split(";");s.lonValues.push(parseFloat(c[0]));s.latValues.push(parseFloat(c[1]));});return s;},onClickSpot:function(e){var s=e.getSource();var c={};c[e.getParameter("data").Action.Params.Param[0].name]=e.getParameter("data").Action.Params.Param[0]["#"];c[e.getParameter("data").Action.Params.Param[1].name]=e.getParameter("data").Action.Params.Param[1]["#"];var v=this.getView().byId("oVBI");if(!this.oQuickViewPopover){this.oQuickViewPopover=this.getView().byId("quickViewPopover");}else if(this.oQuickViewPopover.isOpen()){this.oQuickViewPopover.close();}if(!this.oPopoverAnchor){this.oPopoverAnchor=document.createElement("div");this.oPopoverAnchor.style.position="absolute";this.oPopoverAnchor.style.display="inline-block";this.oPopoverAnchor.style.width="0px";this.oPopoverAnchor.style.height="0px";}this.oPopoverAnchor.style.top=Math.floor(parseFloat(c.y))+"px";this.oPopoverAnchor.style.left=Math.floor(parseFloat(c.x))+"px";v.getParent().getDomRef().appendChild(this.oPopoverAnchor);this.oQuickViewPopover.openBy(this.oPopoverAnchor);this.oQuickViewPopover.setBindingContext(s.getBindingContext());},onAfterOpen:function(){var f=['.quickViewResponsivePopover','.mapPopoverHeader','.sapMQuickViewPage','.sapOvpActionFooter'];var p=this.getView().byId("quickViewPopover");var a=p.$();a[0].focus();var b=0;var A=a.find('.sapOvpActionFooter').children();for(var i=0;i<A.length;i++){if(jQuery(A[i]).hasClass('sapMTBSpacer')){continue;}var c="#"+A[i].id;f.push(c);}p.attachBrowserEvent("keydown",function(e){var E=e.target.closest('.quickViewResponsivePopover');if(e.keyCode==9){if(e.shiftKey){b--;b=b==-1?f.length-1:b;}else{b++;b=b>=f.length?0:b;}var j=E.querySelector(f[b]);if(b===0){j=E;}j.setAttribute("tabindex",0);j.focus();e.preventDefault();}});},onBeforeRendering:function(){var m=this.getView().byId("oVBI");m.getAggregation("vos")[0].getBinding("items").attachChange(function(i){var s,a=this.getAllSpotsCoordinates(m),b=a.lonValues.length;if(this&&this.getView()&&this.getView().getDomRef()&&this.getView().getDomRef().getElementsByClassName("noDataSubtitle")){s=this.getView().getDomRef().getElementsByClassName("noDataSubtitle");}if(b>0){m.zoomToGeoPosition(a.lonValues,a.latValues,b===1?5:undefined);if(s&&s.length>0){s[0].style.display="none";}}else{if(s&&s.length>0){s[0].style.display="flex";}}}.bind(this));var M=this.getOwnerComponent().getComponentData().settings.oMapConfig;m.setMapConfiguration(M);},onGeoCardResize:function(e){var a=this.getAllSpotsCoordinates(e.control),s=a.lonValues.length;if(s>0){e.control.zoomToGeoPosition(a.lonValues,a.latValues,s===1?5:undefined);}},onAfterRendering:function(){this._resizeListenerId=sap.ui.core.ResizeHandler.register(this.getView().byId("oVBI"),this.onGeoCardResize.bind(this));},exit:function(){if(this._resizeListenerId){sap.ui.core.ResizeHandler.deregister(this.resizeHandlerId);}}});})();
},
	"sap/ovp/cards/quickview/Quickview.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ovp.cards.AnnotationHelper");sap.ui.controller("sap.ovp.cards.quickview.Quickview",{onInit:function(){this.bCustomActionFlag=true;},onBeforeRendering:function(){var h=this.byId('ovpQuickviewCardHeader');if(h){var t=h.getText();var s=t.substring(0);if(t[0]===':'){s=t.substring(2);}else if(t[t.length-2]===':'){s=t.substring(0,t.length-2);}h.setText(s);var c=h.getCustomData();if(c){for(var i=0;i<c.length;++i){if(c[i].getProperty('key')==='aria-label'){c[i].setValue(s);}}}}},onAfterRendering:function(){jQuery(".sapMQuickViewPage").attr('tabindex','0');var c=this.getCardPropertiesModel();var s=c.getProperty("/showFirstActionInFooter")?c.getProperty("/showFirstActionInFooter"):false;var f=this.byId("ovpActionFooter");if(!s){if(f){var F=f.getContent();if(F&&F.length){for(var i=0;i<F.length;i++){if(F[i]instanceof sap.m.Button){F[i].setVisible(false);break;}}}}}if(!!this.bCustomActionFlag){var C=c.getProperty("/customActions");if(!!f&&!!C&&!!C.length){for(var j=0;j<C.length;j++){var t=C[j].text;var m=null;if(this.getOwnerComponent()&&this.getOwnerComponent().getComponentData()){m=this.getOwnerComponent().getComponentData().mainComponent;}if(!!m&&!!t&&!!C[j].press){var p=m.onCustomActionPress(C[j].press);if(typeof p==="function"){var b=new sap.m.Button({text:t,press:p.bind(this),type:"Transparent"});var a=c.getProperty("/showFirstActionInFooter");var S=(a)?0:1;var P=C[j].position+S;var l=f.getContent().length;if(P<(1+S)&&P>(l-1)){f.addContent(b);}else{f.insertContent(b,P);}}}}}this.bCustomActionFlag=false;}}});})();
},
	"sap/ovp/cards/stack/Stack.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ovp.ui.ObjectStream");jQuery.sap.require("sap.ovp.cards.AnnotationHelper");sap.ui.controller("sap.ovp.cards.stack.Stack",{onInit:function(){var v=this._oCard=this.getView().byId("stackContent");v.addEventDelegate({onclick:this.openStack.bind(this),onkeydown:function(e){if(!e.shiftKey&&(e.keyCode==13||e.keyCode==32)){e.preventDefault();this.openStack();}}.bind(this)});if(sap.ui.Device.system.phone){this.bAfterColumnUpdateAttached=false;this.bDeviceOrientationAttached=false;}this._createObjectStream();},onExit:function(){if(this.oObjectStream){this.oObjectStream.destroy();}},addPlaceHolder:function(n){var v=this.getView();var c=v.getModel("ovpCardProperties");var o=c.getProperty("/objectStreamCardsNavigationProperty");var s=o?true:false;if(!s){var N=this.getEntityNavigationEntries();if(N.length>0){var a=N[0].label;if(this.sPlaceHolderText==undefined){this.sPlaceHolderText=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("PlaceHolder_default");}var p=this._createPlaceHolder(n,this.sPlaceHolderText,a);var t=this;p.addEventDelegate({onclick:function(){t.doNavigation(null);}});this.oObjectStream.setPlaceHolder(p);}}},onAfterRendering:function(){if(sap.ui.Device.system.phone){this._cardWidth=this.getView().$().width();if(!this.bAfterColumnUpdateAttached){var c=this.getOwnerComponent().getComponentData();if(c&&c.mainComponent){var m=c.mainComponent,l=m.byId("ovpLayout");l.attachAfterColumnUpdate(function(e){this._setObjectStreamCardsSize(false);}.bind(this));this.bAfterColumnUpdateAttached=true;}}if(!this.bDeviceOrientationAttached){sap.ui.Device.orientation.attachHandler(function(e){this._setObjectStreamCardsSize(true);}.bind(this));}}if(this.bSetErrorState&&this.bSetErrorState===true){this.setErrorState();return;}var v=this.getView();if(this.oObjectStream){var L=this.oObjectStream.getBinding("content");L.attachDataRequested(function(){if(this.getView().byId('stackSize')!==undefined&&this.getView().byId('stackTotalSize')!==undefined){jQuery(this.getView().byId('stackSize').getDomRef()).css('visibility','hidden');jQuery(this.getView().byId('stackTotalSize').getDomRef()).css('visibility','hidden');}},this);L.attachDataReceived(function(){var a=this.getView().getModel("ovpCardProperties").getObject("/category"),n=L.getCurrentContexts().length,b=L.getLength();v.byId("stackSize").setText(n);v.byId("stackTotalSize").setText(sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("Total_Size_Stack_Card",[b]));var s=this.getView().byId("stackContent").getDomRef();jQuery(s).attr("aria-label",sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("stackCardContent",[n,b,a]));var d=this.getView().byId("stackSize").getDomRef();jQuery(d).attr("aria-label",sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("stackCard",[n]));this.addPlaceHolder(b);if(this.getView().byId('stackSize')!==undefined&&this.getView().byId('stackTotalSize')!==undefined){jQuery(this.getView().byId('stackSize').getDomRef()).css('visibility','visible');jQuery(this.getView().byId('stackTotalSize').getDomRef()).css('visibility','visible');}var C=this.getView().getDomRef();var e=jQuery(C).find('.sapOvpCardContentContainer');if(b!==0){if(e.length!==0){e.addClass('sapOvpCardNavigable');}}else{if(e.length!==0){var f=e.find("[role='button']");if(f.length!==0){f.removeAttr("role");}}}},this);this.addPlaceHolder("");if(L.bPendingRequest===false){L.fireDataReceived();}if(this.checkNavigation()){this.oObjectStream.getTitle().addStyleClass('sapOvpCardNavigable');}}},_setObjectStreamCardsSize:function(i){var c=this.getView().$().width();if(this._cardWidth!=c||i){this.oObjectStream.setCardsSize(c);this._cardWidth=c;}},_createObjectStream:function(){if(this.oObjectStream instanceof sap.ovp.ui.ObjectStream){return;}var o=this.getOwnerComponent();var c=o.getComponentData&&o.getComponentData();var p;var P;if(c.i18n){var a=c.i18n;}if(c&&c.mainComponent){p=c.mainComponent._getOvplibResourceBundle();}else{p=o.getOvplibResourceBundle();}P=o.getPreprocessors(p);var m=c.model;var C=P.xml.ovpCardProperties;var e=C.getProperty("/entitySet");var O=C.getProperty("/objectStreamCardsSettings");var M=m.getMetaModel();var E=M.getODataEntitySet(e);var b=M.getODataEntityType(E.entityType);var A=C.getProperty("/annotationPath");var d=(A)?A.split(","):[];var f,g,G;if(c){f=c.appComponent;g=c.mainComponent;}if(g){G=g.getView().byId("ovpGlobalFilter");}function h(K){if(K==="ovpCardProperties"){return C;}else if(K==="dataModel"){return m;}else if(K==="_ovpCache"){return{};}}var F=[{getSetting:h,bDummyContext:true},E].concat(d);var B=sap.ovp.cards.AnnotationHelper.formatItems.apply(this,F);var i=sap.ui.base.BindingParser.complexParser(B);var s=C.getProperty("/objectStreamCardsNavigationProperty");var S=s?true:false;var j;var k=C.getProperty("/objectStreamCardsTemplate");if(S){if(k==="sap.ovp.cards.quickview"){jQuery.sap.log.error("objectStreamCardsTemplate cannot be 'sap.ovp.cards.quickview' when objectStreamCardsNavigationProperty is provided");this.bSetErrorState=true;return;}j=this._determineFilterPropertyId(m,E,b,s);O.entitySet=m.getMetaModel().getODataAssociationSetEnd(b,s).entitySet;}else{if(k!=="sap.ovp.cards.quickview"){jQuery.sap.log.error("objectStreamCardsTemplate must be 'sap.ovp.cards.quickview' when objectStreamCardsNavigationProperty is not provided");this.bSetErrorState=true;return;}var I=null;var l=C.getProperty("/identificationAnnotationPath");var n=(l)?l.split(","):[];if(n&&n.length>1){I=n[1];}if(I){O.identificationAnnotationPath=I;}if(b["com.sap.vocabularies.UI.v1.HeaderInfo"]&&b["com.sap.vocabularies.UI.v1.HeaderInfo"].TypeName&&b["com.sap.vocabularies.UI.v1.HeaderInfo"].TypeName.String){O.title=b["com.sap.vocabularies.UI.v1.HeaderInfo"].TypeName.String;}else{O.title=b.name;}O.entitySet=e;}O.isObjectStream=true;i.factory=function(t,u){var v=O,w;if(S){w={filters:[{path:j.foreignKey,operator:"EQ",value1:u.getProperty(j.key)}]};v=jQuery.extend(w,O);}var x=new sap.ui.core.ComponentContainer();var y={name:C.getProperty("/objectStreamCardsTemplate"),async:true,componentData:{cardId:t,model:m,settings:v,appComponent:f,mainComponent:g}};if(G){y.componentData.globalFilter={getUiState:G.getUiState.bind(G)};}sap.ui.component(y).then(function(z){z.setBindingContext(u);if(a){z.setModel(a,"@i18n");}x.setComponent(z);x.setBindingContext=function(u){z.setBindingContext(u);};});return x;};var q=C.getObject("/title");this.sPlaceHolderText=C.getObject("/itemText");var r=new sap.m.Link({text:q,subtle:true,press:this.handleObjectStreamTitlePressed.bind(this)}).addStyleClass("sapOvpObjectStreamHeader");r.addCustomData(new sap.ovp.ui.CustomData({key:"tabindex",value:"0",writeToDom:true}));r.addCustomData(new sap.ovp.ui.CustomData({key:"aria-label",value:q,writeToDom:true}));this.oObjectStream=new sap.ovp.ui.ObjectStream(this.getView().getId()+"_ObjectStream",{title:r,content:i});this.oObjectStream.setModel(m);},_determineFilterPropertyId:function(m,e,E,n){var N,a=E.namespace,r,A;for(var i=0;i<E.navigationProperty.length;i++){if(E.navigationProperty[i].name===n){N=E.navigationProperty[i];break;}}r=N.relationship;A=sap.ovp.cards.AnnotationHelper.getAssociationObject(m,r,a);var R=A.referentialConstraint,f={};if(R){f.foreignKey=R.dependent.propertyRef[0].name;f.key=R.principal.propertyRef[0].name;return f;}},_createPlaceHolder:function(n,p,a){var i=new sap.ui.core.Icon({src:"sap-icon://display-more",useIconTooltip:false,layoutData:new sap.m.FlexItemData({alignSelf:sap.m.FlexAlignSelf.Center,styleClass:"sapOvpStackPlaceHolderIconContainer"})});i.addStyleClass("sapOvpStackPlaceHolderIcon");var c=n+" "+p;var s=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("SeeMoreContentAppName",[c,a]);var t=new sap.m.Text({text:s,textAlign:"Center",layoutData:new sap.m.FlexItemData({alignSelf:sap.m.FlexAlignSelf.Center,maxWidth:"14rem"})});t.addCustomData(new sap.ovp.ui.CustomData({key:"role",value:"heading",writeToDom:true}));t.addCustomData(new sap.ovp.ui.CustomData({key:"aria-label",value:s,writeToDom:true}));t.addStyleClass("sapOvpStackPlaceHolderTextLine");var d=new sap.m.VBox({items:[t]});d.addStyleClass("sapOvpStackPlaceHolderLabelsContainer");d.addCustomData(new sap.ovp.ui.CustomData({key:"tabindex",value:"0",writeToDom:true}));d.addCustomData(new sap.ovp.ui.CustomData({key:"role",value:"button",writeToDom:true}));var v=new sap.m.VBox({items:[i,d]});v.addStyleClass("sapOvpStackPlaceHolder");v.addEventDelegate({onkeydown:function(e){if(!e.shiftKey&&(e.keyCode==13||e.keyCode==32)){e.preventDefault();e.srcControl.$().click();}}});return v;},openStack:function(){if(this.oObjectStream){var l=this.oObjectStream.getBinding("content");if(l.getCurrentContexts().length>0){var c=this.getView().$().width();this.getView().addDependent(this.oObjectStream);this.oObjectStream.setModel(this.getView().getModel("@i18n"),"@i18n");this.oObjectStream.open(c,this._oCard);}}},handleObjectStreamTitlePressed:function(e){this.doNavigation(null);}});})();
},
	"sap/ovp/cards/table/Table.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.ovp.cards.table.Table",{onInit:function(){},onColumnListItemPress:function(e){if(sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)){sap.ovp.cards.CommonUtils.onContentClicked(e);}else{var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);}},onContactDetailsLinkPress:function(e){var p,s,b;s=e.getSource();p=s.getParent().getAggregation("items")[0];b=s.getBindingContext();if(!b){return;}p.bindElement(b.getPath());p.openBy(s);},getCardItemsBinding:function(){var t=this.getView().byId("ovpTable");return t.getBinding("items");},onAfterRendering:function(){var c=this.getOwnerComponent().getComponentData();var C=this.getCardPropertiesModel();if(!sap.ovp.cards.OVPCardAsAPIUtils.checkIfAPIIsUsed(this)&&C.getProperty("/layoutDetail")==="resizable"){var o=this.oDashboardLayoutUtil.dashboardLayoutModel.getCardById(c.cardId);var h=this.getHeaderHeight();var s=this.oDashboardLayoutUtil.getCardDomId(c.cardId);var e=document.getElementById(s);if(!o.dashboardLayout.autoSpan){e.getElementsByClassName('sapOvpWrapper')[0].style.height=((o.dashboardLayout.rowSpan*this.oDashboardLayoutUtil.ROW_HEIGHT_PX)+1-(h+2*this.oDashboardLayoutUtil.CARD_BORDER_PX))+"px";}if(o.dashboardLayout.showOnlyHeader){e.classList.add("sapOvpMinHeightContainer");}this.addColumnInTable(jQuery(e),{colSpan:o.dashboardLayout.colSpan});}else{var t=this.getView().byId("ovpTable");var a=t.getAggregation("columns");for(var i=0;i<3;i++){if(a[i]){a[i].setStyleClass("sapTableColumnShow").setVisible(true);}}}},getCardItemBindingInfo:function(){var l=this.getView().byId("ovpTable");return l.getBindingInfo("items");},addColumnInTable:function($,c){if(c.colSpan>=1){if(jQuery($).find("tr").length!=0){var t=sap.ui.getCore().byId(jQuery($).find(".sapMList").attr("id"));var a=t.getAggregation("columns");var C=c.colSpan;var I=C+1;for(var i=0;i<6;i++){if(a[i]){if(i<=I){a[i].setStyleClass("sapTableColumnShow").setVisible(true);}else{a[i].setStyleClass("sapTableColumnHide").setVisible(false);}}}}}},resizeCard:function(n,c){var N,a,h,a;try{var $=document.getElementById(this.oDashboardLayoutUtil.getCardDomId(this.cardId)),b=this.getCardItemBindingInfo(),H=this.getHeaderHeight(),o=this.getView().byId('ovpCardContentContainer').getDomRef();if(n.showOnlyHeader){o.classList.add('sapOvpContentHidden');N=0;}else{o.classList.remove('sapOvpContentHidden');h=H+c.dropDownHeight+2*n.iCardBorderPx;a=(n.rowSpan*n.iRowHeightPx)-h-c.itemHeight;N=Math.abs(Math.floor(a/c.itemHeight));$.style.height=n.rowSpan*n.iRowHeightPx+'px';}o.style.height=(n.rowSpan*n.iRowHeightPx)-(H+2*n.iCardBorderPx)+"px";this.addColumnInTable(this.getView().$(),n);if(N!==b.length){b.length=N;n.noOfItems=b.length;this.getCardItemsBinding().refresh();}}catch(e){jQuery.sap.log.warning("OVP resize: "+this.cardId+" catch "+e.toString());}}});})();
},
	"sap/ovp/ui/SmartphoneHeaderToggle.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ovp.ui.SmartphoneHeaderToggle");sap.ovp.ui.SmartphoneHeaderToggle={threshold:10,headerVisible:true,startY:undefined,app:undefined,jqView:undefined,startHandler:function(e){if(this.app.getGlobalFilter()&&this.app.getGlobalFilter().hasOwnProperty("getVisible")&&this.app.getGlobalFilter().getVisible()){return;}this.startY=e.touches[0].pageY;},resizeHandler:function(){if(!this.headerVisible){this.animateHeader.call(this,this.headerVisible);}},animateHeader:function(s){var j=this.jqView.find('.ovpApplication > .sapUiFixFlexFixed > .sapMVBox');var a=this.jqView.find('.ovpApplication > .sapUiFixFlexFlexible');var b=a.children();var t;if(s){t="translateY(0px)";j.add(a).css({"transform":t,"-webkit-transform":t});a.one('transitionend',function(e){if(this.headerVisible){b.css({bottom:"0px"});}}.bind(this));}else{var h=this.getView().byId('ovpMain').getHeader();if(h){var c=h.$().height();b.css({bottom:"-"+c+"px"});t="translateY(-"+c+"px)";a.add(j).css({"transform":t,"-webkit-transform":t});}}},moveHandler:function(e){var m=e.touches[0].pageY;if(typeof this.startY==="undefined"){if(this.app.getGlobalFilter()&&this.app.getGlobalFilter().hasOwnProperty("getVisible")&&this.app.getGlobalFilter().getVisible()){return;}this.startY=m;}if(Math.abs(this.startY-m)<this.threshold){return;}if(this.startY>m&&this.headerVisible){this.headerVisible=false;this.startY=m;this.animateHeader.call(this,this.headerVisible);}if(this.startY<m&&!this.headerVisible){this.headerVisible=true;this.startY=m;this.animateHeader.call(this,this.headerVisible);}},endHandler:function(){this.startY=undefined;return;},enable:function(a){this.app=a;this.view=this.app.getView();this.jqView=this.view.$();this.jqView.on('touchstart.headerHiding',this.startHandler.bind(this));this.jqView.on('touchmove.headerHiding',this.moveHandler.bind(this));this.jqView.on('touchend.headerHiding touchcancel.headerHiding touchleave.headerHiding',this.endHandler.bind(this));jQuery(window).on("resize.headerHiding",this.resizeHandler.bind(this));},disable:function(){this.jqView.off('touchstart.headerHiding touchmove.headerHiding touchend.headerHiding touchcancel.headerHiding touchleave.headerHiding');jQuery(window).off("resize.headerHiding");}};}());
},
	"sap/ovp/ui/UIActions.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ovp.ui.UIActions");
sap.ovp.ui.UIActions=function(c){if(!c||!c.rootSelector||!c.containerSelector||!c.draggableSelector){throw new Error("No configuration object to initialize User Interaction module.");}this.captureStart=null;this.captureMove=null;this.captureEnd=null;this.clickCallback=null;this.clickEvent=null;this.clickHandler=null;this.clone=null;this.cloneClass=null;this.container=null;this.contextMenuEvent=null;this.debug=false;this.dragMoveCallback=null;this.draggable=null;this.placeHolderClass=null;this.draggableSelector=null;this.doubleTapCallback=null;this.doubleTapDelay=null;this.element=null;this.swapTargetElement=null;this.endX=null;this.endY=null;this.isTouch=null;this.lastElement=null;this.lastTapTime=null;this.lockMode=null;this.log=null;this.mode=null;this.mouseDownEvent=null;this.mouseMoveEvent=null;this.mouseUpEvent=null;this.keyUpEvent=null;this.moveTolerance=null;this.moveX=null;this.moveY=null;this.noop=null;this.preventClickFlag=false;this.preventClickTimeoutId=null;this.scrollContainer=null;this.scrollContainerSelector=null;this.scrollEvent=null;this.scrollTimer=null;this.startX=null;this.startY=null;this.switchModeDelay=null;this.tapsNumber=null;this.timer=null;this.scrollHandler=null;this.touchCancelEvent=null;this.dragStartCallback=null;this.dragEndCallback=null;this.endCallback=null;this.touchEndEvent=null;this.touchMoveEvent=null;this.beforeDragCallback=null;this.touchStartEvent=null;this.wrapper=null;this.wrapperRect=null;this.scrollEdge=100;this.resizeStartCallback=null;this.resizeMoveCallback=null;this.resizeEndCallback=null;this.isResize=null;this.isResizeX=null;this.isResizeY=null;this.resizeHandleDistance=null;this.layoutDetails=null;this.init=function(c){this.startX=-1;this.startY=-1;this.moveX=-1;this.moveY=-1;this.endX=-1;this.endY=-1;this.resizeHandleDistance=16;this.isResize=false;this.isResizeX=false;this.isResizeY=false;this.noop=function(){};this.isTouch=c.isTouch?!!c.isTouch:false;this.container=document.querySelector(c.containerSelector);this.scrollContainerSelector=c.scrollContainerSelector||c.containerSelector;this.switchModeDelay=c.switchModeDelay||1500;this.moveTolerance=c.moveTolerance===0?0:c.moveTolerance||1000;this.draggableSelector=c.draggableSelector;this.mode='normal';this.debug=c.debug||false;this.root=document.querySelector(c.rootSelector);this.tapsNumber=0;this.lastTapTime=0;this.log=this.debug?this.logToConsole:this.noop;this.lockMode=false;this.placeHolderClass=c.placeHolderClass||"";this.cloneClass=c.cloneClass||"";this.wrapper=c.wrapperSelector?document.querySelector(c.wrapperSelector):this.container.parentNode;this.clickCallback=typeof c.clickCallback==='function'?c.clickCallback:this.noop;this.beforeDragCallback=typeof c.beforeDragCallback==='function'?c.beforeDragCallback:this.noop;this.doubleTapCallback=typeof c.doubleTapCallback==='function'?c.doubleTapCallback:this.noop;this.dragEndCallback=typeof c.dragEndCallback==='function'?c.dragEndCallback:this.noop;this.endCallback=typeof c.endCallback==='function'?c.endCallback:this.noop;this.dragStartCallback=typeof c.dragStartCallback==='function'?c.dragStartCallback:this.noop;this.dragMoveCallback=typeof c.dragMoveCallback==='function'?c.dragMoveCallback:this.noop;this.doubleTapDelay=c.doubleTapDelay||500;this.wrapperRect=this.wrapper.getBoundingClientRect();this.scrollEvent='scroll';this.touchStartEvent='touchstart';this.touchMoveEvent='touchmove';this.touchEndEvent='touchend';this.mouseDownEvent='mousedown';this.mouseMoveEvent='mousemove';this.mouseUpEvent='mouseup';this.keyUpEvent='keyup';this.contextMenuEvent='contextmenu';this.touchCancelEvent='touchcancel';this.clickEvent='click';this.layoutDetails=c.layout?c.layout.dashboardLayoutUtil:null;this.resizeStartCallback=typeof c.resizeStartCallback==='function'?c.resizeStartCallback:this.noop;this.resizeMoveCallback=typeof c.resizeMoveCallback==='function'?c.resizeMoveCallback:this.noop;this.resizeEndCallback=typeof c.resizeEndCallback==='function'?c.resizeEndCallback:this.noop;if(this.wrapper){jQuery(this.wrapper).css({"position":"relative","top":0,"left":0,"right":0,"bottom":0,"-webkit-transform":"translateZ(0)","transform":"translateZ(0)"});}};this.forEach=function(s,a){return Array.prototype.forEach.call(s,a);};this.indexOf=function(s,i){return Array.prototype.indexOf.call(s,i);};this.insertBefore=function(s,i,r){var a,b,d;d=Array.prototype.splice;a=this.indexOf(s,i);b=this.indexOf(s,r);d.call(s,b-(a<b?1:0),0,d.call(s,a,1)[0]);};this.logToConsole=function(){window.console.log.apply(console,arguments);};this.getDraggableElement=function(a){var e;this.draggable=jQuery(this.draggableSelector,this.container);while(typeof e==='undefined'&&a!==this.root){if(this.indexOf(this.draggable,a)>=0){e=a;}a=a.parentNode;}return e;};this.captureStart=function(e){var a;if(e.type==='touchstart'&&e.touches.length===1){a=e.touches[0];}else if(e.type==='mousedown'){a=e;if(e.which!==1){return;}}if(a){this.element=this.getDraggableElement(a.target);this.startX=a.pageX;this.startY=a.pageY;this.lastMoveX=0;this.lastMoveY=0;if(this.element){var $=jQuery(this.element);var b=$.offset().left;var d=$.offset().top;var f=$.height();var g=$.width();if(this.layoutDetails){var r=(b+g-this.startX)<this.resizeHandleDistance;var h=(d+f-this.startY)<this.resizeHandleDistance;if(r||h){if(r&&h){this.isResizeX=false;this.isResizeY=false;}else if(!r&&h){this.isResizeX=false;this.isResizeY=true;}else if(r&&!h){this.isResizeX=true;this.isResizeY=false;}this.isResize=true;}}else{var x=b+g-this.startX;var y=d+f-this.startY;if(x<this.resizeHandleDistance&&y<this.resizeHandleDistance){this.isResize=true;}}}if(this.lastTapTime&&this.lastElement&&this.element&&(this.lastElement===this.element)&&Math.abs(Date.now()-this.lastTapTime)<this.doubleTapDelay){this.lastTapTime=0;this.tapsNumber=2;}else{this.lastTapTime=Date.now();this.tapsNumber=1;this.lastElement=this.element;}this.log('captureStart('+this.startX+', '+this.startY+')');}};this.startHandler=function(e){this.log('startHandler');this.captureStart(e);if(this.element){this.beforeDragCallback(e,this.element);if(this.lockMode===false){if(this.tapsNumber===2){this.mode='double-tap';return;}if(e.type==="touchstart"){this.timer=setTimeout(function(){if(this.isResize){this.log("mode switched to resize");this.mode="resize";this.resizeStartCallback(e,this.element);}else{this.log('mode switched to drag');this.mode='drag';this.createClone();this.dragStartCallback(e,this.element);}}.bind(this),this.switchModeDelay);}}}}.bind(this);this.captureMove=function(e){var a;if(e.type==='touchmove'&&e.touches.length===1){a=e.touches[0];}else if(e.type==='mousemove'){a=e;}if(a){this.moveX=a.pageX;this.moveY=a.pageY;this.log('captureMove('+this.moveX+', '+this.moveY+')');}};this.moveHandler=function(e){this.log('moveHandler');this.captureMove(e);switch(this.mode){case'normal':if((Math.abs(this.startX-this.moveX)>this.moveTolerance||Math.abs(this.startY-this.moveY)>this.moveTolerance)){if(e.type==="touchmove"){this.log('-> normal');clearTimeout(this.timer);delete this.timer;}else if(this.element){if(this.isResize){this.log("mode switched to resize");this.mode="resize";}else{this.log('mode switched to drag');this.mode='drag';this.createClone();}}}break;case'drag':e.preventDefault();this.log('-> drag');this.mode='drag-and-scroll';window.addEventListener(this.mouseUpEvent,this.endHandler,true);window.addEventListener(this.keyUpEvent,this.endHandler,true);this.translateClone();this.scrollContainer=document.querySelector(this.scrollContainerSelector);if(e.type==="mousemove"){this.dragStartCallback(e,this.element);}break;case'drag-and-scroll':e.stopPropagation();e.preventDefault();this.log('-> drag-and-scroll');this.translateClone();this.dragMoveCallback({evt:e,clone:this.clone,element:this.element,draggable:this.draggable,moveX:this.moveX,moveY:this.moveY});break;case"resize":e.preventDefault();this.log('-> resize');this.mode='resize-and-scroll';window.addEventListener(this.mouseUpEvent,this.endHandler,true);this.scrollContainer=document.querySelector(this.scrollContainerSelector);if(e.type==="mousemove"){this.resizeStartCallback(e,this.element);}break;case"resize-and-scroll":e.stopPropagation();e.preventDefault();this.log('-> resize-and-scroll');this.resizeMoveCallback({evt:e,element:this.element,draggable:this.draggable,moveX:this.moveX,moveY:this.moveY});break;default:break;}}.bind(this);this.captureEnd=function(e){var a;if((e.type==='touchend'||e.type==='touchcancel')&&(e.changedTouches.length===1)){a=e.changedTouches[0];}else if(e.type==='mouseup'){a=e;}if(a){this.endX=a.pageX;this.endY=a.pageY;this.log('captureEnd('+this.endX+', '+this.endY+')');}};this.contextMenuHandler=function(e){if(this.isTouch){e.preventDefault();}}.bind(this);this.clickHandler=function(e){var v=document.getElementsByClassName('viz-controls-chartTooltip');var a=v&&v[0]&&v[0].id;var b=sap.ui.getCore().byId(a);if(b){var p=b&&b.aDelegates[0]&&b.aDelegates[0].oDelegate;if(p){p.close();}}if(this.preventClickFlag){this.preventClickFlag=false;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();clearTimeout(this.preventClickTimeoutId);}this.clickCallback();}.bind(this);this.preventClick=function(){this.preventClickFlag=true;this.preventClickTimeoutId=setTimeout(function(){this.preventClickFlag=false;}.bind(this),100);};this.endHandler=function(e){this.log('endHandler');if((e.type==this.keyUpEvent&&e.which==jQuery.sap.KeyCodes.ESCAPE)||e.type==this.mouseUpEvent||e.type==this.touchEndEvent){this.captureEnd(e);switch(this.mode){case'normal':this.log('-> normal');break;case'drag':this.log('-> drag');this.dragEndCallback(e,this.element,this.clone);this.preventClick();break;case'drag-and-scroll':this.log('-> drag-and-scroll');window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.dragEndCallback(e,this.element,this.clone);this.preventClick();e.stopPropagation();e.preventDefault();break;case'double-tap':this.log('-> double-tap');this.doubleTapCallback(e,this.element);break;case"resize":this.log("-> resize");this.isResize=false;this.resizeEndCallback(e,this.element);this.preventClick();break;case"resize-and-scroll":this.log("-> resize-and-scroll");window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.isResize=false;this.resizeEndCallback(e,this.element);this.preventClick();e.stopPropagation();e.preventDefault();break;default:break;}if(this.element){this.endCallback(e,this.element);}clearTimeout(this.timer);delete this.timer;this.lastMoveX=0;this.lastMoveY=0;this.swapTargetElement=null;this.element=null;this.mode='normal';}}.bind(this);this.defaultDragStartHandler=function(e){e.preventDefault();};this.scrollHandler=function(){clearTimeout(this.scrollTimer);this.lockMode=true;this.scrollTimer=setTimeout(function(){this.lockMode=false;}.bind(this),500);}.bind(this);this.createClone=function(){var s,r;if(this.clone){this.removeClone();}r=this.element.getBoundingClientRect();this.clone=this.element.cloneNode(true);var a=this.element.querySelectorAll('canvas');if(a.length){var b=this.clone.querySelectorAll('canvas');for(var i=0;i<a.length;i++){b[i].getContext('2d').drawImage(a[i],0,0);}}this.clone.className+=(' '+this.cloneClass);if(!this.layoutDetails){this.element.className+=(' '+'easyScanLayoutItemWrapper-placeHolder');}else{this.element.className+=(' '+'dashboardLayoutItemWrapper-placeHolder');}s=this.clone.style;s.position='absolute';s.display='block';s.top=(r.top-this.root.getBoundingClientRect().top)+'px';s.left=(r.left-this.root.getBoundingClientRect().left)+'px';s.width=r.width+'px';s.zIndex='100';s.webkitTransition='-webkit-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.mozTransition='-moz-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.msTransition='-ms-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.transition='transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.webkitTransform='translate3d(0px, 0px, 0px) ';s.mozTransform='translate3d(0px, 0px, 0px) ';s.msTransform='translate3d(0px, 0px, 0px) ';s.transform='translate3d(0px, 0px, 0px) ';this.root.appendChild(this.clone);this.log('createClone');};this.removeClone=function(){if(this.element!==null&&typeof(this.element)!=="undefined"){this.element.className=this.element.className.split(' '+this.placeHolderClass).join('');}if(this.clone!==null){this.clone.parentElement.removeChild(this.clone);this.clone=null;this.log("removeClone");}};this.translateClone=function(){var d,a;d=this.moveX-this.startX;a=this.moveY-this.startY;if(this.clone&&d&&a){this.clone.style.webkitTransform='translate3d('+d+'px, '+a+'px, 0px)';this.clone.style.mozTransform='translate3d('+d+'px, '+a+'px, 0px)';this.clone.style.msTransform='translate('+d+'px, '+a+'px)';this.clone.style.transform='translate3d('+d+'px, '+a+'px, 0px)';this.log('translateClone ('+d+', '+a+')');}};this.enable=function(){this.log('enable');this.root.addEventListener(this.touchStartEvent,this.startHandler,false);this.root.addEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.addEventListener(this.touchEndEvent,this.endHandler,false);this.root.addEventListener(this.touchCancelEvent,this.endHandler,false);this.root.addEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.addEventListener(this.mouseDownEvent,this.startHandler,false);this.root.addEventListener(this.mouseUpEvent,this.endHandler,false);this.root.addEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.addEventListener(this.clickEvent,this.clickHandler,true);this.wrapper.addEventListener(this.scrollEvent,this.scrollHandler,false);return this;};this.disable=function(){this.log('disable');this.root.removeEventListener(this.touchStartEvent,this.startHandler,false);this.root.removeEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.touchEndEvent,this.endHandler,false);this.root.removeEventListener(this.mouseDownEvent,this.startHandler,false);this.root.removeEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.mouseUpEvent,this.endHandler,false);this.root.removeEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.removeEventListener(this.clickEvent,this.clickHandler,true);this.root.removeEventListener(this.touchCancelEvent,this.endHandler,false);this.wrapper.removeEventListener(this.scrollEvent,this.scrollHandler,false);return this;};this.init(c);this.getMove=function(){return{x:this.moveX,y:this.moveY};};};
})();
},
// Copyright (c) 2009-2014 SAP SE, All Rights Reserved
	"sap/ovp/cards/AnnotationHelper.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ovp.cards.AnnotationHelper");jQuery.sap.require("sap.ui.core.format.NumberFormat");jQuery.sap.require("sap.ui.core.format.DateFormat");jQuery.sap.require("sap.ovp.cards.CommonUtils");sap.ovp.cards.AnnotationHelper={};sap.ovp.cards.AnnotationHelper.formatFunctions={count:0};sap.ovp.cards.AnnotationHelper.NumberFormatFunctions={};sap.ovp.cards.AnnotationHelper.DateFormatFunctions={};sap.ovp.cards.AnnotationHelper.CurrencyFormatFunctions={};sap.ovp.cards.AnnotationHelper.criticalityConstants={StateValues:{None:"None",Negative:"Error",Critical:"Warning",Positive:"Success"},ColorValues:{None:"Neutral",Negative:"Error",Critical:"Critical",Positive:"Good"}};sap.ovp.cards.AnnotationHelper.AnnotationType={TEXT:"com.sap.vocabularies.Common.v1.Text",TEXT_ARRANGEMENT:"com.sap.vocabularies.UI.v1.TextArrangement"};sap.ovp.cards.AnnotationHelper.TextArrangementType={TEXT_LAST:"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast",TEXT_FIRST:"com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst",TEXT_ONLY:"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly",TEXT_SEPARATE:"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"};
sap.ovp.cards.AnnotationHelper.formatterGeo=function(i,j){var k=j.Longitude.Path;var m1=j.Latitude.Path;return"{path:'"+k+"'}; {path:'"+m1+"'}"+";0";};
sap.ovp.cards.AnnotationHelper.analyticRegions=function(i,j){return"{path:'"+j.CountryCode.Path+"'}";};
sap.ovp.cards.AnnotationHelper.getLabelStateFromValue=function(i){var j;switch(i){case"Default":j=sap.ui.vbm.SemanticType.Default;break;case"Error":j=sap.ui.vbm.SemanticType.Error;break;case"Warning":j=sap.ui.vbm.SemanticType.Warning;break;case"Success":j=sap.ui.vbm.SemanticType.Success;break;default:j=sap.ui.vbm.SemanticType.None;break;}return j;};
sap.ovp.cards.AnnotationHelper.getColorStateFromValue=function(i){var j;switch(i){case"0":j="#5E696E";break;case"1":j="#BB0000";break;case"2":j="#E78C07";break;case"3":j="#2B7D2B";break;default:j="#5E696E";break;}return j;};
sap.ovp.cards.AnnotationHelper.criticalityType=function(i,j){var k=j.Criticality.Path;return"{path:'"+k+"', formatter: 'sap.ovp.cards.AnnotationHelper.getCriticalityStateFromValue' }";};
sap.ovp.cards.AnnotationHelper.getCriticalityStateFromValue=function(i){var j;switch(i){case"0":j=sap.ui.vbm.SemanticType.Default;break;case"1":j=sap.ui.vbm.SemanticType.Error;break;case"2":j=sap.ui.vbm.SemanticType.Warning;break;case"3":j=sap.ui.vbm.SemanticType.Success;break;default:j=sap.ui.vbm.SemanticType.None;break;}return j;};
sap.ovp.cards.AnnotationHelper.labelText=function(i,j){var k=i.getSetting('ovpCardProperties');var m1=k.getProperty('/showLabelText');if(m1==="true"){var n1=j.Address[0];if(typeof n1.country!=="undefined"){return"{path:'"+n1.country.Path+"'}";}else if(typeof n1.locality!=="undefined"){return"{path:'"+n1.locality.Path+"'}";}else if(typeof n1.street!=="undefined"){return"{path:'"+n1.street.Path+"'}";}else if(typeof n1.code!=="undefined"){return"{path:'"+n1.code.Path+"'}";}}else{return null;}};
sap.ovp.cards.AnnotationHelper.getLabelForDataItem=function(i,j){if(!j){return"";}if(j.Label){return j.Label.String;}var k=i.getSetting&&i.getSetting('ovpCardProperties');var m1=k&&k.getProperty("/metaModel");var n1=k&&k.getProperty("/entityType");if(!m1||!n1){return"";}var o1;if(j.Value){o1=j.Value.Path;}if(j.Target){var p1=p(n1.$path,j);var q1=p1&&m1.getProperty(p1);o1=q1&&q1.Value.Path;}if(!o1||!o1.length>0||o1===" "){return"";}var r1=m1.getODataProperty(n1,o1);if(!r1){return"";}var s1=r1["sap:label"]||(r1["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return s1;};
function g(i,k){if(i.getSetting){var j=i.getSetting("_ovpCache");if(j){return j[k];}}return undefined;}
function s(i,k,j){if(i.getSetting){var m1=i.getSetting("_ovpCache");if(m1){m1[k]=j;}}}
function a(i,j){if(!sap.ovp.cards.AnnotationHelper.formatFunctions[j]){sap.ovp.cards.AnnotationHelper.formatFunctions[j]=0;}sap.ovp.cards.AnnotationHelper.formatFunctions[j]++;var k=j+sap.ovp.cards.AnnotationHelper.formatFunctions[j];sap.ovp.cards.AnnotationHelper.formatFunctions[k]=i;return"sap.ovp.cards.AnnotationHelper.formatFunctions."+k;}
function c(i,j){var k;if(j){k=j.None;if(i&&i.EnumMember){var m1=i.EnumMember;if(e(m1,'Negative')){k=j.Negative;}else if(e(m1,'Critical')){k=j.Critical;}else if(e(m1,'Positive')){k=j.Positive;}}}return k;}
function b(i){if(i=="Error"){i=1;}else if(i=="Warning"){i=2;}else if(i=="Success"){i=3;}else{i=0;}return i;}
function e(i,j){return i&&i.indexOf(j,i.length-j.length)!==-1;}
function d(i,j,k,m1,n1,o1,p1){var q1={};q1.EnumMember="None";if(i!==undefined){i=Number(i);if(e(j,"Minimize")||e(j,"Minimizing")){if((o1!==undefined&&o1!==null)&&(m1!=undefined&&m1!=null)){if(i<=o1){q1.EnumMember="Positive";}else if(i>m1){q1.EnumMember="Negative";}else{q1.EnumMember="Critical";}}}else if(e(j,"Maximize")||e(j,"Maximizing")){if((n1!==undefined&&n1!==null)&&(k!==undefined&&k!==null)){if(i>=n1){q1.EnumMember="Positive";}else if(i<k){q1.EnumMember="Negative";}else{q1.EnumMember="Critical";}}}else if(e(j,"Target")){if((o1!==undefined&&o1!==null)&&(m1!=undefined&&m1!=null)&&(n1!==undefined&&n1!==null)&&(k!==undefined&&k!==null)){if(i>=n1&&i<=o1){q1.EnumMember="Positive";}else if(i<k||i>m1){q1.EnumMember="Negative";}else{q1.EnumMember="Critical";}}}}return c(q1,p1);}
function f(i,j,k,m1){if(!i||!j){return;}i=Number(i);if(!m1&&(i-j>=0)){return"sap-icon://trend-up";}if(!k&&(i-j<=0)){return"sap-icon://trend-down";}if(j&&m1&&(i-j>=m1)){return"sap-icon://trend-up";}if(j&&k&&(i-j<=k)){return"sap-icon://trend-down";}}
function h(i,j){var k=i.getPath(0)+"-DataFields-Sorted";var m1=g(i,k);if(!m1){var n1=l(i,j);var o1=n1.map(function(p1){return p1.Value.Path;});o1=o1.filter(function(p1){return!!p1;});m1=j.filter(function(p1){if(p1.RecordType==="com.sap.vocabularies.UI.v1.DataField"&&o1.indexOf(p1.Value.Path)===-1){return true;}return false;});m1=r(m1);s(i,k,m1);}return m1;}
function l(j,k,m1){var n1=j.getPath(0)+"-DataPoints-Sorted";var o1=g(j,n1);if(!o1){if(m1){o1=k.filter(n);}else{o1=k.filter(m);}o1=r(o1);var p1;for(var i=0;i<o1.length;i++){p1=j.getPath(0).substr(0,j.getPath(0).lastIndexOf("/")+1);o1[i]=j.getModel(0).getProperty(p(p1,o1[i]));p1="";}s(j,n1,o1);}return o1;}
function m(i){if(i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&i.Target.AnnotationPath.match(/@com.sap.vocabularies.UI.v1.DataPoint.*/)){return true;}return false;}
function n(i){if((i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&i.Target.AnnotationPath.match(/@com.sap.vocabularies.UI.v1.DataPoint.*/))||(i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&i.Target.AnnotationPath.match(/@com.sap.vocabularies.Communication.v1.Contact.*/))){return true;}return false;}
function o(i){if(!i||!i.Criticality||!i.Criticality.Path){return;}return"{path:'"+i.Criticality.Path+"'}";}
function p(i,j){if(i&&!e(i,'/')){i+='/';}return i+j.Target.AnnotationPath.slice(1);}
function q(i){var j,k;if(i["com.sap.vocabularies.UI.v1.Importance"]){j=i["com.sap.vocabularies.UI.v1.Importance"].EnumMember;switch(j){case"com.sap.vocabularies.UI.v1.ImportanceType/High":k=1;break;case"com.sap.vocabularies.UI.v1.ImportanceType/Medium":k=2;break;case"com.sap.vocabularies.UI.v1.ImportanceType/Low":k=3;break;}}else{k=4;}return k;}
function r(i){if(i.length<2){return i;}var j=parseInt(i.length/2,10);var k=i.slice(0,j);var m1=i.slice(j,i.length);return t(r(k),r(m1));}
function t(i,j){var k=[];while(i.length&&j.length){var m1=q(i[0]),n1=q(j[0]);if(m1<=n1){k.push(i.shift());}else{k.push(j.shift());}}while(i.length){k.push(i.shift());}while(j.length){k.push(j.shift());}return k;}
function u(i,j,k){var m1=h(i,j)[k];if(m1){return B(i,m1);}return"";}
function v(i,j,k){var m1=h(i,j)[k];return sap.ovp.cards.AnnotationHelper.getLabelForDataItem(i,m1);}
function w(i,j,k){var m1=l(i,j)[k];if(m1&&m1.Title){return m1.Title.String;}return"";}
function x(i,j,k){var m1=j.filter(m);m1=r(m1);if(!m1||!m1.length||!m1.length>0){return"";}return sap.ovp.cards.AnnotationHelper.getLabelForDataItem(i,m1[0]);}
function y(i,j,k,m1){var n1=l(i,j)[k];if(!n1){return"";}var o1=i.getSetting('ovpCardProperties');var p1=o1.getProperty("/entityType");var q1=o1.getProperty("/metaModel");return _(i,n1,p1,q1,m1);}
function z(i,j,k){var m1=l(i,j)[k];if(m1&&m1.Criticality){return true;}}
function A(i,j,k){var m1=l(i,j)[k];var n1=m1.Criticality.Path;return"{path:'"+n1+"'}";}
function _(i,j,k,m1,n1){if(!j||!j.Value){return"";}var o1=i.getSetting('ovpCardProperties');var p1=false;if(o1){var q1=o1.getProperty("/ignoreSapText");p1=q1==undefined?p1:q1;}var r1=m1.getODataProperty(k,j.Value.Path);var s1=false;if(p1==true){if(r1&&(r1["com.sap.vocabularies.Analytics.v1.Measure"]||r1["sap:aggregation-role"]=="measure")){s1=true;}}if(!s1&&r1){var t1;if(r1["com.sap.vocabularies.Common.v1.Text"]){t1=r1["com.sap.vocabularies.Common.v1.Text"].String?r1["com.sap.vocabularies.Common.v1.Text"].String:r1["com.sap.vocabularies.Common.v1.Text"].Path;}else if(r1["sap:text"]){t1=r1["sap:text"];}if(t1){r1=m1.getODataProperty(k,t1);j={Value:{Path:r1.name}};}}return B(i,j,n1);}
function B(i,j,k,m1){if(j.Value.Apply){return sap.ui.model.odata.AnnotationHelper.format(i,j.Value);}var n1=i.getSetting('ovpCardProperties');var o1=n1.getProperty("/entityType");var p1=n1.getProperty("/metaModel");return D(i,j,o1,p1,k,m1);}
function C(i,j,k,m1){if((!k)||(typeof m1!=='string')){return m1;}var n1=k[sap.ovp.cards.AnnotationHelper.AnnotationType.TEXT];if(!n1){return m1;}var o1,p1;o1=k[sap.ovp.cards.AnnotationHelper.AnnotationType.TEXT_ARRANGEMENT];p1=o1&&o1.EnumMember;if(!p1){o1=n1&&n1[sap.ovp.cards.AnnotationHelper.AnnotationType.TEXT_ARRANGEMENT];p1=o1&&o1.EnumMember;}if(!p1){o1=j&&j[sap.ovp.cards.AnnotationHelper.AnnotationType.TEXT_ARRANGEMENT];p1=o1&&o1.EnumMember;}if(!p1){return m1;}var q1=sap.ui.model.odata.AnnotationHelper.format(i,n1);if(!q1||q1===" "){return m1;}var r1;switch(p1){case sap.ovp.cards.AnnotationHelper.TextArrangementType.TEXT_FIRST:r1=q1+" ("+m1+")";break;case sap.ovp.cards.AnnotationHelper.TextArrangementType.TEXT_LAST:r1=m1+" ("+q1+")";break;case sap.ovp.cards.AnnotationHelper.TextArrangementType.TEXT_ONLY:r1=q1;break;case sap.ovp.cards.AnnotationHelper.TextArrangementType.TEXT_SEPARATE:r1=m1+" ("+q1+")";break;default:r1=m1;break;}return r1;}
function D(i,j,k,m1,n1,o1,p1){if(j.Value.Apply){return sap.ui.model.odata.AnnotationHelper.format(i,j.Value);}var q1=m1.getODataProperty(k,j.Value.Path),r1="",s1;var t1=i.getSetting("ovpCardProperties");var u1=t1&&t1.getProperty("/contentFragment");if(!o1){if(j.Value.Path.split("/").length>1){q1=K(m1,k,j.Value.Path);}if(!q1){return"";}if(q1["type"]==='Edm.DateTime'||q1["type"]==='Edm.DateTimeOffset'){var v1=t1&&t1.getProperty("/showDateInRelativeFormat");s1=H("dateFormatFunction",v1);r1=E([j.Value.Path?j.Value.Path:q1.name],s1);}else if((j.ValueFormat&&j.ValueFormat.NumberOfFractionalDigits)||q1["scale"]){var w1=(j.ValueFormat&&j.ValueFormat.NumberOfFractionalDigits)?j.ValueFormat.NumberOfFractionalDigits.Int:0,x1;if(q1["Org.OData.Measures.V1.ISOCurrency"]){x1=q1["Org.OData.Measures.V1.ISOCurrency"].Path?q1["Org.OData.Measures.V1.ISOCurrency"].Path:q1["Org.OData.Measures.V1.ISOCurrency"].String;}else if(q1["Org.OData.Measures.V1.Unit"]){x1=q1["Org.OData.Measures.V1.Unit"].Path?q1["Org.OData.Measures.V1.Unit"].Path:q1["Org.OData.Measures.V1.Unit"].String;}else if(q1["sap:unit"]){x1=q1["sap:unit"];}var y1=x1?m1.getODataProperty(k,x1):null,z1=[j.Value.Path?j.Value.Path:q1.name];if(w1>2){w1=2;}if(q1["Org.OData.Measures.V1.ISOCurrency"]){var A1=q1["Org.OData.Measures.V1.ISOCurrency"];if(A1.Path){s1=I(w1);z1.push(A1.Path);}else if(A1.String){s1=I(w1,A1.String);}}else if(y1&&(y1["Org.OData.Measures.V1.ISOCurrency"]||y1["sap:semantics"]==="currency-code")){s1=I(w1);z1.push(x1);}else{s1=F(w1);}r1=E(z1,s1);}else{if(p1){r1=sap.ui.model.odata.AnnotationHelper.simplePath(i,j.Value);}else{r1=sap.ui.model.odata.AnnotationHelper.format(i,j.Value);}}if(u1&&u1==="sap.ovp.cards.table.Table"){r1=C(i,k,q1,r1);}if(q1["Org.OData.Measures.V1.Unit"]){var B1=q1["Org.OData.Measures.V1.Unit"];if(B1.Path){r1+=(" "+E([B1.Path]));}else if(B1.String){if(B1.String!=="%"){r1+=" ";}r1+=B1.String;}}}if(!n1){if(q1["Org.OData.Measures.V1.ISOCurrency"]){var A1=q1["Org.OData.Measures.V1.ISOCurrency"];if(A1.Path){r1+=(" "+E([A1.Path]));}else if(A1.String){r1+=(" "+A1.String);}}}if(r1[0]===" "){r1=r1.substring(1);}return r1;}
function E(j,k){var m1="",n1=j.length;if(n1>1){m1="{parts:[";for(var i=0;i<n1;i++){m1+=("{path: '"+j[i]+"'}"+((i===n1-1)?"]":", "));}}else{m1="{path: '"+j[0]+"'";}m1+=(k?(", formatter: '"+k+"'"):"")+"}";return m1;}
function F(i){var j="formatNumberCalculation"+i;if(!sap.ovp.cards.AnnotationHelper.NumberFormatFunctions[j]){sap.ovp.cards.AnnotationHelper.NumberFormatFunctions[j]=G(Number(i));}return"sap.ovp.cards.AnnotationHelper.NumberFormatFunctions."+j;}
function G(i){return function(j){var k=sap.ui.core.format.NumberFormat.getFloatInstance({style:'short',showMeasure:false,minFractionDigits:i,maxFractionDigits:i});return k.format(Number(j));};}
function H(i,j){var k={'relative':true,'relativeScale':'auto'};if(j!==undefined&&!j){k={'style':'medium'};}if(!sap.ovp.cards.AnnotationHelper.DateFormatFunctions[i]){sap.ovp.cards.AnnotationHelper.DateFormatFunctions[i]=function(m1){var n1=sap.ui.core.format.DateFormat.getInstance(k);if(!m1){m1="";return m1;}return n1.format(new Date(m1));};}return"sap.ovp.cards.AnnotationHelper.DateFormatFunctions."+i;}
function I(i,j){var k="formatCurrencyCalculation"+(j?j+i:i);if(!sap.ovp.cards.AnnotationHelper.CurrencyFormatFunctions[k]){sap.ovp.cards.AnnotationHelper.CurrencyFormatFunctions[k]=J(i,j);}return"sap.ovp.cards.AnnotationHelper.CurrencyFormatFunctions."+k;}
function J(i,j){return function(k,m1){var n1="";var o1=sap.ui.core.format.NumberFormat.getCurrencyInstance({style:'short',showMeasure:false,minFractionDigits:i,maxFractionDigits:i});if(m1){n1=o1.format(k,m1);}else{n1=j?o1.format(k,j):o1.format(k);}return n1;};}
function K(j,k,m1){var n1=m1.split("/");if(n1.length>1){for(var i=0;i<(n1.length-1);i++){var o1=j.getODataAssociationEnd(k,n1[i]);if(o1){k=j.getODataEntityType(o1.type);}}return j.getODataProperty(k,n1[n1.length-1]);}}
function L(i,j,k){var m1=l(i,j);var n1=sap.ovp.cards.AnnotationHelper.criticalityConstants.StateValues;var o1=m1[k];if(!o1){return n1.None;}if(o1.Criticality){return O(i,o1,n1);}return Q(i,o1,n1);}
function M(i,j,k){var m1=l(i,j);if(m1&&m1.length){var n1=m1[0];if(n1&&(n1.Criticality||n1.CriticalityCalculation)){return true;}}return false;}
sap.ovp.cards.AnnotationHelper.colorPaletteForComparisonMicroChart=function(i,j,k){if(M(i,j,k)){return'';}return'#5cbae6';};
function N(i,j,k){var m1=l(i,j),n1="None",o1=sap.ovp.cards.AnnotationHelper.criticalityConstants.ColorValues;if(m1.length>k){var p1=m1[k];if(p1&&p1.Criticality){n1=O(i,p1,o1);}else{n1=Q(i,p1,o1);}}return n1;}
function O(i,j,k){var m1=sap.ui.core.ValueState.None;var n1;var o1=j.Criticality;if(o1){n1="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+k.Negative+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+k.Critical+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+k.Positive+"'' : "+"''"+k.None+"'' '}'";if(o1.Path){var p1='$'+sap.ui.model.odata.AnnotationHelper.simplePath(i,o1);m1=jQuery.sap.formatMessage(n1,p1);}else if(o1.EnumMember){var q1="'"+o1.EnumMember+"'";m1=jQuery.sap.formatMessage(n1,q1);}else{jQuery.sap.log.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{jQuery.sap.log.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return m1;}
function P(i,j,k){var m1=l(i,j);var n1="None";if(m1.length>k){var o1=m1[k];if(o1&&o1.Criticality&&o1.Criticality.Path){n1=A(i,j,k);}else{n1=Q(i,o1,sap.ovp.cards.AnnotationHelper.criticalityConstants.StateValues);n1=b(n1);}}return n1;}
function Q(i,j,k){var m1=k.None;if(j.Criticality){m1=c(j.Criticality,k);}else if(j.CriticalityCalculation&&j.Value&&j.Value&&j.Value.Path){m1=R(i,j,k);}return m1;}
function R(i,j,k){var m1=a1(j.Value);var n1=j.CriticalityCalculation.ImprovementDirection.EnumMember;var o1=a1(j.CriticalityCalculation.DeviationRangeLowValue);var p1=a1(j.CriticalityCalculation.DeviationRangeHighValue);var q1=a1(j.CriticalityCalculation.ToleranceRangeLowValue);var r1=a1(j.CriticalityCalculation.ToleranceRangeHighValue);var s1=S(o1);var t1=S(p1);var u1=S(q1);var v1=S(r1);var w1="parts: ["+m1;w1+=s1?","+o1:"";w1+=t1?","+p1:"";w1+=u1?","+q1:"";w1+=v1?","+r1:"";w1+="]";var x1=function(){var z1=1;return d(arguments[0],n1,s1?arguments[z1++]:o1,t1?arguments[z1++]:p1,u1?arguments[z1++]:q1,v1?arguments[z1++]:r1,k);};var y1=a(x1,"formatCriticalityCalculation");return"{"+w1+", formatter: '"+y1+"'}";}
function S(i){return(typeof i==="string")&&i.charAt(0)==="{";}
function T(j,k,m1){var n1="";var o1=m1.split("/");if(o1.length>1){for(var i=0;i<(o1.length-1);i++){var p1=j.getODataAssociationEnd(k,o1[i]);if(p1){k=j.getODataEntityType(p1.type);if(n1){n1=n1+"/";}n1=n1+o1[i];}else{return n1;}}}return n1;}
sap.ovp.cards.AnnotationHelper.formatField=function(i,j){return B(i,j);};
sap.ovp.cards.AnnotationHelper.formatItems=function(i,j){var k=i.getSetting('ovpCardProperties');var m1=k.getProperty("/addODataSelect");var n1=k.getProperty("/metaModel");var o1=n1.getODataEntityType(j.entityType);var p1=o1[k.getProperty('/selectionAnnotationPath')];var q1=o1[k.getProperty('/presentationAnnotationPath')];var r1="/"+j.name;var s1=Array.prototype.slice.call(arguments,2);var t1=i.getSetting('ovpCardProperties'),u1=t1.getProperty('/parameters');if(p1||!!u1){if((p1&&p1.Parameters&&p1.Parameters.length>0)||!!u1){r1=sap.ovp.cards.AnnotationHelper.resolveParameterizedEntitySet(i.getSetting('dataModel'),j,p1,u1);}}if(k.getProperty("/cardLayout")&&k.getProperty("/cardLayout/noOfItems")){var v1="{path: '"+r1+"', length: "+ +(k.getProperty("/cardLayout/noOfItems"));}else{var v1="{path: '"+r1+"', length: "+c1(k);}var w1=[];if(m1){w1=V(i,n1,o1,s1);}var x1=U(n1,o1,s1);if(w1.length>0||x1.length>0){v1=v1+", parameters: {";if(w1.length>0){v1=v1+"select: '"+w1.join(',')+"'";}if(x1.length>0){if(w1.length>0){v1=v1+", ";}v1=v1+"expand: '"+x1.join(',')+"'";}v1=v1+"}";}var y1=X(k,q1);if(y1.length>0){v1=v1+", sorter:"+JSON.stringify(y1);}var z1=sap.ovp.cards.AnnotationHelper.getFilters(k,p1);if(z1.length>0){v1=v1+", filters:"+JSON.stringify(z1);}v1=v1+"}";return v1;};
function U(k,m1,n1){var o1=[];var p1,q1,r1,s1;for(var i=0;i<n1.length;i++){if(!n1[i]){continue;}p1=m1.$path+"/"+n1[i];q1=k.createBindingContext(p1);r1=q1.getObject();r1=r1?r1:[];for(var j=0;j<r1.length;j++){if(r1[j].Value&&r1[j].Value.Path){s1=T(k,m1,r1[j].Value.Path);if(s1&&o1.indexOf(s1)===-1){o1.push(s1);}}}}return o1;}
function V(m1,n1,o1,p1){var q1=[];var r1,s1,t1;for(var i=0;i<p1.length;i++){if(!p1[i]){continue;}r1=o1.$path+"/"+p1[i];s1=n1.createBindingContext(r1);var u1={};if(m1&&m1.bDummyContext){jQuery.extend(u1,m1,s1,true);}else{u1=m1;}t1=s1.getObject();if(!t1){t1=[];}else if(jQuery.isPlainObject(t1)){if(t1.Data){t1=t1.Data;}else{t1=[];}}var v1;var w1;var x1;var y1;for(var j=0;j<t1.length;j++){w1=[];v1=t1[j];x1="";y1=v1.RecordType;if(y1==="com.sap.vocabularies.UI.v1.DataField"){x1=D(u1,v1,o1,n1,undefined,undefined,true);}else if(y1==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var z1=p(o1.$path,v1);x1=_(u1,n1.getProperty(z1),o1,n1);var A1=o(n1.getProperty(z1));if(A1&&A1.length>0){x1+=A1;}}else if(y1==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"&&v1.Url){var B1;if(!v1.Url.UrlRef){B1=sap.ui.model.odata.AnnotationHelper.format(u1,v1.Url);}if(B1&&B1.substring(0,2)==="{="){x1=B1;}}if(x1){w1=W(x1);}if(w1&&w1.length>0){var C1;for(var k=0;k<w1.length;k++){C1=w1[k];if(!q1[C1]){q1[C1]=true;var D1=sap.ovp.cards.CommonUtils.getUnitColumn(C1,o1);if(D1&&D1!==C1){q1[D1]=true;}var E1=k1(n1,o1,C1);if(E1&&E1!==C1){q1[E1]=true;}}}}}}return Object.keys(q1);}
function W(j){var i,k=0,m1=j.length,n1="",o1;for(i=0;i<m1;i++){o1=j.charAt(i);if(!o1){return;}switch(o1){case"{":k++;break;case"}":k--;break;default:if(k<=0){continue;}break;}n1+=o1;}j=n1;var p1=/\${([a-zA-Z0-9\_|\/]*)/g;var q1=/[^[{]*[a-zA-Z0-9\_]/g;var r1=/path *\: *\'([a-zA-Z0-9\_]+)*\'/g;var s1,t1,u1=[];if(j.indexOf("{parts:[")!==-1){j=j.replace("{parts:[","");}if(j.substring(0,2)==="{="){s1=p1;t1=1;}else if(j.indexOf("path")!==-1){var v1=q1.exec(j);while(v1){if(v1[0].indexOf("path")===-1&&v1[0].indexOf("@i18n")!==0){u1.push(v1[0]);}v1=q1.exec(j);}s1=r1;t1=1;}else{s1=q1;t1=0;}var w1=s1.exec(j);while(w1){if(w1[t1]&&w1[t1].indexOf("@i18n")!==0){u1.push(w1[t1]);}w1=s1.exec(j);}return u1;}
function X(j,k){var m1=[];var n1,o1;var p1=j.getProperty("/sortBy");if(p1){var q1=j.getProperty('/sortOrder');if(q1&&q1.toLowerCase()!=='descending'){o1=false;}else{o1=true;}n1={path:p1,descending:o1};m1.push(n1);}var r1=k&&k.SortOrder||undefined;var s1,p1;if(r1){for(var i=0;i<r1.length;i++){s1=r1[i];p1=s1.Property.PropertyPath;o1=Z(s1.Descending,true);n1={path:p1,descending:o1};m1.push(n1);}}return m1;}
sap.ovp.cards.AnnotationHelper.getCardSelections=function(i){var j=i.getProperty('/entityType');var k=j[i.getProperty('/selectionAnnotationPath')];return{filters:sap.ovp.cards.AnnotationHelper.getFilters(i,k),parameters:Y(k)};};
sap.ovp.cards.AnnotationHelper.getCardSorters=function(j){if(!j){return;}var k=j.getProperty('/entityType');var m1=k[j.getProperty('/presentationAnnotationPath')];var n1=X(j,m1);var o1=[];var i,p1=n1.length;for(i=0;i<p1;i++){if(!n1[i].path){continue;}o1.push({Property:n1[i].path,Descending:n1[i].descending});}if(o1.length>0){return{SortOrder:o1};}};
function Y(j){var k,m1=[];if(!j||!j.Parameters){return m1;}var n1=j.Parameters.length;for(var i=0;i<n1;i++){k=j.Parameters[i];if(!k.PropertyName||!k.PropertyName.PropertyPath){continue;}if(!k.PropertyValue){jQuery.sap.log.error("Missing value for parameter "+k.PropertyName.PropertyPath);continue;}m1[m1.length]={path:k.PropertyName.PropertyPath,value:sap.ovp.cards.AnnotationHelper.getPrimitiveValue(k.PropertyValue)};}return m1;}
sap.ovp.cards.AnnotationHelper.getFilters=function(k,m1){var n1=[];var o1;var p1=k.getProperty("/filters");if(p1){n1=n1.concat(p1);}if(m1&&m1.SelectOptions){o1=m1.SelectOptions;}else{o1=m1;}var q1,r1,s1;if(o1){for(var i=0;i<o1.length;i++){q1=o1[i];r1=q1.PropertyName.PropertyPath;for(var j=0;j<q1.Ranges.length;j++){s1=q1.Ranges[j];if(s1.Sign.EnumMember){var t1={path:r1,operator:s1.Option.EnumMember.split("/")[1],value1:sap.ovp.cards.AnnotationHelper.getPrimitiveValue(s1.Low),value2:sap.ovp.cards.AnnotationHelper.getPrimitiveValue(s1.High),sign:s1.Sign.EnumMember==="com.sap.vocabularies.UI.v1.SelectionRangeSignType/I"?"I":"E"};if(t1.sign==="E"&&t1.operator!==sap.ui.model.FilterOperator.EQ){jQuery.sap.log.error("Exclude sign is supported only with EQ operator");continue;}if(t1.sign==="E"&&t1.operator===sap.ui.model.FilterOperator.EQ){t1.operator=sap.ui.model.FilterOperator.NE;t1.sign="I";}if(t1.operator==="CP"&&t1.sign==="I"){var u1=sap.ui.model.FilterOperator.Contains;var v1=t1.value1;if(v1){var w1=v1.indexOf('*');var x1=v1.lastIndexOf('*');if(w1>-1){if((w1===0)&&(x1!==(v1.length-1))){u1=sap.ui.model.FilterOperator.EndsWith;v1=v1.substring(1,v1.length);}else if((w1!==0)&&(x1===(v1.length-1))){u1=sap.ui.model.FilterOperator.StartsWith;v1=v1.substring(0,v1.length-1);}else{v1=v1.substring(1,v1.length-1);}}}t1.operator=u1;t1.value1=v1;}n1.push(t1);}}}}return n1;};
function Z(i,j){if(i&&i.Boolean){if(i.Boolean.toLowerCase()==="true"){return true;}else if(i.Boolean.toLowerCase()==="false"){return false;}}else if(i&&i.Bool){if(i.Bool.toLowerCase()==="true"){return true;}else if(i.Bool.toLowerCase()==="false"){return false;}}return j;}
function $(i){var j;if(i){if(i.String){j=Number(i.String);}else if(i.Int){j=Number(i.Int);}else if(i.Decimal){j=Number(i.Decimal);}else if(i.Double){j=Number(i.Double);}else if(i.Single){j=Number(i.Single);}}return j;}
sap.ovp.cards.AnnotationHelper.getPrimitiveValue=function(i){var j;if(i){if(i.String||i.String===""){j=i.String;}else if(i.Boolean||i.Bool){j=Z(i);}else{j=$(i);}}return j;};
function a1(i){if(i){if(i.Path){return"{path:'"+i.Path+"'}";}else{return sap.ovp.cards.AnnotationHelper.getPrimitiveValue(i);}}else{return"";}}
var b1={"List_condensed":{phone:5,tablet:5,desktop:5},"List_extended":{phone:3,tablet:3,desktop:3},"List_condensed_bar":{phone:5,tablet:5,desktop:5},"List_extended_bar":{phone:3,tablet:3,desktop:3},"Table":{phone:5,tablet:5,desktop:5},"Stack_simple":{phone:20,tablet:20,desktop:20},"Stack_complex":{phone:5,tablet:5,desktop:5}};
function c1(i){var j=i.getProperty('/contentFragment');var k=i.getProperty('/listType');var m1=i.getProperty('/listFlavor');var n1;var o1="desktop";if(sap.ui.Device.system.phone){o1="phone";}else if(sap.ui.Device.system.tablet){o1="tablet";}if(j=="sap.ovp.cards.list.List"){if(k=="extended"){if(m1=="bar"){n1=b1["List_extended_bar"];}else{n1=b1["List_extended"];}}else if(m1=="bar"){n1=b1["List_condensed_bar"];}else{n1=b1["List_condensed"];}}else if(j=="sap.ovp.cards.table.Table"){n1=b1["Table"];}else if(j=="sap.ovp.cards.stack.Stack"){if(i.getProperty('/objectStreamCardsNavigationProperty')){n1=b1["Stack_complex"];}else{n1=b1["Stack_simple"];}}if(n1){return n1[o1];}return 5;}
sap.ovp.cards.AnnotationHelper.removeDuplicateDataField=function(i){var j=i.getObject();var k=l(i,j,true);var m1=k.map(function(n1){if(n1&&n1.Value&&n1.Value.Path){return n1.Value.Path;}else if(n1&&n1.fn&&n1.fn.Path){return n1.fn.Path;}});j.filter(function(n1,o1){if(n1.RecordType==="com.sap.vocabularies.UI.v1.DataField"&&m1.indexOf(n1.Value.Path)>-1){j.splice(o1,1);}});};
sap.ovp.cards.AnnotationHelper.formatUrl=function(i,j){if(j.charAt(0)==='/'||j.indexOf("http")===0){return j;}var k=i.getModel(0).getProperty("/baseUrl");if(k){return k+"/"+j;}return j;};
sap.ovp.cards.AnnotationHelper.getDataPointsCount=function(i,j){var k=l(i,j);return k.length;};
sap.ovp.cards.AnnotationHelper.getFirstDataPointValue=function(i,j){return sap.ovp.cards.AnnotationHelper.getDataPointValue(i,j,0);};
sap.ovp.cards.AnnotationHelper.getSecondDataPointValue=function(i,j){return sap.ovp.cards.AnnotationHelper.getDataPointValue(i,j,1);};
sap.ovp.cards.AnnotationHelper.getDataPointValue=function(i,j,k){var m1=l(i,j),n1=m1[k];if(n1&&n1.Value&&n1.Value.Path){return n1.Value.Path;}return"";};
sap.ovp.cards.AnnotationHelper.getFirstDataFieldName=function(i,j){return v(i,j,0);};
sap.ovp.cards.AnnotationHelper.getSecondDataFieldName=function(i,j){return v(i,j,1);};
sap.ovp.cards.AnnotationHelper.getThirdDataFieldName=function(i,j){return v(i,j,2);};
sap.ovp.cards.AnnotationHelper.getFourthDataFieldName=function(i,j){return v(i,j,3);};
sap.ovp.cards.AnnotationHelper.getFifthDataFieldName=function(i,j){return v(i,j,4);};
sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex=function(i,j,k){return u(i,j,k);};
sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex=function(i,j,k){return y(i,j,k);};
sap.ovp.cards.AnnotationHelper.formatDataPointOrField=function(i,j,k,m1){var n1=sap.ovp.cards.AnnotationHelper.getDataPointsCount(i,j);if(n1>0){return sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex(i,j,k);}else{return sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex(i,j,m1);}};
sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric=function(i,j,k){return e1(i,j,k);};
sap.ovp.cards.AnnotationHelper.getFirstDataPointName=function(i,j){return w(i,j,0);};
sap.ovp.cards.AnnotationHelper.getSecondDataPointName=function(i,j){return w(i,j,1);};
sap.ovp.cards.AnnotationHelper.getThirdDataPointName=function(i,j){return w(i,j,2);};
sap.ovp.cards.AnnotationHelper.getLabelForFirstDataPoint=function(i,j){return x(i,j,0);};
sap.ovp.cards.AnnotationHelper.formatImageUrl=function(j,k){for(var i=0;i<k.length;i++){var m1=k[i];if(m1.RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(m1.IconUrl&&m1.IconUrl.String){return m1.IconUrl.String;}if(m1.IconUrl&&m1.IconUrl.Path){return sap.ui.model.odata.AnnotationHelper.simplePath(j,m1.IconUrl);}}}};
sap.ovp.cards.AnnotationHelper.formatUnit=function(i,j,k){var m1="";var n1;if(jQuery.isArray(j)){n1=l(i,j)[k];}else{var o1=jQuery.extend({},j);var p1=jQuery.extend({},i);n1=d1(p1,o1);}if(!n1||!n1.Value){return m1;}var q1=i.getSetting('ovpCardProperties');var r1=q1&&q1.getProperty("/entityType");var s1=q1&&q1.getProperty("/metaModel");var t1=s1&&s1.getODataProperty(r1,n1.Value.Path);var u1=t1&&t1["Org.OData.Measures.V1.ISOCurrency"];if(u1&&u1.Path){m1+=(" "+E([u1.Path]));}else if(u1&&u1.String){m1+=(" "+u1.String);}return m1;};
sap.ovp.cards.AnnotationHelper.formatObjectNumber=function(i,j,k,m1){return y(i,j,k,m1);};
sap.ovp.cards.AnnotationHelper.formatFirstDataPointState=function(i,j){return L(i,j,0);};
sap.ovp.cards.AnnotationHelper.formatFirstDataPointColor=function(i,j){return N(i,j,0);};
sap.ovp.cards.AnnotationHelper.formatSecondDataPointState=function(i,j){return L(i,j,1);};
sap.ovp.cards.AnnotationHelper.formatThirdDataPointState=function(i,j){return L(i,j,2);};
sap.ovp.cards.AnnotationHelper.formatFirstDataPointStateForSmartField=function(i,j){return P(i,j,0);};
sap.ovp.cards.AnnotationHelper.formatKPIHeaderState=function(i,j){return Q(i,j,sap.ovp.cards.AnnotationHelper.criticalityConstants.ColorValues);};
sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticality=function(i,j){return z(i,j,0);};
sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticalityForTableStatus=function(i,j){var k=l(i,j)[0];if(k&&(k.Criticality||k.CriticalityCalculation)){return true;}return false;};
sap.ovp.cards.AnnotationHelper.isSecondDataPointCriticality=function(i,j){return z(i,j,1);};
sap.ovp.cards.AnnotationHelper.isThirdDataPointCriticality=function(i,j){return z(i,j,2);};
sap.ovp.cards.AnnotationHelper.getSortedDataFields=function(i,j){return h(i,j);};
sap.ovp.cards.AnnotationHelper.getSortedDataPoints=function(i,j){return l(i,j);};
function d1(i,j){var k=i.getPath(0);var m1=k.slice(0,k.lastIndexOf("/"));m1=m1.slice(0,m1.lastIndexOf("/"));var n1=p(m1,j);j=i.getModel(0).getProperty(n1);return j;}
sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric=function(i,j){if(!j){return"";}return B(i,j);};
function e1(j,k,m1,n1){var o1;var p1=n1==undefined?m1:h(j,m1)[n1];var q1=j.getSetting('ovpCardProperties');var r1=q1.getProperty("/metaModel");var s1=r1.getODataEntityType(k.entityType);var t1=s1.property;if(t1){for(var i=0;i<t1.length;i++){if(p1.Value.Path===t1[i].name){o1=t1[i]["com.sap.vocabularies.Common.v1.SemanticObject"];if(o1){return sap.ui.model.odata.AnnotationHelper.format(j,o1);}else{return"";}}}}}
sap.ovp.cards.AnnotationHelper.formatDataPointValue=function(i,j,k){if(!j){return"";}var m1=i.getSetting('ovpCardProperties');var n1=m1.getProperty("/entityType");var o1=m1.getProperty("/metaModel");var p1=jQuery.extend({},j);var q1=jQuery.extend({},i);j=d1(q1,p1);return _(i,j,n1,o1,k);};
sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric=function(i,j){var k=jQuery.extend({},j);var m1=jQuery.extend({},i);var n1="None",o1=sap.ovp.cards.AnnotationHelper.criticalityConstants.StateValues;j=d1(m1,k);if(j&&j.Criticality){n1=O(i,j,o1);}else{n1=Q(i,j,o1);}return n1;};
sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric=function(i,j){var k=jQuery.extend({},j);var m1=jQuery.extend({},i);j=d1(m1,k);if(j&&j.Criticality){return true;}};
sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus=function(i,j){var k=jQuery.extend({},j);var m1=jQuery.extend({},i);var n1=i.getSetting('ovpCardProperties');var o1=n1.getProperty("/entityType");var p1=n1.getProperty("/metaModel");j=d1(m1,k);if(!j){return;}var q1=p1.getODataProperty(o1,j.Value.Path);if(j&&q1&&q1.type=="Edm.String"&&(j.Criticality||j.CriticalityCalculation)){return true;}};
sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric=function(i,j){var k=jQuery.extend({},j);var m1=jQuery.extend({},i);j=d1(m1,k);var n1="None";if(j&&j.Criticality&&j.Criticality.Path){n1="{path:'"+j.Criticality.Path+"'}";}else{n1=Q(i,j,sap.ovp.cards.AnnotationHelper.criticalityConstants.StateValues);n1=b(n1);}return n1;};
sap.ovp.cards.AnnotationHelper.hasActions=function(j,k){var m1;for(var i=0;i<k.length;i++){m1=k[i];if(m1.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||m1.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||m1.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){return 1;}}return 0;};
sap.ovp.cards.AnnotationHelper.isFirstDataPointPercentageUnit=function(i,j){var k=l(i,j)[0];if(k&&k.Value&&k.Value.Path){var m1=i.getPath(0).substr(0,i.getPath(0).lastIndexOf("/")+1);var n1=i.getModel(0);var o1=n1.getProperty(m1);var p1=n1.getODataProperty(o1,k.Value.Path);if(p1&&p1["Org.OData.Measures.V1.Unit"]){return p1["Org.OData.Measures.V1.Unit"].String==="%";}}return false;};
sap.ovp.cards.AnnotationHelper.resolveEntityTypePath=function(i){var j=i.getObject();var k=i.getModel();var m1=k.getProperty("/metaModel");var n1=m1.getODataEntitySet(k.getProperty("/entitySet"));var o1=m1.getODataEntityType(n1.entityType);j=o1.$path+"/"+j;return m1.createBindingContext(j);};
sap.ovp.cards.AnnotationHelper.resolveParameterizedEntitySet=function(i,j,k,m1){jQuery.sap.require("sap.ui.model.analytics.odata4analytics");var n1="";var o1=new sap.ui.model.analytics.odata4analytics.Model(sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(i));var p1=o1.findQueryResultByName(j.name);if(!p1){n1="/"+j.name;jQuery.sap.log.error("findQueryResultByName","Entity Set not found in the QueryResultRequest");return n1;}var q1=new sap.ui.model.analytics.odata4analytics.QueryResultRequest(p1);var r1=p1.getParameterization();if(r1){var s1;q1.setParameterizationRequest(new sap.ui.model.analytics.odata4analytics.ParameterizationRequest(r1));if(k&&k.Parameters){jQuery.each(k.Parameters,function(){if(this.RecordType==="com.sap.vocabularies.UI.v1.IntervalParameter"){s1=this.PropertyNameFrom.PropertyPath.split("/");q1.getParameterizationRequest().setParameterValue(s1[s1.length-1],this.PropertyValueFrom.String,this.PropertyValueTo.String);}else{s1=this.PropertyName.PropertyPath.split("/");q1.getParameterizationRequest().setParameterValue(s1[s1.length-1],this.PropertyValue.String);}});}else if(m1){jQuery.each(m1,function(){q1.getParameterizationRequest().setParameterValue(this.path,this.value);});}else{n1="/"+j.name;jQuery.sap.log.error("SelectionParameters","There are no parameters to resolve");return n1;}}try{n1=q1.getURIToQueryResultEntitySet();}catch(t1){p1=q1.getQueryResult();n1="/"+p1.getEntitySet().getQName();jQuery.sap.log.error("getEntitySetPathWithParameters","binding path with parameters failed - "+t1||t1.message);}return n1;};
sap.ovp.cards.AnnotationHelper.getAssociationObject=function(j,k,ns){var m1=j.getServiceMetadata().dataServices.schema[0].association;for(var i=0;i<m1.length;i++){if(ns+"."+m1[i].name===k){return m1[i];}}};
function f1(i,j){var k=i.filter(function(n1){if(n1.RecordType==="com.sap.vocabularies.UI.v1.DataField"){return true;}return false;});var m1=r(k);if(m1){return m1[j];}return;}
sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField=function(i,j,k){if(!k||!k.length||k.length===0){return false;}k=f1(k,0);return e1(i,j,k);};
sap.ovp.cards.AnnotationHelper.semanticObjectOfSecondDataField=function(i,j,k){if(!k||!k.length||k.length===0){return false;}k=f1(k,1);return e1(i,j,k);};
function g1(i,j){var k=i.filter(function(n1){if(n1.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&n1.Target.AnnotationPath.indexOf("@com.sap.vocabularies.Communication.v1.Contact")!==-1){return true;}return false;});var m1=r(k);if(m1){return m1[j];}return;}
sap.ovp.cards.AnnotationHelper.isFirstContactAnnotation=function(i){if(!i||!i.length||i.length===0){return false;}var j=g1(i,0);if(j){return true;}return false;};
sap.ovp.cards.AnnotationHelper.getAggregateNumber=function(i,j,k,m1){var n1,o1,p1;if(k&&k.Value&&k.Value.Path){n1=k.Value.Path;}else if(k&&k.Description&&k.Description.Value&&k.Description.Value.Path){n1=k.Description.Value.Path;}if(k&&k.Description&&k.Description.Path){o1=k.Description.Path;}else if(k&&k.Title&&k.Title.Path){p1=k.Title.Path;}var q1="";var r1=m1&&m1.Parameters;var s1="";var t1=i.getSetting('ovpCardProperties'),u1=t1.getProperty('/parameters');r1=r1||!!u1;if(r1){var v1=i.getSetting("dataModel");var w1=sap.ovp.cards.AnnotationHelper.resolveParameterizedEntitySet(v1,j,m1,u1);q1+="{path: '"+w1+"'";}else{q1+="{path: '/"+j.name+"'";}q1+=", length: 1";var x1=i.getSetting('ovpCardProperties');var y1=x1.getProperty("/entityType");var z1=sap.ovp.cards.CommonUtils.getUnitColumn(n1,y1);var A1=sap.ovp.cards.AnnotationHelper.getFilters(x1,m1);if(A1.length>0){s1+=", filters: "+JSON.stringify(A1);}var B1=[];B1.push(n1);if(o1){B1.push(o1);}else if(p1){B1.push(p1);}if(k&&k.CriticalityCalculation&&k.CriticalityCalculation.DeviationRangeLowValue&&k.CriticalityCalculation.DeviationRangeLowValue.Path){B1.push(k.CriticalityCalculation.DeviationRangeLowValue.Path);}if(k&&k.CriticalityCalculation&&k.CriticalityCalculation.ToleranceRangeLowValue&&k.CriticalityCalculation.ToleranceRangeLowValue.Path){B1.push(k.CriticalityCalculation.ToleranceRangeLowValue.Path);}if(k&&k.CriticalityCalculation&&k.CriticalityCalculation.DeviationRangeHighValue&&k.CriticalityCalculation.DeviationRangeHighValue.Path){B1.push(k.CriticalityCalculation.DeviationRangeHighValue.Path);}if(k&&k.CriticalityCalculation&&k.CriticalityCalculation.ToleranceRangeHighValue&&k.CriticalityCalculation.ToleranceRangeHighValue.Path){B1.push(k.CriticalityCalculation.ToleranceRangeHighValue.Path);}if(z1){B1.push(z1);}if(k&&k.TrendCalculation&&k.TrendCalculation.ReferenceValue&&k.TrendCalculation.ReferenceValue.Path){B1.push(k.TrendCalculation.ReferenceValue.Path);}return q1+", parameters:{select:'"+B1.join(",")+"'}"+s1+"}";};
sap.ovp.cards.AnnotationHelper.KpiValueFormatter=function(k){if(isNaN(k)){return k;}var i,j,m1=false;if(this.oPropagatedProperties.oModels.ovpCardProperties.oData.NumberOfFractionalDigits){i=Number(this.oPropagatedProperties.oModels.ovpCardProperties.oData.NumberOfFractionalDigits);}if(this.oPropagatedProperties.oModels.ovpCardProperties.oData.percentageAvailable){m1=true;}if(!i||i<0){i=0;}else if(i>2){i=2;}j=k;if(k){var n1=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:i,maxFractionDigits:i,style:"short",showScale:true,shortRefNumber:j});if(m1){return n1.format(Number(k))+" %";}else{return n1.format(Number(k));}}};
sap.ovp.cards.AnnotationHelper.formThePathForAggregateNumber=function(i){if(!i||!i.Value||!i.Value.Path){return"";}if(i&&i.ValueFormat&&i.ValueFormat.NumberOfFractionalDigits&&i.ValueFormat.NumberOfFractionalDigits.Int){this.getModel("ovpCardProperties").oData.NumberOfFractionalDigits=i.ValueFormat.NumberOfFractionalDigits.Int;}var j=this.getModel('ovpCardProperties');var k=j.getProperty("/entityType");var m1=j.getProperty("/metaModel");var n1=m1.getODataProperty(k,i.Value.Path);if(n1["Org.OData.Measures.V1.Unit"]){var o1=n1["Org.OData.Measures.V1.Unit"];if(o1.String=="%"){this.getModel("ovpCardProperties").oData.percentageAvailable=true;}}return"{parts: [{path:'"+i.Value.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.KpiValueFormatter'}";};
sap.ovp.cards.AnnotationHelper.formThePathForTrendIcon=function(i,j){if(!j||!j.Value||!j.Value.Path||!j.TrendCalculation){return"";}var k=a1(j.Value);var m1=a1(j.TrendCalculation.ReferenceValue);var n1=a1(j.TrendCalculation.DownDifference);var o1=a1(j.TrendCalculation.UpDifference);var p1=S(m1);var q1=S(n1);var r1=S(o1);var s1="parts: ["+k;s1+=p1?","+m1:"";s1+=q1?","+n1:"";s1+=r1?","+o1:"";s1+="]";var t1=function(){var v1=1;return f(arguments[0],p1?arguments[v1++]:m1,q1?arguments[v1++]:n1,r1?arguments[v1++]:o1);};var u1=a(t1,"formatTrendDirection");return"{"+s1+", formatter: '"+u1+"'}";};
sap.ovp.cards.AnnotationHelper.formPathForPercentageChange=function(i){if(!i||!i.TrendCalculation||!i.TrendCalculation.ReferenceValue){return"";}if(i&&i.ValueFormat&&i.ValueFormat.NumberOfFractionalDigits&&i.ValueFormat.NumberOfFractionalDigits.Int){this.getModel("ovpCardProperties").oData.NumberOfFractionalDigits=i.ValueFormat.NumberOfFractionalDigits.Int;}if(i.TrendCalculation.ReferenceValue.Path){return"{parts: [{path:'"+i.Value.Path+"'}, {path:'"+i.TrendCalculation.ReferenceValue.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.returnPercentageChange'}";}else{return"{parts: [{path:'"+i.Value.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.returnPercentageChange'}";}};
sap.ovp.cards.AnnotationHelper.TargetValueFormatter=function(k,i){var j,m1,n1,o1,p1=false;if(isNaN(+k)){return"";}if(k==0){o1=i;}else{o1=k;}m1=this.getModel('ovpCardProperties');if(m1.getProperty("/iNumberOfFractionalDigits")){n1=+(m1.getProperty("/iNumberOfFractionalDigits"));}if(m1.getProperty("/bPercentageAvailableForTarget")){p1=true;}if(i){j=i;}else{if(m1.getProperty("/sManifestTargetValue")){j=m1.getProperty("/sManifestTargetValue");}}if(!n1||n1<0){n1=0;}else if(n1>2){n1=2;}if(j){var q1=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:n1,maxFractionDigits:n1,style:"short",showScale:true,shortRefNumber:o1});if(p1){return q1.format(+(j))+" %";}else{return q1.format(+(j));}}};
sap.ovp.cards.AnnotationHelper.formPathForTargetValue=function(i){if(!i||!i.TrendCalculation||!i.TrendCalculation.ReferenceValue){return"";}if(!i||!i.Value||!i.Value.Path){return"";}var j=this.getModel('ovpCardProperties');var k=j.getProperty("/entityType");var m1=j.getProperty("/metaModel");if(i&&i.ValueFormat&&i.ValueFormat.NumberOfFractionalDigits&&i.ValueFormat.NumberOfFractionalDigits.Int){j.setProperty("/iNumberOfFractionalDigits",i.ValueFormat.NumberOfFractionalDigits.Int);}if(i.TrendCalculation.ReferenceValue){if(i.TrendCalculation.ReferenceValue.String){j.setProperty("/sManifestTargetValue",i.TrendCalculation.ReferenceValue.String);return"{parts: [{path:'"+i.Value.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.TargetValueFormatter'}";}if(i.TrendCalculation.ReferenceValue.Path){var n1=m1.getODataProperty(k,i.TrendCalculation.ReferenceValue.Path);if(n1["Org.OData.Measures.V1.Unit"]){var o1=n1["Org.OData.Measures.V1.Unit"];if(o1.String=="%"){j.setProperty("/bPercentageAvailableForTarget",true);}}return"{parts: [{path:'"+i.Value.Path+"'},{path:'"+i.TrendCalculation.ReferenceValue.Path+"'}], formatter: 'sap.ovp.cards.AnnotationHelper.TargetValueFormatter'}";}}};
sap.ovp.cards.AnnotationHelper.returnPercentageChange=function(k,i){jQuery.sap.require("sap.ui.core.format.NumberFormat");var j,m1,n1;if(isNaN(+k)){return"";}k=+(k);n1=this.getModel('ovpCardProperties');if(n1.getProperty("/iNumberOfFractionalDigits")){j=+(n1.getProperty("/iNumberOfFractionalDigits"));}if(i){m1=+(i);}else{if(n1.getProperty("/sManifestTargetValue")){m1=+(n1.getProperty("/sManifestTargetValue"));}}if(!j||j<0){j=0;}else if(j>2){j=2;}if(m1){var o1=((k-m1)/m1);var p1=sap.ui.core.format.NumberFormat.getPercentInstance({style:'short',minFractionDigits:j,maxFractionDigits:j,showScale:true});return p1.format(o1);}};
sap.ovp.cards.AnnotationHelper.isPresentationVarientPresent=function(i){if(i&&i.GroupBy&&!(jQuery.isEmptyObject(i.GroupBy))&&i.GroupBy[0].hasOwnProperty('PropertyPath')){return true;}else{return false;}};
sap.ovp.cards.AnnotationHelper.listGroupBy=function(i){var j="";var k=i&&i.GroupBy;if(!k){return j;}var m1=this.getModel('ovpCardProperties').getProperty("/metaModel");var n1=this.getModel('ovpCardProperties').getProperty("/entityType");var o1;if(i.GroupBy.constructor===Array){o1=i.GroupBy;}else if(!i.GroupBy.Collection){return j;}else{o1=i.GroupBy.Collection;}var p1;jQuery.each(o1,function(){p1=j1(m1,n1,this.PropertyPath);if(!p1){return;}j+=p1;j+=", ";});if(j[j.length-1]===" "&&j[j.length-2]===","){j=j.substring(0,j.length-2);}return j==""?"":sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("By",[j]);};
sap.ovp.cards.AnnotationHelper.formTheFilterByString=function(i,j,k){var m1=true;var n1=k["SelectOptions"].length-1;if(j.PropertyName.PropertyPath===k["SelectOptions"][n1].PropertyName.PropertyPath){m1=false;}j=[j];var o1=i.getSetting('ovpCardProperties');var p1=o1.getProperty("/entityType");var q1=o1.getProperty("/metaModel");var r1=sap.ovp.cards.AnnotationHelper.getFilters(o1,j);if(r1.length==0){return"";}var s1;var t1;s1=r1[0].path;t1=k1(q1,p1,s1);if(t1!==s1){return"";}var u1=h1(r1);if(m1===true){return u1+", ";}return u1;};
sap.ovp.cards.AnnotationHelper.formTheFilterByStringNotFromSelVar=function(i,j,k){var m1=!(j.index===(k.length-1));var n1=h1([k[j.index]]);if(m1===true){return n1+", ";}return n1;};
sap.ovp.cards.AnnotationHelper.formTheIdForFilter=function(i){return i.id;};
sap.ovp.cards.AnnotationHelper.formTheIdForFilterNotFromSelVar=function(i){return i.id;};
function h1(j){var k=[];for(var i=0;i<j.length;i++){k.push(i1(j[i]));}return k.join(', ');}
function i1(i){var j=false;var k=i.value1;if(i.operator[0]==="N"){j=true;}if(i.value2){k+=" - "+i.value2;}if(j){k=sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("kpiHeader_Filter_NotOperator",[k]);}return k;}
function j1(i,j,k){return l1(i,j,k,"com.sap.vocabularies.Common.v1.Label");}
function k1(i,j,k){return l1(i,j,k,"sap:text");}
function l1(i,j,k,m1){var n1=i.getODataProperty(j,k);if(!n1){jQuery.sap.log.error("No Property Found for with Name '"+k+" For Entity-Type '"+j.name+"'");return;}var o1=n1[m1];if(o1){if(m1==="com.sap.vocabularies.Common.v1.Label"){return o1.String;}return o1;}return n1.name;}
sap.ovp.cards.AnnotationHelper._criticality2state=c;sap.ovp.cards.AnnotationHelper._calculateCriticalityState=d;sap.ovp.cards.AnnotationHelper._calculateTrendDirection=f;sap.ovp.cards.AnnotationHelper._getPropertiesFromBindingString=W;sap.ovp.cards.AnnotationHelper.sortCollectionByImportance=r;sap.ovp.cards.AnnotationHelper.formatterGeo.requiresIContext=true;sap.ovp.cards.AnnotationHelper.analyticRegions.requiresIContext=true;sap.ovp.cards.AnnotationHelper.criticalityType.requiresIContext=true;sap.ovp.cards.AnnotationHelper.labelText.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatField.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formThePathForTrendIcon.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formTheFilterByString.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formTheFilterByStringNotFromSelVar.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getAggregateNumber.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getFirstDataFieldName.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getSecondDataFieldName.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getThirdDataFieldName.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getFourthDataFieldName.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getFifthDataFieldName.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatDataPointOrField.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatDataFieldValueOnIndex.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getDataPointsCount.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getFirstDataPointName.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getSecondDataPointName.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getThirdDataPointName.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatDataPointValueOnIndex.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatFirstDataPointState.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatFirstDataPointColor.requiresIContext=true;sap.ovp.cards.AnnotationHelper.colorPaletteForComparisonMicroChart.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatSecondDataPointState.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatThirdDataPointState.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatFirstDataPointStateForSmartField.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatKPIHeaderState.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatItems.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatUrl.requiresIContext=true;sap.ovp.cards.AnnotationHelper.hasActions.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getFirstDataPointValue.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatImageUrl.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getSecondDataPointValue.requiresIContext=true;sap.ovp.cards.AnnotationHelper.isFirstDataPointPercentageUnit.requiresIContext=true;sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticality.requiresIContext=true;sap.ovp.cards.AnnotationHelper.isFirstDataPointCriticalityForTableStatus.requiresIContext=true;sap.ovp.cards.AnnotationHelper.isSecondDataPointCriticality.requiresIContext=true;sap.ovp.cards.AnnotationHelper.isThirdDataPointCriticality.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatDataFieldValueGeneric.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatDataPointValue.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatDataPointStateGeneric.requiresIContext=true;sap.ovp.cards.AnnotationHelper.checkCriticalityGeneric.requiresIContext=true;sap.ovp.cards.AnnotationHelper.checkCriticalityGenericForTableStatus.requiresIContext=true;sap.ovp.cards.AnnotationHelper.removeDuplicateDataField.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatDataPointStateForSmartFieldGeneric.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatsemanticObjectOfDataFieldGeneric.requiresIContext=true;sap.ovp.cards.AnnotationHelper.semanticObjectOfFirstDataField.requiresIContext=true;sap.ovp.cards.AnnotationHelper.semanticObjectOfSecondDataField.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getSortedDataPoints.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getSortedDataFields.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getLabelForDataItem.requiresIContext=true;sap.ovp.cards.AnnotationHelper.getLabelForFirstDataPoint.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatObjectNumber.requiresIContext=true;sap.ovp.cards.AnnotationHelper.formatUnit.requiresIContext=true;}());
},
	"sap/ovp/cards/linklist/AnnotationHelper.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ovp.cards.linklist.AnnotationHelper");sap.ovp.cards.linklist.AnnotationHelper={};
function g(o){var s=[];var S,d;var p=o.getProperty("/sortBy");if(p){var b=o.getProperty("/sortOrder");if(b&&b.toLowerCase()!=="descending"){d=false;}else{d=true;}S={path:p,descending:d};s.push(S);}return s;}
function a(o,s){var f=[];var c=o.getProperty("/filters");if(c){f=f.concat(c);}var S=s&&s.SelectOptions;var b,p,r;if(S){for(var i=0;i<S.length;i++){b=S[i];p=b.PropertyName.PropertyPath;for(var j=0;j<b.Ranges.length;j++){r=b.Ranges[j];if(r.Sign.EnumMember){var F={path:p,operator:r.Option.EnumMember.split("/")[1],value1:sap.ovp.cards.AnnotationHelper.getPrimitiveValue(r.Low),value2:sap.ovp.cards.AnnotationHelper.getPrimitiveValue(r.High),sign:r.Sign.EnumMember==="com.sap.vocabularies.UI.v1.SelectionRangeSignType/I"?"I":"E"};if(F.sign==="E"&&F.operator!==sap.ui.model.FilterOperator.EQ){jQuery.sap.log.error("Exclude sign is supported only with EQ operator");continue;}if(F.sign==="E"&&F.operator===sap.ui.model.FilterOperator.EQ){F.operator=sap.ui.model.FilterOperator.NE;F.sign="I";}if(F.operator==="CP"&&F.sign==="I"){var I=sap.ui.model.FilterOperator.Contains;var v=F.value1;if(v){var n=v.indexOf('*');var d=v.lastIndexOf('*');if(n>-1){if((n===0)&&(d!==(v.length-1))){I=sap.ui.model.FilterOperator.EndsWith;v=v.substring(1,v.length);}else if((n!==0)&&(d===(v.length-1))){I=sap.ui.model.FilterOperator.StartsWith;v=v.substring(0,v.length-1);}else{v=v.substring(1,v.length-1);}}}F.operator=I;F.value1=v;}f.push(F);}}}}return f;}
sap.ovp.cards.linklist.AnnotationHelper.formatItems=function(c,e,h){var m=c.getSetting("ovpCardProperties");var M=m.getProperty("/metaModel");var E=M.getODataEntityType(e.entityType);var s="/"+e.name;var S=E[m.getProperty("/selectionAnnotationPath")];var i;var l=m.getProperty("/layoutDetail");if(l==='resizable'){var C=m.getProperty("/cardLayout");if(C){if(m.getProperty("/listFlavor")==="standard"){var t="";for(var b in h){t+=b;}var r=m.getProperty("/cardLayout/iRowHeigthPx");if(r===undefined){r=16;}var I;if(m.getProperty("/densityStyle")==="cozy"){I=72;if((t.indexOf("Description")===-1)&&((t.indexOf("Title")>0&&t.indexOf("ImageUrl")>0)||(t.indexOf("Title")>0&&t.indexOf("TypeImageUrl")>0))){I=56;}else if((t.indexOf("Description")===-1)&&t.indexOf("Title")>0){I=48;}}else{I=60;if((t.indexOf("Description")===-1)&&((t.indexOf("Title")>0&&t.indexOf("ImageUrl")>0)||(t.indexOf("Title")>0&&t.indexOf("TypeImageUrl")>0))){I=48;}else if((t.indexOf("Description")===-1)&&t.indexOf("Title")>0){I=40;}}m.setProperty('/cardLayout/itemHeight',I);if(!m.getProperty("/defaultSpan")&&m.getProperty("/cardLayout/autoSpan")){i=m.getProperty("/cardLayout/noOfItems");var d=Math.ceil((i*I+m.getProperty("/cardLayout/headerHeight")+2*m.getProperty("/cardLayout/iCardBorderPx"))/r);m.setProperty("/cardLayout/noOfItems",d);}else{var f=Math.floor(((C.rowSpan*r)-m.getProperty("/cardLayout/headerHeight")-2*m.getProperty("/cardLayout/iCardBorderPx")));i=Math.floor(f/I)*C.colSpan;}}}}else{i=6;}var o=c.getSetting('ovpCardProperties'),p=o.getProperty('/parameters');if(S||!!p){if((S&&S.Parameters)||!!p){s=sap.ovp.cards.AnnotationHelper.resolveParameterizedEntitySet(c.getSetting("dataModel"),e,S,p);}}var j="{path: '"+s+"', length: "+i;var k=g(m);if(k.length>0){j=j+", sorter:"+JSON.stringify(k);}var F=a(m,S);if(F.length>0){j=j+", filters:"+JSON.stringify(F);}j=j+"}";return j;};
sap.ovp.cards.linklist.AnnotationHelper.formatUrl=function(c,u){var b=c.getModel().getProperty("/baseUrl");return sap.ovp.cards.linklist.AnnotationHelper.formUrl(b,u);};
sap.ovp.cards.linklist.AnnotationHelper.isImageUrl=function(i,d){var I=true;var o=sap.ui.model.odata.AnnotationHelper.format(i,d);if(o.toLowerCase().indexOf("icon")>0){I=false;}return I;};
sap.ovp.cards.linklist.AnnotationHelper.isImageUrlStaticData=function(d){var i=true;if(!d){return null;}else if(d.toLowerCase().indexOf("icon")>0){i=false;}return i;};
sap.ovp.cards.linklist.AnnotationHelper.isValidURL=function(u){var p=new RegExp("((http|https)(:\/\/))?([a-zA-Z0-9]+[.]{1}){2}[a-zA-z0-9]+(\/{1}[a-zA-Z0-9]+)*\/?","i");return p.test(u);};
sap.ovp.cards.linklist.AnnotationHelper.getIconPath=function(t){var i;if(t.hasOwnProperty("Path")){i="{"+t.Path+"}";}else{i=t.String;}return i;};
sap.ovp.cards.linklist.AnnotationHelper.formatString=function(o){var p="{"+o.String+"}";return p;};
sap.ovp.cards.linklist.AnnotationHelper.linkedAction=function(A){if(A){return 1;}return 0;};
sap.ovp.cards.linklist.AnnotationHelper.formUrl=function(b,u){if(!u){return undefined;}else if(u.lastIndexOf(b,0)===0||u.indexOf("://")>0){return u;}else if(u.lastIndexOf("/",0)===0){return b+u;}else{return b+"/"+u;}};
sap.ovp.cards.linklist.AnnotationHelper.isVisible=function(i,s,v){var f;if(typeof v==="object"){f=v[i];}else{f=(typeof v==="boolean")?v:true;}return!s[i]&&f;};
sap.ovp.cards.linklist.AnnotationHelper.getApplicationName=function(l,s,b){var n="";if(l){if(s&&b){n="#"+s+"-"+b;for(var i=0;i<l.length;i++){if(l[i].value===n){return l[i].name;}}n="";}else{return l[0].name;}}return n;};
sap.ovp.cards.linklist.AnnotationHelper.getImageUrl=function(c,i){return sap.ovp.cards.linklist.AnnotationHelper.formUrl(c.baseUrl,i);};
sap.ovp.cards.linklist.AnnotationHelper.staticContentWithLength=function(p){var P="{"+p+", length:3}";return P;};
sap.ovp.cards.linklist.AnnotationHelper.contentRowIndex=function(r){return this.getModel("contentRow").aBindings[0].getContext().getPath().replace("/staticContent/","");};
sap.ovp.cards.linklist.AnnotationHelper.isImageUrl.requiresIContext=true;sap.ovp.cards.linklist.AnnotationHelper.formatItems.requiresIContext=true;sap.ovp.cards.linklist.AnnotationHelper.formatUrl.requiresIContext=true;}());
},
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5/OpenUI5)
 * (c) Copyright 2009-2014 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
	"sap/ovp/ui/ObjectStream.js":function(){jQuery.sap.require("sap.ui.core.delegate.ScrollEnablement");sap.ui.define(['jquery.sap.global','sap/ui/Device'],function(q,D){"use strict";var _=null;var K=function(o){this.init(o);};
K.prototype.init=function(o){this.objectStream=o;this.keyCodes=q.sap.KeyCodes;this.jqElement=o.$();this.jqElement.on('keydown.keyboardNavigation',this.keydownHandler.bind(this));this.jqElement.on("focus.keyboardNavigation",".sapOvpObjectStreamItem",this.ObjectStreamFocusAccessabilityHandler.bind(this));};
K.prototype.destroy=function(){if(this.jqElement){this.jqElement.off(".keyboardNavigation");}delete this.jqElement;delete this.objectStream;};
K.prototype._swapItemsFocus=function(e,j,a){e.preventDefault();j.attr("tabindex","-1");a.attr("tabindex","0").focus();};
K.prototype.ObjectStreamFocusAccessabilityHandler=function(){var f=document.activeElement;f=q(f);if(f){var l=f.find("[aria-label]");var i,a="";for(i=0;i<l.length;i++){if(l[i].getAttribute("role")=="heading"){a+=l[i].id+" ";}}if(a.length){f.attr("aria-labelledby",a);}if(f.hasClass('sapOvpCardHeader')){f.closest('.sapOvpObjectStreamItem').removeAttr("aria-labelledby");}}};
K.prototype.tabButtonHandler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamItem")){return;}if(j.hasClass("sapOvpObjectStreamClose")){e.preventDefault();this.jqElement.find(".sapOvpObjectStreamItem:sapTabbable").focus();return;}var a=j.closest(".sapOvpObjectStreamItem");if(!a.length){return;}var b=a.find(":sapTabbable");if(b.eq(b.length-1).is(j)){e.preventDefault();this.jqElement.find("a.sapOvpObjectStreamHeader").focus();}};
K.prototype.shiftTabButtonHandler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamItem")){e.preventDefault();this.jqElement.find(".sapOvpObjectStreamClose").focus();}if(j.hasClass("sapOvpObjectStreamClose")){e.preventDefault();this.jqElement.find('a.sapOvpObjectStreamHeader').focus();}if(j.hasClass("sapOvpObjectStreamHeader")){e.preventDefault();this.jqElement.find(".sapOvpObjectStreamItem:sapTabbable *:sapTabbable").last().focus();return;}};
K.prototype.enterHandler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamClose")){e.preventDefault();this.objectStream.getParent().close();if(_){_.focus();}return;}if(j.hasClass("sapOvpObjectStreamItem")&&!j.next().length){j.children().click();return;}};
K.prototype.f6Handler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamClose")){this.jqElement.find('.sapOvpObjectStreamItem').attr("tabindex","-1").first().attr("tabindex","0").focus();}else{this.jqElement.find('.sapOvpObjectStreamClose').focus();}};
K.prototype.f7Handler=function(e){var j=q(document.activeElement);if(j.hasClass("sapOvpObjectStreamItem")){j.find(':sapTabbable').first().focus();}else{j.closest('.sapOvpObjectStreamItem').focus();}e.preventDefault();};
K.prototype.leftRightHandler=function(e,i){var n=i?"next":"prev";var j=q(document.activeElement);if(!j.hasClass("sapOvpObjectStreamItem")){return false;}var a=j[n]();if(!a.length){return;}this._swapItemsFocus(e,j,a);};
K.prototype.homeEndHandler=function(e,i){var n=i?"first":"last";var j=q(document.activeElement);if(!j.hasClass("sapOvpObjectStreamItem")){return false;}e.preventDefault();var a=this.jqElement.find(".sapOvpObjectStreamItem")[n]();this._swapItemsFocus(e,j,a);};
K.prototype.pageUpDownHandler=function(e,i){var n=i?"prev":"next";var j=q(document.activeElement);if(!j.hasClass("sapOvpObjectStreamItem")){return;}if(!j[n]().length){return;}var a=false;var c=j;var w=q(window).width();while(!a){var b=c[n]();if(!b.length){a=c;break;}if(!i&&b.offset().left>w){a=b;break;}if(i&&(b.offset().left+b.outerHeight())<=0){a=b;break;}c=b;}this._swapItemsFocus(e,j,a);};
K.prototype.keydownHandler=function(e){switch(e.keyCode){case this.keyCodes.TAB:(e.shiftKey)?this.shiftTabButtonHandler(e):this.tabButtonHandler(e);break;case this.keyCodes.ENTER:case this.keyCodes.SPACE:this.enterHandler(e);break;case this.keyCodes.F6:this.f6Handler(e);break;case this.keyCodes.F7:this.f7Handler(e);break;case this.keyCodes.ARROW_UP:case this.keyCodes.ARROW_LEFT:this.leftRightHandler(e,false);break;case this.keyCodes.ARROW_DOWN:case this.keyCodes.ARROW_RIGHT:this.leftRightHandler(e,true);break;case this.keyCodes.HOME:this.homeEndHandler(e,true);break;case this.keyCodes.END:this.homeEndHandler(e,false);break;case this.keyCodes.PAGE_UP:this.pageUpDownHandler(e,true);break;case this.keyCodes.PAGE_DOWN:this.pageUpDownHandler(e,false);break;}};
var O=sap.ui.core.Control.extend("sap.ovp.ui.ObjectStream",{metadata:{library:"sap.ovp",aggregations:{content:{type:"sap.ui.core.Control",multiple:true},placeHolder:{type:"sap.ui.core.Control",multiple:false},title:{type:"sap.ui.core.Control",multiple:false}}}});
O.prototype.init=function(){var t=this;this._closeIcon=new sap.ui.core.Icon({src:"sap-icon://decline",tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.ovp").getText("close")});this._closeIcon.addEventDelegate({onclick:function(){t.getParent().close();}});};
O.prototype._startScroll=function(d){this._direction=d;var a=this.wrapper.scrollWidth-this.wrapper.offsetWidth-Math.abs(this.wrapper.scrollLeft);var l;if(d=="left"){l=(this.rtl&&!this.scrollReverse)?a:this.wrapper.scrollLeft;if(l<=0){return;}this.jqRightEdge.css("opacity",1);}else{l=(this.rtl&&!this.scrollReverse)?Math.abs(this.wrapper.scrollLeft):a;if(l<=0){return;}this.jqLeftEdge.css("opacity",1);}var b=l*3;var t=(d=="left")?l:~l+1;q(this.container).one("transitionend",function(){this._mouseLeave({data:this});}.bind(this));this.container.style.transition='transform '+b+'ms linear';this.container.style.transform='translate('+t+'px, 0px) scale(1) translateZ(0px) ';};
O.prototype._mouseLeave=function(e){var c=window.getComputedStyle(e.data.container).transform;e.data.container.style.transform=c;e.data.container.style.transition='';this.rtl=sap.ui.getCore().getConfiguration().getRTL();var t;var a=c.split(",");if(c.substr(0,8)=="matrix3d"){t=parseInt(a[12],10);}else if(c.substr(0,6)=="matrix"){t=parseInt(a[4],10);}if(isNaN(t)){return;}e.data.container.style.transform="none";if(D.browser.msie){t=this.rtl?~t:t;}e.data.wrapper.scrollLeft+=~t+(e.data._direction=="left"?-5:5);e.data._checkEdgesVisibility();};
var s;
O.prototype.debounceScrollHandler=function(){window.clearTimeout(s);s=window.setTimeout(this._checkEdgesVisibility.bind(this),150);};
O.prototype._initScrollVariables=function(){var j=this.$();this.container=j.find(".sapOvpObjectStreamScroll").get(0);this.rtl=sap.ui.getCore().getConfiguration().getRTL();this.wrapper=j.find(".sapOvpObjectStreamCont").get(0);this.scrollReverse=this.scrollReverse||this.wrapper.scrollLeft>0;this.shouldShowScrollButton=(!sap.ui.Device.system.phone&&!sap.ui.Device.system.tablet)||sap.ui.Device.system.combi;this.jqRightEdge=j.find(".sapOvpOSEdgeRight");this.jqLeftEdge=j.find(".sapOvpOSEdgeLeft");if(this.shouldShowScrollButton){this.jqRightEdge.add(this.jqLeftEdge).on("mouseenter.objectStream",this,this._mouseEnter).on("mouseleave.objectStream",this,this._mouseLeave);q(this.wrapper).on("scroll.objectStream",this.debounceScrollHandler.bind(this));}else{this.jqLeftEdge.css("display","none");this.jqRightEdge.css("display","none");}this._checkEdgesVisibility();};
O.prototype._afterOpen=function(){if(sap.ui.Device.os.ios&&this.$().length){this.$().on("touchmove.scrollFix",function(e){e.stopPropagation();});}var o=this.$().find('a.sapOvpObjectStreamHeader');o.removeAttr('aria-describedby');o.removeAttr('href');var l=o.attr('id');o.parent('div').attr('aria-labelledby',l);o.focus();if(this.keyboardNavigation){this.keyboardNavigation.destroy();}this.keyboardNavigation=new K(this);this._initScrollVariables();this.jqBackground=q("<div id='objectStreamBackgroundId' class='objectStreamNoBackground'></div>");q.sap.byId("sap-ui-static").prepend(this.jqBackground);this.jqBackground.on('click.closePopup',function(){this._oPopup.close();}.bind(this));q(".sapUshellEasyScanLayout").addClass("bluredLayout");var c=this.$().find('.sapOvpObjectStreamItem');for(var i=0;i<c.length;i++){var f=q(c[i]).find('.sapOvpActionFooter');if(f.find('button').length==0){f.attr('tabindex','-1');}}};
O.prototype._beforeClose=function(){if(sap.ui.Device.os.ios&&this.$().length){this.$().off(".scrollFix");}this.keyboardNavigation.destroy();this.jqBackground.remove();this.jqLeftEdge.add(this.jqRightEdge).add(this.wrapper).off(".objectStream");q(".sapUshellEasyScanLayout").removeClass("bluredLayout");this._oPopup=undefined;};
O.prototype._mouseEnter=function(e){var a='right';if((e.target==e.data.jqRightEdge.get(0))||(e.currentTarget==e.data.jqRightEdge.get(0))){a=sap.ui.getCore().getConfiguration().getRTL()?'left':'right';}if((e.target==e.data.jqLeftEdge.get(0))||(e.currentTarget==e.data.jqLeftEdge.get(0))){a=sap.ui.getCore().getConfiguration().getRTL()?'right':'left';}e.data._startScroll(a);};
O.prototype._checkEdgesVisibility=function(){var a=this.wrapper.scrollLeft;var l=this.wrapper.scrollWidth-this.wrapper.offsetWidth-this.wrapper.scrollLeft;var b=(a==0)?0:1;var r=(l==0)?0:1;if(sap.ui.getCore().getConfiguration().getRTL()&&this.scrollReverse){this.jqLeftEdge.css("opacity",r);this.jqRightEdge.css("opacity",b);this.jqRightEdge.css("z-index",(b===0)?0:1);}else{this.jqLeftEdge.css("opacity",b);this.jqRightEdge.css("opacity",r);this.jqRightEdge.css("z-index",(r===0)?0:1);}};
O.prototype._createPopup=function(){this._oPopup=new sap.m.Dialog({showHeader:false,afterOpen:this._afterOpen.bind(this),beforeClose:this._beforeClose.bind(this),content:[this],stretch:sap.ui.Device.system.phone}).removeStyleClass("sapUiPopupWithPadding").addStyleClass("sapOvpStackedCardPopup");this._oPopup.oPopup.setModal(false);};
O.prototype.open=function(c,a){if(!this._oPopup){this._createPopup();}this._cardWidth=c;_=a;this.setCardsSize(this._cardWidth);this._oPopup.open();};
O.prototype.onBeforeRendering=function(){var c=this.getBinding("content");var p=this.getPlaceHolder();if(c&&c.getLength()<=20){this.setPlaceHolder(null);if(p){p.destroy();}}};
O.prototype.onAfterRendering=function(){if(!this._oPopup||!this._oPopup.isOpen()||!this.getContent().length){return;}this.setCardsSize(this._cardWidth);setTimeout(function(){this._initScrollVariables();}.bind(this));};
O.prototype.exit=function(){if(this._oPopup){this._oPopup.destroy();}this._closeIcon.destroy();if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}};
O.prototype.setCardsSize=function(c){var r=parseInt(window.getComputedStyle(document.documentElement).fontSize,10);var a=sap.ui.Device.system.phone?document.body.clientHeight/r-4.5:28.75;var b=this.getContent();b.map(function(C){C.setWidth(c+"px");C.setHeight(a+"rem");});var p=this.getPlaceHolder();if(p){p.setWidth(c+"px");p.setHeight(a+"rem");}};
O.prototype.updateContent=function(r){var b=this.mBindingInfos["content"],B=b.binding,a=B.getContexts(b.startIndex,b.length);if(r==="change"){var f=b.factory,i=0,I=this.getContent(),c=q.proxy(function(C){var d=this.getId()+"-"+q.sap.uid(),o=f(d,C);o.setBindingContext(C,b.model);this.addContent(o);},this);for(i=0;i<a.length;++i){if(i<I.length){I[i].setBindingContext(a[i],b.model);}else{c(a[i]);}}if(I.length>a.length){for(;i<I.length;++i){I[i].destroy();}I.length=a.length;}}};
return O;},true);
}
}});
//# sourceMappingURL=library-preload.js.map