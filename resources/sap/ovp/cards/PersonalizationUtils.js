/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define(['jquery.sap.global',],function(q){"use strict";function a(C,f){f.every(function(o){if(o.id===C.cardId){o.selectedKey=C.selectedKey;return false;}return true;});return f;}function b(C,f){f.every(function(o){if(o.id===C.cardId){o.visibility=C.visibility;return false;}return true;});return f;}function c(C,f){var i=[];var v,t;v=f.filter(function(o){return o.visibility;});f.forEach(function(o,I){if(!o.visibility){i.push({card:o,index:I});}});if(!v[C.oldPosition]||!v[C.position]){return f;}t=v[C.oldPosition];v[C.oldPosition]=v[C.position];v[C.position]=t;i.forEach(function(I){v.splice(I.index,0,I.card);});f=v;return f;}function d(C,f){f.every(function(o){if(o.id===C.cardId){Object.keys(C.dashboardLayout).forEach(function(k){if(!o.dashboardLayout[k]){o.dashboardLayout[k]={};}if(C.dashboardLayout[k].rowSpan){o.dashboardLayout[k].rowSpan=C.dashboardLayout[k].rowSpan;}if(C.dashboardLayout[k].colSpan){o.dashboardLayout[k].colSpan=C.dashboardLayout[k].colSpan;}if(C.dashboardLayout[k].maxColSpan){o.dashboardLayout[k].maxColSpan=C.dashboardLayout[k].maxColSpan;}if(C.dashboardLayout[k].noOfItems){o.dashboardLayout[k].noOfItems=C.dashboardLayout[k].noOfItems;}if(C.dashboardLayout[k].hasOwnProperty('autoSpan')){o.dashboardLayout[k].autoSpan=C.dashboardLayout[k].autoSpan;}if(C.dashboardLayout[k].row){o.dashboardLayout[k].row=C.dashboardLayout[k].row;}if(C.dashboardLayout[k].column){o.dashboardLayout[k].col=C.dashboardLayout[k].column;}if(C.dashboardLayout[k].hasOwnProperty('showOnlyHeader')){o.dashboardLayout[k].showOnlyHeader=C.dashboardLayout[k].showOnlyHeader;}});return false;}return true;});return f;}function m(C,D){if(!Array.isArray(D)||!C){return C;}var M=[];C.forEach(function(o){var f={};Object.keys(o).forEach(function(k){f[k]=o[k];}.bind(this));M.push(f);});D.forEach(function(o){switch(o.getChangeType()){case"viewSwitch":M=a(o.getContent(),M);break;case"visibility":M=b(o.getContent(),M);break;case"position":M=c(o.getContent(),M);break;case"dragOrResize":M=d(o.getContent(),M);break;default:break;}});return M;}function e(M,D){var f=M.filter(function(o){var h=false;D.forEach(function(g){if(o.id===g.id){h=true;return;}});return!h;});return D.concat(f);}var p={mergeChanges:m,addMissingCardsFromManifest:e};return p;},true);
