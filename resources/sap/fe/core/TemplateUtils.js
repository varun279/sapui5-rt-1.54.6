/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["jquery.sap.global","sap/ui/base/Object","sap/fe/controller/ActionController","sap/fe/controller/NavigationController","sap/fe/core/MessageUtils","sap/fe/core/CommonUtils","sap/ui/core/routing/HashChanger"],function(q,B,A,N,M,C,H){"use strict";function g(t){function a(){if(!t.oMessageUtils){t.oMessageUtils=new M(this);}return t.oMessageUtils;}function b(){if(!t.oActionController){t.oActionController=new A(this);}return t.oActionController;}function c(){if(!t.oNavigationController){t.oNavigationController=new N(t,this);}return t.oNavigationController;}function d(){if(!t.oCommonUtils){t.oCommonUtils=new C(this);}return t.oCommonUtils;}function e(T,p){var r;if(p){r=p.constructor===Array?p:[p];}var R=sap.ui.getCore().getLibraryResourceBundle("sap.fe");return R.getText(T,r);}function f(i){var l=t.oAppStateModel.getProperty("/"+i);if(l){return JSON.parse(l);}}function s(i,D){t.oAppStateModel.setProperty("/"+i,JSON.stringify(D));var o=t.oAppStateModel.getProperty("/");t.oAppState=sap.ushell.Container.getService("CrossApplicationNavigation").createEmptyAppState(t.oAppComponent);var l=k();var m=l.getAppHash();var p=m.split("?");var n=p[0];n+="?iAppState="+t.oAppState.getKey();l.replaceHash(n);t.oAppState.setData(o);t.oAppState.save().fail(function(){});}function h(i){t.aAppStateChangedListener.push(i);}function j(l){for(var i=0;i<t.aAppStateChangedListener.length;i++){if(t.aAppStateChangedListener[i]===l){t.aAppStateChangedListener.splice(i,1);}}}function k(){if(!t.oHashChanger){t.oHashChanger=H.getInstance();}return t.oHashChanger;}return{getText:e,getActionController:b,getNavigationController:c,getMessageUtils:a,getCommonUtils:d,getBusyHelper:function(){return t.oBusyHelper;},getAppStateContainer:f,setAppStateContainer:s,attachAppStateChanged:h,detachAppStateChanged:j,getAppStateLoaded:function(){return t.oInnerAppStatePromise;},getHashChanger:k};}return B.extend("sap.fe.core.TemplateUtils.js",{constructor:function(t){q.extend(this,g(t));}});});
