sinaDefine(['../../core/core'],function(c){var S=c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},split:function(t){var s=t.lastIndexOf(' ');if(s<0){return{searchTerm:null,suggestionTerm:t};}var a=t.slice(0,s);a=a.replace(/\s+$/,"");if(a.length===0){return{searchTerm:null,suggestionTerm:t};}var b=t.slice(s);b=b.replace(/^\s+/,"");if(b.length===0){return{searchTerm:null,suggestionTerm:t};}return{searchTerm:a,suggestionTerm:b};},concatenate:function(s,a){var t=this;if(!s.searchTerm){return;}var b;var d=[];var e=s.searchTerm.split(' ');for(var k=0;k<e.length;k++){b=e[k];b=b.trim();d.push({term:b,regExp:new RegExp(this.escapeRegExp(b),'i')});}for(var i=0;i<a.length;++i){var f=a[i];var n=[];for(var j=0;j<d.length;++j){var g=d[j];if(!g.regExp.test(f.filter.searchTerm)){n.push(g.term);}}var p=[];var h=n.join(' ');for(var l=0;l<n.length;l++){b=n[l];p.push('<b>'+b+'</b>');}p=p.join(' ');f.label=p+' '+f.label;f.filter.searchTerm=h+' '+f.filter.searchTerm;this.concatenate(s,f.childSuggestions);}},escapeRegExp:function(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}});return{split:function(p,t){var s=new S(p,t);return s.split(t);},concatenate:function(p,s,a){var b=new S(p);return b.concatenate(s,a);}};});
