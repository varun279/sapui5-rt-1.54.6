// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(['sap/ui/core/UIComponent'],function(U){"use strict";var A=U.extend("sap.ushell.components.applicationIntegration.API",{metadata:{version:"1.54.6",dependencies:{version:"1.54.6",libs:["sap.ui.core","sap.m"],components:[]}}});A.prototype.createContent=function(){this.oShellModel=sap.ushell.components.applicationIntegration.AppLifeCycle;};A.prototype.createExtendedShellState=function(s,c){return this.oShellModel.createExtendedShellState(s,c);};A.prototype.applyExtendedShellState=function(s,c){this.oShellModel.applyExtendedShellState(s,c);};A.prototype.showLeftPaneContent=function(i,c,s){if(typeof i==="string"){this.oShellModel.addLeftPaneContent([i],c,s);}else{this.oShellModel.addLeftPaneContent(i,c,s);}};A.prototype.showHeaderItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.addHeaderItem([i],c,s);}else{this.oShellModel.addHeaderItem(i,c,s);}};A.prototype.showRightFloatingContainerItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.addRightFloatingContainerItem([i],c,s);}else{this.oShellModel.addRightFloatingContainerItem(i,c,s);}};A.prototype.showRightFloatingContainer=function(s){this.oShellModel.showRightFloatingContainer(s);};A.prototype.showToolAreaItem=function(i,c,s){this.oShellModel.addToolAreaItem(i,c,s);};A.prototype.showActionButton=function(i,c,s,I){var b=[],a=[],B;if(typeof i==="string"){i=[i];}b=i.filter(function(d){B=sap.ui.getCore().byId(d);return B instanceof sap.m.Button&&!(B instanceof sap.ushell.ui.launchpad.ActionItem);});a=i.filter(function(d){B=sap.ui.getCore().byId(d);return B instanceof sap.ushell.ui.launchpad.ActionItem;});if(b.length){this.convertButtonsToActions(b,c,s,I);}if(a.length){this.oShellModel.addActionButton(a,c,s,I);}this.toggleOverFlowActions();};A.prototype.showFloatingActionButton=function(i,c,s){if(typeof i==="string"){this.oShellModel.addFloatingActionButton([i],c,s);}else{this.oShellModel.addFloatingActionButton(i,c,s);}};A.prototype.showHeaderEndItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.addHeaderEndItem([i],c,s);}else{this.oShellModel.addHeaderEndItem(i,c,s);}};A.prototype.setHeaderVisibility=function(v,c,s){this.oShellModel.setHeaderVisibility(v,c,s);};A.prototype.showSubHeader=function(i,c,s){if(typeof i==="string"){this.oShellModel.addSubHeader([i],c,s);}else{this.oShellModel.addSubHeader(i,c,s);}};A.prototype.showSignOutItem=function(c,s){this.oShellModel.showSignOutButton(c,s);};A.prototype.showSettingsItem=function(c,s){this.oShellModel.showSettingsButton(c,s);};A.prototype.hideHeaderItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeHeaderItem([i],c,s);}else{this.oShellModel.removeHeaderItem(i,c,s);}};A.prototype.removeToolAreaItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeToolAreaItem([i],c,s);}else{this.oShellModel.removeToolAreaItem(i,c,s);}};A.prototype.removeRightFloatingContainerItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeRightFloatingContainerItem([i],c,s);}else{this.oShellModel.removeRightFloatingContainerItem(i,c,s);}};A.prototype.hideActionButton=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeActionButton([i],c,s);}else{this.oShellModel.removeActionButton(i,c,s);}this.toggleOverFlowActions();};A.prototype.toggleOverFlowActions=function(){jQuery.sap.measure.start("FLP:Shell.controller.toggleMeAreaView","show or hide actionbox if no actions in me area","FLP");var m=sap.ui.getCore().byId('meArea');var B={};try{if(m){if(m.actionBox){if(m.actionBox._getControlsIds().length===0){sap.ui.getCore().byId('overflowActions').setVisible(false);}else{m.actionBox._getControlsIds().forEach(function(a){var b=sap.ui.getCore().byId(a);if(b.getVisible()){throw B;}});sap.ui.getCore().byId('overflowActions').setVisible(false);}}}}catch(e){if(e!==B){throw e;}else{sap.ui.getCore().byId('overflowActions').setVisible(true);}}jQuery.sap.measure.end("FLP:Shell.controller.toggleMeAreaView");};A.prototype.hideLeftPaneContent=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeLeftPaneContent([i],c,s);}else{this.oShellModel.removeLeftPaneContent(i,c,s);}};A.prototype.hideFloatingActionButton=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeFloatingActionButton([i],c,s);}else{this.oShellModel.removeFloatingActionButton(i,c,s);}};A.prototype.hideHeaderEndItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeHeaderEndItem([i],c,s);}else{this.oShellModel.removeHeaderEndItem(i,c,s);}};A.prototype.hideSubHeader=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeSubHeader([i],c,s);}else{this.oShellModel.removeSubHeader(i,c,s);}};A.prototype.addShellSubHeader=function(p){var d=new jQuery.Deferred(),t=this,c,C,a=p.controlType,o=p.oControlProperties,i=p.bIsVisible,b=p.bCurrentState,s=p.aStates;if(o&&o.id&&sap.ui.getCore().byId(o.id)){C=sap.ui.getCore().byId(o.id);if(C){if(i){this.showSubHeader(C.getId(),b,s);}d.resolve(C);}}if(a){c=a.replace(/\./g,"/");sap.ui.require([c],function(e){C=new e(o);if(i){t.showSubHeader(C.getId(),b,s);t.oShellModel.addElementToManagedQueue(C);}d.resolve(C);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};A.prototype.addSubHeader=function(c,C,i,b,s){var a=c.replace(/\./g,"/"),o=sap.ui.require(a),d,f,r=false;if(o){r=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}f=function(C){if(c){if(r){return new o(C);}else{var e=jQuery.sap.getObject(c);return new e(C);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};d=this.createItem(C,b,s,f);if(i){this.showSubHeader(d.getId(),b,s);}return d;};A.prototype.addUserAction=function(p){var d=new jQuery.Deferred(),t=this,m=this.oShellModel.getModelToUpdate(),c,C,a=p.controlType,o=p.oControlProperties,i=p.bIsVisible,b=p.bCurrentState,s=p.aStates,I=p.bIsFirst||true,n;if(o&&o.id&&sap.ui.getCore().byId(o.id)){C=sap.ui.getCore().byId(o.id);if(C){d.resolve(C);}}if(a){if(a==="sap.m.Button"){a="sap.ushell.ui.launchpad.ActionItem";}c=a.replace(/\./g,"/");sap.ui.require([c],function(e){var O=t.oShellModel.getModelToUpdate();t.oShellModel.setModelToUpdate(m,true);var f;if(o){if(o.id){f=o.id;}}C=sap.ui.getCore().byId(f)||new e(o);if(!C.getActionType){C=new e(o);}if(i){t.showActionButton(C.getId(),b,s,I);t.oShellModel.addElementToManagedQueue(C);}t.oShellModel.setModelToUpdate(O,false);d.resolve(C);});}else{n="You must specify control type in order to create it";jQuery.sap.log.warning(n);d.reject(n);}return d.promise();};A.prototype.addActionButton=function(c,C,i,b,s,I){var a,o,d,f,r=false;if(c==="sap.m.Button"){c="sap.ushell.ui.launchpad.ActionItem";}a=c.replace(/\./g,"/");o=sap.ui.require(a);if(o){r=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}f=function(C){if(c){if(r){return new o(C);}else{var e=jQuery.sap.getObject(c);return new e(C);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};d=this.createItem(C,b,s,f);if(i){this.showActionButton(d.getId(),b,s,I);}return d;};A.prototype.addFloatingButton=function(p){var d=new jQuery.Deferred(),t=this,c,C,a=p.controlType,o=p.oControlProperties,i=p.bIsVisible,b=p.bCurrentState,s=p.aStates;if(o&&o.id&&sap.ui.getCore().byId(o.id)){C=sap.ui.getCore().byId(o.id);if(C){if(i){t.oShellModel.addElementToManagedQueue(C);t.showFloatingActionButton(oItem.getId(),b,s);}d.resolve(C);}}if(a){c=a.replace(/\./g,"/");}else{c="sap/m/Button";}sap.ui.require([c],function(e){C=new e(o);if(i){this.showFloatingActionButton(oItem.getId(),b,s);}d.resolve(C);});return d.promise();};A.prototype.addFloatingActionButton=function(c,C,i,b,s){var a,o,d,f,r=false;if(!c){c="sap.m.Button";}a=c.replace(/\./g,"/");o=sap.ui.require(a);if(o){r=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}f=function(C){if(c){if(r){return new o(C);}else{var e=jQuery.sap.getObject(c);return new e(C);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};d=this.createItem(C,b,s,f);if(i){this.showFloatingActionButton(d.getId(),b,s);}return d;};A.prototype.addSidePaneContent=function(p){var d=new jQuery.Deferred(),t=this,c,C,r=false,a=p.controlType,o=p.oControlProperties,i=p.bIsVisible,b=p.bCurrentState,s=p.aStates;if(o&&o.id&&sap.ui.getCore().byId(o.id)){C=sap.ui.getCore().byId(o.id);if(C){d.resolve(C);}}if(a){c=a.replace(/\./g,"/");sap.ui.require([c],function(e){C=new e(o);if(i){t.oShellModel.addElementToManagedQueue(C);t.showLeftPaneContent(oItem.getId(),b,s);}d.resolve(C);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};A.prototype.addLeftPaneContent=function(c,C,i,b,s){var t=this,a=c.replace(/\./g,"/"),o=sap.ui.require(a),d,f,r;if(o){r=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}f=function(C){if(c){if(r){return new o(C);}else{var e=jQuery.sap.getObject(c);return new e(C);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};d=this.createItem(C,b,s,f);if(i){this.showLeftPaneContent(d.getId(),b,s);}return d;};A.prototype.addHeaderItem=function(c,C,i,b,s){if(typeof(arguments[0])==='object'&&typeof(arguments[1])==='boolean'){C=arguments[0];i=arguments[1];b=arguments[2];s=arguments[3];}else{jQuery.sap.log.warning("sap.ushell.renderers.fiori2.Renderer: The parameter 'controlType' of the function 'addHeaderItem' is deprecated. Usage will be ignored!");}var p=C;p.showSeparator=false;var f=function(C){return new sap.ushell.ui.shell.ShellHeadItem(C);},I=this.createItem(p,b,s,f);if(i){this.showHeaderItem(I.getId(),b,s);}return I;};A.prototype.addRightFloatingContainerItem=function(c,i,C,s){var f=function(c){return new sap.m.NotificationListItem(c);},I=this.createItem(c,C,s,f);if(i){this.showRightFloatingContainerItem(I.getId(),C,s);}return I;};A.prototype.addToolAreaItem=function(c,i,C,s){var f=function(c){return new sap.ushell.ui.shell.ToolAreaItem(c);},I=this.createItem(c,C,s,f);if(i){this.showToolAreaItem(I.getId(),C,s);}return I;};A.prototype.addHeaderEndItem=function(c,C,i,b,s){var p=C;p.showSeparator=false;var f=function(C){return new sap.ushell.ui.shell.ShellHeadItem(C);},I=this.createItem(p,b,s,f);if(i){this.showHeaderEndItem(I.getId(),b,s);}return I;};A.prototype.setLeftPaneVisibility=function(l,v){this.oShellModel.setLeftPaneVisibility(v,false,[l]);};A.prototype.showToolArea=function(l,v){this.oShellModel.showShellItem("/toolAreaVisible",l,v);};A.prototype.setHeaderHiding=function(h){return this.oShellModel.setHeaderHiding(h);};A.prototype.LaunchpadState={App:"app",Home:"home"};A.prototype.createInspection=function(a,c,C,s){this.oShellModel.createInspection(a,c,C,s);};A.prototype.createTriggers=function(t,c,s){this.oShellModel.createTriggers(t,c,s);};A.prototype.convertButtonsToActions=function(i,c,s,I){var p={},b,t=this;i.forEach(function(a){b=sap.ui.getCore().byId(a);p.id=b.getId();p.text=b.getText();p.icon=b.getIcon();p.tooltip=b.getTooltip();p.enabled=b.getEnabled();p.visible=b.getVisible();if(b.mEventRegistry&&b.mEventRegistry.press){p.press=b.mEventRegistry.press[0].fFunction;}b.destroy();t.addActionButton("sap.ushell.ui.launchpad.ActionItem",p,p.visible,c,s,I);});};A.prototype.createItem=function(c,C,s,f){var i;if(c&&c.id){i=sap.ui.getCore().byId(c.id);}if(!i){i=f(c);if(C){this.oShellModel.addElementToManagedQueue(i);}}return i;};A.prototype.addEntryInShellStates=function(n,e,a,r,s){this.oShellModel.addEntryInShellStates(n,e,a,r,s);};A.prototype.removeCustomItems=function(s,i,c,S){if(typeof i==="string"){this.oShellModel.removeCustomItems(s,[i],c,S);}else{this.oShellModel.removeCustomItems(s,i,c,S);}};A.prototype.addCustomItems=function(s,i,c,S){if(typeof i==="string"){this.oShellModel.addCustomItems(s,[i],c,S);}else{this.oShellModel.addCustomItems(s,i,c,S);}};return A;});
