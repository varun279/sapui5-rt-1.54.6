// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(function(){"use strict";var a=sap.ui.Device.system.phone;var m={animationMode:"full",searchAvailable:false,title:"",searchFiltering:true,showEndUserFeedback:false,searchTerm:"",isPhoneWidth:false,enableNotifications:false,enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",userStatus:undefined,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},customStatesDelta:{"home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn"]},"app":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"minimal":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"standalone":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded-home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]}},states:{"blank":{"stateName":"blank","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"blank-home":{"stateName":"blank-home","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"home":{"stateName":"home","showCurtain":false,"headerHiding":false,"headerVisible":true,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"headItems":['meAreaHeaderButton'],"headEndItems":["sf"],"search":"","paneContent":[],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"app":{"stateName":"app","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":["sf"],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"search":"","headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"minimal":{"stateName":"minimal","showCurtain":false,"headerHiding":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['meAreaHeaderButton','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"standalone":{"stateName":"standalone","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"embedded":{"stateName":"embedded","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"embedded-home":{"stateName":"embedded-home","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['meAreaHeaderButton'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"headerless":{"stateName":"headerless","showCurtain":false,"headerHiding":a,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"merged":{"stateName":"merged","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"headerless-home":{"stateName":"headerless-home","showCurtain":false,"headerHiding":a,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"merged-home":{"stateName":"merged-home","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}}},userPreferences:{entries:[]},userImage:{personPlaceHolder:sap.ui.core.IconPool.getIconURI("person-placeholder"),account:sap.ui.core.IconPool.getIconURI("account")}};function v(i,c,s){return c!=undefined;}function n(i,c,s){return true;}function u(c,V,C){C.setProperty(c,V);}function A(){var M;var c;var s;var C;var e;var o;var I;var d;var E;var f;var t;var g;this.createDefault=function(){var r=function(S,h,D){if(D.sProperty=="actions"){var i=D.oModel.getProperty(D.path);if(i&&i.length===0&&D.aIds&&D.aIds.length>0){this._renderShellState();}}}.bind(this);this.createTriggers([{sName:'onAddFirstAction',fnRegister:function(){sap.ui.getCore().getEventBus().subscribe("launchpad","updateShell",r,this);},fnUnRegister:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","updateShell",r,this);}}],false,["blank","blank-home"]);};this.init=function(h){M=new sap.ui.model.json.JSONModel(m);s=M;c={};e={};o={};I=false;d=false;f=false;t=[];g=true;E=undefined;if(h){jQuery.sap.measure.start("FLP:AppLifeCycle.init","moveShellHeaderEndItems","FLP");if(h.moveEditHomePageActionToShellHeader){this._moveActionsToShellHeader("ActionModeBtn");}if(h.moveContactSupportActionToShellHeader){this._moveCustomeDataActionBtnToShellHeader("ContactSupportBtn");}if(h.moveGiveFeedbackActionToShellHeader){this._moveCustomeDataActionBtnToShellHeader("EndUserFeedbackBtn");}if(h.moveAppFinderActionToShellHeader){this._moveActionsToShellHeader("openCatalogBtn");}if(h.moveUserSettingsActionToShellHeader){this._moveActionsToShellHeader("userSettingsBtn");}jQuery.sap.measure.end("FLP:AppLifeCycle.init");}this.createDefault();var i=h&&h.appState?h.appState:"home";this.switchState(i);};this.destroy=function(){M=undefined;s=undefined;c=undefined;e=undefined;o=undefined;I=undefined;d=undefined;g=undefined;f=undefined;E=undefined;sap.ui.getCore().getEventBus().unsubscribe("launchpad","contentRendered",this._attachPressToUserSettings,this);};this.getModel=function(){return M;};this._moveCustomeDataActionBtnToShellHeader=function(h){for(var k in m.customStatesDelta){var S=m.customStatesDelta[k];var i=S.actions;var j=i.indexOf(h);if(j!=-1){m.customStatesDelta[k].actions.splice(j,1);j=m.states[k].headEndItems.indexOf(h);if(j===-1){m.states[k].headEndItems.push(h);}}}var B=sap.ui.getCore().byId(h);if(!B){var l;if(h==="ContactSupportBtn"){l=new sap.ushell.ui.footerbar.ContactSupportButton("tempContactSupportBtn",{visible:true});}else{if(h==="EndUserFeedbackBtn"){l=new sap.ushell.ui.footerbar.EndUserFeedback("EndUserFeedbackHandlerBtn",{});}}var p=l.getIcon();var q=l.getText();var r=function(){l.firePress();};var w=new sap.ushell.ui.shell.ShellHeadItem(h,{icon:p,tooltip:q,text:q,showSeparator:false});if(h==="ContactSupportBtn"){w.attachPress(r);}if(h==="EndUserFeedbackBtn"){w.setVisible(false);}w.data("isShellHeader",true);}};this._attachPressToUserSettings=function(){jQuery.sap.measure.start("FLP:AppLifeCycle._attachPressToUserSettings","_attachPressToUserSettings","FLP");var h=sap.ui.getCore().byId("userSettingsBtn");h.attachPress(function(){var i=sap.ui.getCore().byId('meArea');if(!i.oSettingsDialog.getModel()){i.oSettingsDialog.setModel(i.getModel());}var O=function(){i.oSettingsDialog.open();sap.ui.getCore().byId("viewPortContainer").detachAfterSwitchStateAnimationFinished(O);};var j=sap.ui.getCore().byId('viewPortContainer');if(j.getCurrentState()!="Center"){sap.ui.getCore().byId("viewPortContainer").attachAfterSwitchStateAnimationFinished(O);sap.ui.getCore().byId("viewPortContainer").switchState("Center");}else{O();}});jQuery.sap.measure.end("FLP:AppLifeCycle._attachPressToUserSettings");};this._moveActionsToShellHeader=function(h){var k;for(k in m.states){var S=m.states[k];if(k==="blank"||k==="blank-home"){continue;}if(h==="ActionModeBtn"){if(k==="app"){continue;}}var i=S.actions;var j=i.indexOf(h);if(j!=-1){m.states[k].actions.splice(j,1);}j=m.states[k].headEndItems.indexOf(h);if(j===-1){m.states[k].headEndItems.push(h);}}if(h==="userSettingsBtn"){var l="userSettingsBtn";var p=sap.ushell.resources.i18n.getText("userSettings");var q='sap-icon://action-settings';var U=sap.ui.getCore().byId(l);sap.ui.getCore().getEventBus().subscribe("launchpad","contentRendered",this._attachPressToUserSettings,this);if(!U){var r=new sap.ushell.ui.shell.ShellHeadItem(l,{icon:q,tooltip:p,text:p,showSeparator:false});r.data("isShellHeader",true);}}};this.switchState=function(S,h){var p=S[0]==="/"?S:"/states/"+S,i=M.getProperty(p),j=M.getProperty("/currentState")||{},k=["home","embedded-home","headerless-home","merged-home","blank-home"];if(!!h){M.setProperty("/lastState",j);}this._destroyManageQueue(k);M.setProperty("/currentState",jQuery.extend(true,{},{},i));if(!e[S]){e[S]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState(S)};}C=e[S].customShellState;E=undefined;this._renderShellState();return i;};this.setLeftPaneVisibility=function(V,h,S){this.updateStateProperty("showPane",V,h,S);};this.setHeaderHiding=function(h){this.updateStateProperty("headerHiding",h,true);};this.setHeaderVisibility=function(V,h,S){this.updateStateProperty("headerVisible",V,h,S);};this.showLogo=function(h,S){this.updateStateProperty("showLogo",true,h,S,false);};this.addHeaderItem=function(i,h,S){this._addHeaderItemInCorrectOrder("headItems",i,h,S);};this._removeReservedItemId=function(r,h,i){var j=false,R=i.indexOf(r);if(R>-1){i.splice(R,1);j=true;}R=h.indexOf(r);if(R>-1){h.splice(R,1);j=true;}return j;};this._addHeaderItemInCorrectOrder=function(p,i,h,S){var j=this;function V(k,l,q){var r=3-k.length;l.forEach(function(w,x){var y=(w==='meAreaHeaderButton'||w==='backBtn'||w==='homeBtn');if(k[w]===-1&&!y){r--;}});if(r<0){jQuery.sap.log.warning("Maximum of three items has been reached, cannot add more items.");return false;}return true;}function U(k,l,q){jQuery.sap.measure.start("FLP:AppLifeCycle.fnUpdate","update shell head end items","FLP");var r=q.getProperty(k),w=[],x=l.slice(0);if(j._removeReservedItemId("meAreaHeaderButton",r,x)===true){w.push("meAreaHeaderButton");}if(j._removeReservedItemId("backBtn",r,x)===true){w.push("backBtn");}if(j._removeReservedItemId("homeBtn",r,x)===true){w.push("homeBtn");}r.some(function(y){if(w.length<3){w.push(y);}else{return true;}});x.some(function(y){if(w.length<3){w.push(y);}else{return true;}});q.setProperty(k,w);jQuery.sap.measure.end("FLP:AppLifeCycle.fnUpdate");}this._setShellItem(p,i,h,S,V,U);};this.removeHeaderItem=function(i,h,S){this._removeShellItem("headItems",i,h,S);};this.addHeaderEndItem=function(i,h,S,D){if(i.length){this._addUpToSixItem("headEndItems",i,h,S,D);}};this.removeHeaderEndItem=function(i,h,S){this._removeShellItem("headEndItems",i,h,S);};this.addSubHeader=function(i,h,S){if(i.length){this._addShellItem("subHeader",i,h,S);}};this.removeSubHeader=function(i,h,S){this._removeShellItem("subHeader",i,h,S);};this.addActionButton=function(i,h,S,j){if(j){this._addActionButtonAtStart("actions",i,h,S);}else{this._addActionButton("actions",i,h,S);}};this.removeActionButton=function(i,h,S){this._removeShellItem("actions",i,h,S);};this.addToolAreaItem=function(i,h,S){if(i.length){this._addToolAreaItem("toolAreaItems",i,h,S);}};this.removeToolAreaItem=function(i,h,S){this._removeShellItem("toolAreaItems",i,h,S);};this.addLeftPaneContent=function(i,h,S){if(i.length){this._addShellItem("paneContent",i,h,S);}};this.removeLeftPaneContent=function(i,h,S){this._removeShellItem("paneContent",i,h,S);};this.addRightFloatingContainerItem=function(i,h,S){if(i.length){this._addRightFloatingContainerItem("RightFloatingContainerItems",i,h,S);}};this.removeRightFloatingContainerItem=function(i,h,S){this._removeShellItem("RightFloatingContainerItems",i,h,S);};this.showSettingsButton=function(h,S){this.addActionButton(["userSettingsBtn"],h,S,false);};this.showSignOutButton=function(h,S){this.addActionButton(["logoutBtn"],h,S,false);};this.showRightFloatingContainer=function(S){this._showRightFloatingContainer(S);};this.addFloatingActionButton=function(i,h,S){if(i.length){this._addShellItem("floatingActions",i,h,S);}};this.removeFloatingActionButton=function(i,h,S){this._removeShellItem("floatingActions",i,h,S);};this.updateStateProperty=function(p,V,h,S,D){this._setShellItem(p,V,h,S,v,u,D);};this._handleTriggers=function(N){var T,h,i=[],j={};g=false;while(t.length>0){T=t.pop();if(N[T.sName]){i.push(T);j[T.sName]=T;}else{T.fnUnRegister(this);}}for(var k in N){if(N.hasOwnProperty(k)){if(!j[k]){h=N[k];h.fnRegister(this);i.push(h);}}}t=i;g=true;};this._registerTriggers=function(T){var i;g=false;for(i=0;i<T.length;i++){T[i].fnRegister(this);t.push(T[i]);}g=true;};this.createTriggers=function(T,h,S){var N=[];var U=function(T,r){var w;if(!r.aTriggers){r.aTriggers=[];}for(w=0;w<T.length;w++){var x={sName:T[w].sName,fnRegister:T[w].fnRegister,fnUnRegister:T[w].fnUnRegister};N.push(x);r.aTriggers.push(x);}};if(h===true){var j=s.getProperty("/currentState/");U(T,j);if(!I){this._registerTriggers(N);}}else{var i,k=s.getProperty('/currentState/stateName');for(i=0;i<S.length;i++){var l=S[i],p="/states/"+l,q=M.getProperty(p);N=[];U(T,q);if(k===l){if(!I){this._registerTriggers(N);}}}}};this.createInspection=function(h,j,k,S){var l=function(M,h,j){var y,z;if(!M.oCheckPoints){M.oCheckPoints=[];}if(!M.oCheckPoints[h]){M.oCheckPoints[h]=[];}y=M.oCheckPoints[h];for(z=0;z<j.length;z++){p=j[z];y.push({fnCondition:p.fnCondition,fnCheckPoint:p.fnAction});}};if(k===true){var p,q=s.getProperty("/currentState");l(q,h,j);if(!f&&!I){l(C.getProperty("/currentState"),h,j);}this._renderShellState();}else{var i,r=s.getProperty('/currentState/stateName');for(i=0;i<S.length;i++){var w=S[i],P="/states/"+w,x=M.getProperty(P);l(x,h,j);if(r===w){if(!I){this._renderShellState();}}}}};this.showShellItem=function(p,S,V){var h,j,k=this._getModelStates(S),l=this.getModel().getData().states,q="/currentState"+p;for(var i=0;i<k.length;i++){j=l[k[i]];h="/states/"+j.stateName+p;s.setProperty(h,V);}if(s.getProperty("/currentState/stateName")===S){s.setProperty(q,V);}};this.addCustomItems=function(S,i,h,j){if(this._isValidStateEntry(S)){this._isValidStateEntry(S).fnAdd(i,h,j);}else{throw new Error("Invalid state entry:"+S);}};this.removeCustomItems=function(S,i,h,j){if(this._isValidStateEntry(S)){this._isValidStateEntry(S).fnRemove(i,h,j);}else{throw new Error("Invalid state entry:"+S);}};this.createExtendedShellState=function(S,h){var B=M.getProperty("/currentState/stateName"),i,j=this._createCustomShellState(S);if(!e[B]){e[B]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}i=e[B].extendedShellStates;if(i[S]){return false;}s=j;f=true;h();if(i[S]){i[S].customState=j;}else{i[S]={managedObjects:[],customState:j};}s=M;f=false;return true;};this.applyExtendedShellState=function(S){E=S;this._renderShellState();};this.addEntryInShellStates=function(h,i,j,r,S){var k,l;if(!c[h]){c[h]={fnAdd:j,fnHide:r};var p=this._getStatesList();for(k=0;k<p.length;k++){l=p[k];M.setProperty("/states/"+l+"/"+h,S[l]);}this["remove"+i]=r;this["add"+i]=j;}else{throw new Error("State entry already exsists:"+h);}};this.addElementToManagedQueue=function(i){var S=s.getProperty("/currentState/stateName"),B=M.getProperty("/currentState/stateName"),h,j=i.getId();if(!e[B]){e[B]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}h=e[B].extendedShellStates;if(!h[S]){h[S]={managedObjects:[],customState:undefined};}h[S].managedObjects.push(j);var k=o[j];if(k){k.nRefCount++;}else{k={oItem:i,nRefCount:1};o[j]=k;}};this.updateNeededTriggersMap=function(S,T){var i;if(!T){return;}for(i=0;i<T.length;i++){S[T[i].sName]=T[i];}};this._renderShellState=function(){var B=M.getProperty("/currentState/stateName"),p=B[0]==="/"?B:"/states/"+B,h,i,S=jQuery.extend(true,{},{},M.getProperty(p)),j=e[B],k,N={};if(j){k=j.customShellState.getProperty("/currentState");}var l=new sap.ui.model.json.JSONModel({"currentState":jQuery.extend(true,{},{},S)});s=l;I=true;if(E){if(j.extendedShellStates[E]){h=j.extendedShellStates[E].customState;i=h.getProperty("/currentState");this._addCustomShellStates(i);}}if(k){this._addCustomShellStates(k);}s=M;if(S&&S.aTriggers){this.updateNeededTriggersMap(N,S.aTriggers);}if(i&&i.aTriggers){this.updateNeededTriggersMap(N,i.aTriggers);}if(k&&k.aTriggers){this.updateNeededTriggersMap(N,k.aTriggers);}if(g){this._handleTriggers(N);}M.setProperty("/currentState",l.getProperty("/currentState"));I=false;l.destroy();};this._addCustomShellStates=function(T){this.addHeaderItem(T.headItems,true);this.addToolAreaItem(T.toolAreaItems,true);this.addHeaderEndItem(T.headEndItems,true);this.addSubHeader(T.subHeader,true);this.addRightFloatingContainerItem(T.RightFloatingContainerItems,true);this.addActionButton(T.actions,true,undefined,false);this.addLeftPaneContent(T.paneContent,true);this.addFloatingActionButton(T.floatingActions,true);this._setCurrentApplicationInformation(T.application);this.showRightFloatingContainer(T.showRightFloatingContainer);this.setHeaderHiding(T.headerHiding);this.setHeaderVisibility(T.headerVisible,true);if(T.showLogo){this.showLogo(true);}};this._createCustomShellState=function(S){var h={"currentState":{"stateName":S,"headEndItems":[],"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":undefined,"headerHeading":undefined}};var i=M.getProperty("/customStatesDelta"),j=i[S];if(j){jQuery.extend(h.currentState,j);}return new sap.ui.model.json.JSONModel(h);};this._setCurrentApplicationInformation=function(h){if(!h){h={};}this.updateStateProperty("application",h,true);};this._showRightFloatingContainer=function(S){this._setShellItem("showRightFloatingContainer",S,true,[],v,u);};this._addActionButtonAtStart=function(p,i,h,S){function U(j,k,l){var q=l.getProperty(j),r=[],O=k.indexOf("openCatalogBtn");if(O>-1){k.splice(O,1);r.push("openCatalogBtn");}else{if(q[0]==="openCatalogBtn"){q.splice(0,1);r.push("openCatalogBtn");}}r=r.concat(k).concat(q);l.setProperty(j,r);}this._setShellItem(p,i,h,S,n,U);};this._addActionButton=function(p,i,h,S){function U(j,k,l){var q=l.getProperty(j);var L=q.indexOf("logoutBtn");if(L>-1){q.splice.apply(q,[L,0].concat(k));}else{q=q.concat(k);}var O=q.indexOf("openCatalogBtn"),r=[];if(O>-1){q.splice(O,1);r.push("openCatalogBtn");r=r.concat(q);}else{r=q;}l.setProperty(j,r);}this._setShellItem(p,i,h,S,n,U);};this.setFloatingContainerContent=function(p,i,h,S){function V(j,i,k){return i.length===1;}function U(j,i,k){k.setProperty(j,i);}this._setShellItem(p,i,h,S,V,U);};this._addUpToSixItem=function(p,i,h,S,D){function V(j,k,l){var q=0,r,w;if(k.length===1&&k[0]==="endItemsOverflowBtn"){return true;}for(r=0;r<j.length;r++){w=j[r];if(w!=="endItemsOverflowBtn"){q++;}if(q+k.length>6){jQuery.sap.log.warning("maximum of six items has reached, cannot add more items.");return false;}if(k.indexOf(w)>-1){return false;}}return true;}function U(j,k,l){var q=l.getProperty(j),r=q.slice(0);r=r.sort();var w=r.indexOf("sf");if(w!=-1){r.splice(w,1);r.splice(0,0,"sf");}r=r.concat(k);var x=r.indexOf("NotificationsCountButton");if(x!=-1){r.splice(x,1);r.splice(r.length,0,"NotificationsCountButton");}var y=r.indexOf("copilotBtn");if(y!=-1){r.splice(y,1);if(r.indexOf("sf")!=-1){r.splice(1,0,"copilotBtn");}else{r.splice(0,0,"copilotBtn");}}l.setProperty(j,r);}this._setShellItem(p,i,h,S,V,U,D);};this._addShellItem=function(p,i,h,S){function V(j,i,k){if(j.length>0){jQuery.sap.log.warning("You can only add one item. Replacing existing item: "+j[0]+" in state: "+k+", with the new item: "+i[0]+".");}return true;}function U(j,k,l){l.setProperty(j,i.slice(0));}this._setShellItem(p,i,h,S,V,U);};this._addRightFloatingContainerItem=function(p,i,h,S){function U(j,k,l){var q=l.getProperty(j);q=q.concat(k);l.setProperty(j,q);}this._setShellItem(p,i,h,S,n,U);};this._addToolAreaItem=function(p,i,h,S){function U(k,i,l){var q=l.getProperty(k);q.push(i);l.setProperty(k,q);}var j,P=this._getPassStates(S);for(j=0;j<P.length;j++){this.showShellItem("/toolAreaVisible",P[j],true);}this._setShellItem(p,i,h,S,n,U);};this._removeShellItem=function(p,i,h,S){function V(j,k){var l,i,q;for(q=0;q<k.length;q++){i=k[q];l=j.indexOf(i);if(l<0){jQuery.sap.log.warning("You cannot remove Item: "+i+", the headItem does not exists.");return false;}}return true;}function U(j,k,l){var q=l.getProperty(j),r,i,w;for(w=0;w<k.length;w++){i=k[w];r=q.indexOf(i);if(r>-1){q.splice(r,1);}}l.setProperty(j,q);}this._setShellItem(p,i,h,S,V,U);};this._commitCheckPoints=function(h,i,j){var k;for(k=0;k<h.length;k++){if(h[k].fnCondition(i,j,this)){h[k].fnCheckPoint(i,j,this);}}};this._setShellItem=function(p,O,h,S,V,U,D){var k,l;var q=Array.isArray(O)?O.slice(0):O;if(h===true){k="/currentState/"+p;l=s.getProperty(k);if(V(l,q,"currentState")===false){return;}if(I&&!d){var B=M.getProperty("/currentState/stateName"),P="/states/"+B,r=M.getProperty(P),w=e[B];d=true;if(r.oCheckPoints){var x=r.oCheckPoints[p];if(x&&x.length){this._commitCheckPoints(x,l,q);}}if(E){if(w.extendedShellStates[E]){var y=w.extendedShellStates[E].customState,z=y.getProperty("/currentState");if(z&&z.oCheckPoints&&z.oCheckPoints[p]){this._commitCheckPoints(z.oCheckPoints[p],l,q);}}}var F=w.customShellState.getProperty("/currentState");if(F&&F.oCheckPoints&&F.oCheckPoints[p]){x=F.oCheckPoints[p];if(x&&x.length){this._commitCheckPoints(x,l,q);}}d=false;}if(!f&&!I){U(k,q,C);sap.ui.getCore().getEventBus().publish('launchpad','updateShell',{oModel:s,path:k,aIds:q,sProperty:p});this._renderShellState();}else{U(k,q,s);}}else{var G=D?S:this._getPassStates(S),i,H=s.getProperty('/currentState/stateName');for(i=0;i<G.length;i++){var J=G[i],j;k="/states/"+J+"/"+p;l=s.getProperty(k);if(V(l,q,J)===false){continue;}var K=this._getModelStates(J,D);for(j=0;j<K.length;j++){k="/states/"+K[j]+"/"+p;U(k,q,s);if(H===K[j]){if(!I){this._renderShellState();}}}}}};this._getPassStates=function(S){var p=[],i;S=S||[];for(i=0;i<S.length;i++){if(S[i]!==undefined){if(S[i]!=="home"&&S[i]!=="app"){throw new Error("sLaunchpadState value is invalid");}p.push(S[i]);}}if(!p.length){p=["app","home"];}return p;};this._getModelStates=function(S,D){var h=[];if(S==="app"&&!D){var i=["app","minimal","standalone","embedded","headerless","merged","blank"];h=h.concat(i);}else if(S==="home"&&!D){var i=["home","embedded-home","headerless-home","merged-home","blank-home"];h=h.concat(i);}else{h.push(S);}return h;};this._getStatesList=function(){var S=M.getProperty("/states");return Object.keys(S);};this._destroyManageQueue=function(h){var S,i,j,k,B,l,p;for(S in e){if(e.hasOwnProperty(S)){if(!h||h.indexOf(S)===-1){B=e[S].extendedShellStates;for(l in B){if(B.hasOwnProperty(l)){p=B[l].managedObjects;for(i=0;i<p.length;i++){j=p[i];k=o[j];k.nRefCount--;if(k.nRefCount===0){k.oItem.destroy();}}delete B[l];}}delete e[S];}}}};this._isValidStateEntry=function(N){return!!c[N];};this.getModelToUpdate=function(){return s;};this.setModelToUpdate=function(h,i){f=i;s=h;};}var b=new A();return b;},true);
