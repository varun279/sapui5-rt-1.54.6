sap.ui.define([],function(){var m={};var b={};
/*!
 * SAP XHR Library v1.3.0
 * (c) Copyright 2013-2017 SAP SE or an SAP affiliate company.
*/
(function(f){if(typeof b==="object"&&typeof m!=="undefined"){m.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.xhrlib=f()}})(function(){var d,m,b;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(r,m,b){"use strict";var E=r("./EventHandlers.js");var a=r("./events.js");var F=r("./FrameProxy.js");function A(p){this.handlers=new E(["windowfailed"]);this.FrameProxyClass=p||F;}m.exports=A;A.prototype.create=function(){this.frameProxy=new this.FrameProxyClass(this);return this.frameProxy;};A.prototype.destroy=function(){if(this.frameProxy){this.frameProxy.close();this.frameProxy=undefined;}};A.prototype.show=function(){};A.prototype.addEventListener=function(t,c){this.handlers.add(t,c);};A.prototype.removeEventListener=function(t,c){this.handlers.remove(t,c);};A.prototype.dispatchWindowFailedEvent=function(){var s=this,c=a.createEvent("windowfailed");setTimeout(function(){s.handlers.dispatch(c);},0);};},{"./EventHandlers.js":5,"./FrameProxy.js":7,"./events.js":14}],2:[function(r,m,b){"use strict";var C;function a(x,c,u,f,g,p){this.filters=[];this.xhr=x;this.method=c;this.url=u;this.async=!!f;if(g!==undefined){this.username=g;}if(p!==undefined){this.password=p;}}m.exports=a;C=a.prototype;C._process=function(c){var f,g,i,n;f=this.filters;n=f.length;for(i=0;i<n;++i){g=f[i];if(typeof g[c]==="function"){g[c](this);}}};C.aborting=function(){this._process("aborting");};C.aborted=function(){this._process("aborted");};C.opening=function(){this._process("opening");};C.opened=function(){this._process("opened");};C.sending=function(){this._process("sending");};C.sent=function(){this._process("sent");};C.reopening=function(){this._process("reopening");};C["catch"]=function(c){var f,i,n;f=this.filters;n=f.length;for(i=0;i<n;++i){if(typeof f[i]["catch"]==="function"){try{f[i]["catch"](c,this);c=null;break;}catch(g){c=g;}}}if(c){throw c;}};},{}],3:[function(r,m,b){"use strict";var C;var a=r("./Channel.js");var I=r("./IgnoreList.js");function c(){this._filterFactories=[];this.ignore=new I();}m.exports=c;C=c.prototype;function f(x){var t;t=typeof x;return(t==="function")||((t==="object")&&(x!==null)&&(typeof x.addFilter==="function"));}function g(x,h){if(typeof x==="function"){x(h);}else{x.addFilter(h);}}C.reset=function(){this._filterFactories=[];this.ignore=new I();};C.addFilterFactory=function(h){var j,k,i,n;if(!f(h)){throw new TypeError("addFilterFactory expects a FilterFactory or a function parameter");}k=this._filterFactories;j=true;n=k.length;for(i=0;i<n;++i){if(k[i]===h){j=false;break;}}if(j){this._filterFactories.push(h);}};C.removeFilterFactory=function(h){var j,i,n;j=this._filterFactories;n=j.length;for(i=0;i<n;++i){if(j[i]===h){j.splice(i,1);break;}}};C.getFilterFactories=function(){return this._filterFactories.slice();};C.create=function(x,h,u,j,k,p){var l,o,i,n;l=new a(x,h,u,j,k,p);if(!this.ignore.ignored(u)){o=this._filterFactories;n=o.length;for(i=0;i<n;++i){g(o[i],l);}}return l;};},{"./Channel.js":2,"./IgnoreList.js":8}],4:[function(r,m,b){"use strict";var a=r("./events.js");var E=r("./EventHandlers.js");var D;var A="authenticationrequired";function c(){this.frameCounter=0;this.handlers=new E([A]);}m.exports=c;D=c.prototype;D.addEventListener=function(t,f){this.handlers.add(t,f);};D.removeEventListener=function(t,f){this.handlers.remove(t,f);};D.dispatchAuthenticationRequired=function(){var s=this,f=a.createEvent(A);setTimeout(function(){s.handlers.dispatch(f);},0);};D.create=function(){var f,o,s=this;this.destroy();if(this.handlers.hasSubscribers(A)){this.dispatchAuthenticationRequired();return null;}this.frameCounter+=1;f="xhrLogonFrame"+this.frameCounter;this.frame=document.createElement("iframe");this.frame.id=f;this.frame.style.display="none";if(document.readyState==="complete"){document.body.appendChild(this.frame);}else{o=function(){if(document.readyState==="complete"){document.body.appendChild(s.frame);a.removeEventListener(document,"readystatechange",o);}};a.addEventListener(document,"readystatechange",o);}return this.frame;};D.destroy=function(){if(this.frame){document.body.removeChild(this.frame);this.frame=null;}};D.show=function(f){var g=this.frame;if(!f&&this.handlers.hasSubscribers(A)){this.dispatchAuthenticationRequired();}else if(g){g.style.display="block";g.style.position="absolute";g.style.top=0;g.style.left=0;g.style.width="100%";g.style.height="100%";g.style.zIndex=99999;g.style.border=0;g.style.background="white";}};},{"./EventHandlers.js":5,"./events.js":14}],5:[function(r,m,b){"use strict";var E;var a=r("./Log.js").logger;function c(h){var i,n;n=h.length;for(i=0;i<n;++i){this[h[i]]=[];}this.subscriptions={};this.bufferedEvents=[];}m.exports=c;function f(x){var t;t=typeof x;return(t==="function")||((t==="object")&&(x!==null)&&(typeof x.handleEvent==="function"));}function g(x,e,l){try{if(typeof x==="function"){x.call(e.currentTarget,e);}else{x.handleEvent(e);}}catch(h){if(l){l.warning("Exception in "+e.type+" event handler: "+h.message);}throw h;}}E=c.prototype;E.add=function(t,j){var k,h,i,n;if(f(j)){h=this[t];if(h){k=true;n=h.length;for(i=0;i<n;++i){if(h[i]===j){k=false;break;}}if(k){h.push(j);}}}};E.remove=function(t,j){var h,i,n;if(f(j)){h=this[t];if(h){n=h.length;for(i=0;i<n;++i){if(h[i]===j){if(n===1){this[t]=[];}else{h.splice(i,1);}break;}}}}};E.dispatch=function(j){var h,o,t,i,n;if(this.suspend){this.bufferedEvents.push(j);}else{t=j.type;h=this[t];if(h){h=h.slice();n=h.length;for(i=0;i<n;++i){g(h[i],j,a);}}o=this["on"+t];if(o){try{o.call(j.currentTarget,j);}catch(k){a.warning("Exception in on"+t+" callback: "+k.message);throw k;}}}};E.clearEvents=function(){this.bufferedEvents=[];};E.releaseEvents=function(){var k,n,h;h=this.bufferedEvents;n=h.length;if(n>0){this.clearEvents();for(k=0;k<n;++k){this.dispatch(h[k]);}}};E.hasSubscribers=function(t){var h,i;h=this[t];if(h){i=(h.length>0)||this["on"+t];}else{i=false;}return i;};E.subscribed=function(t){return(this.subscriptions[t]?true:false);};E.subscribe=function(t){this.subscriptions[t]=true;};E.unsubscribe=function(t){delete this.subscriptions[t];};},{"./Log.js":9}],6:[function(r,m,b){"use strict";var D=r("./DefaultLogonFrameProvider.js");var L=r("./LogonManager.js");var U=r("./URL.js");var f,F;function l(x,a){var i,v,s=0,e=a.length-1;if(e<0||x<a[0]){return-1;}if(x>=a[e]){return e;}while(s<e){i=(s+e+1)>>1;v=a[i];if(x===v){return i;}if(x<v){e=i-1;}else{s=i;}}return s;}function c(a){this.logonManager=a;this._lfp=new D();this._timeout={};this._idxTimeout=[];this.defaultTimeout=600;a.addEventListener("xhrlogon",this);a.addEventListener("xhrlogoncomplete",this);a.addEventListener("xhrlogonfailed",this);}m.exports=c;c.getInstance=function(){return f;};c.startup=function(){if(!f){f=new c(L.startup());}return f;};c.shutdown=function(){if(f){f.shutdown();f=null;}};F=c.prototype;Object.defineProperties(F,{logonFrameProvider:{get:function(){return this._lfp;},set:function(a){if(a){this._lfp=a;}else{this._lfp=new D();}}}});c.prototype._indexTimeouts=function(){var k,i=[],t=this._timeout;for(k in t){if(t.hasOwnProperty(k)){i.push(k);}}this._idxTimeout=i.sort();};c.prototype.getTimeout=function(a){var p,i=l(a,this._idxTimeout);if(i>=0){p=this._idxTimeout[i];if(a.substring(0,p.length)===p){return this._timeout[p];}}return this.defaultTimeout;};c.prototype.setTimeout=function(p,v){if(!p){return;}if(v){this._timeout[p]=v;}else{delete this._timeout[p];}this._indexTimeouts();};F.shutdown=function(){var a;a=this.logonManager;if(a){a.removeEventListener("xhrlogon",this);a.removeEventListener("xhrlogoncomplete",this);a.removeEventListener("xhrlogonfailed",this);}};F.getFrameLoadHandler=function(p,a,t){var g,h;t=t||this.defaultTimeout;g=function(){if(h){clearTimeout(h);}h=setTimeout(function(){p.show();},t);};return g;};F.onXHRLogon=function(a){var u,p,g,t;this.cancelXHRLogon();t=this.getTimeout(a.channel.url);u=new U(a.channel.url);u.setParameter("xhr-logon","iframe");p=this.logonFrameProvider;g=p.create();if(g){if(!g.onload){g.onload=this.getFrameLoadHandler(p,g.id,t);}g.xhrTimeout=t;g.src=u.href;}this.pending=p;};F.onXHRLogonComplete=function(){if(this.pending){this.pending.destroy();this.pending=undefined;}};F.cancelXHRLogon=function(){if(this.pending){L.getInstance().abortXHRLogon();this.onXHRLogonComplete();}};F.handleEvent=function(a){var g;switch(a.type){case"xhrlogon":g=a.request;if(g){this.onXHRLogon(g);}break;case"xhrlogoncomplete":this.onXHRLogonComplete();break;case"xhrlogonfailed":this.onXHRLogonComplete();break;}};},{"./DefaultLogonFrameProvider.js":4,"./LogonManager.js":10,"./URL.js":11}],7:[function(r,m,b){"use strict";var a=r("./events.js");var F=r("./FrameLogonManager.js");var x=r("./Log.js").logger;var c;function f(p){this.provider=p;this.xhrTimeout=600;}m.exports=f;c=f.prototype;f.frameCounter=0;var h="<div>Authentication required</div><div><a id=\"POPUP_LOGIN_LINK\" target=\"_blank\" href=\"javascript:void(0)\">Proceed to sign in</a></div>";Object.defineProperty(c,"src",{get:function(){return this.url;},set:function(u){this.initialize(u);}});function w(s,t){return setTimeout(function(){if(!s.window){s.createWindow();}},t);}c.initialize=function(u){var g,s=this;this.close();this.closed=false;this.url=u;this.createPollingFrame();g=w(s,s.xhrTimeout);a.addEventListener(this.frame,"load",function(){if(g){clearTimeout(g);}g=w(s,s.xhrTimeout);});};c.closeFrame=function(){if(this.frame){document.body.removeChild(this.frame);this.frame=undefined;}};c.close=function(){try{this.closed=true;if(this.pollIntervalId){clearInterval(this.pollIntervalId);this.pollIntervalId=undefined;}if(this.windowIntervalId){clearInterval(this.windowIntervalId);this.windowIntervalId=undefined;}this.closeAlertWindow();this.closeFrame();if(this.window){setTimeout(function(){window.focus();},100);this.window.close();this.window=undefined;}}catch(g){x.warning("Error while closing logon window: "+g.message);}};c.cancelLogon=function(){if(!this.closed){x.warning("XHR Logon cancelled");this.close();F.getInstance().cancelXHRLogon();}};c.createPollingFrame=function(){var g,i;if(this.closed){return;}f.frameCounter+=1;i="xhrLogonFrame"+f.frameCounter;g=document.createElement("iframe");g.id=i;g.style.display="none";function o(){if(document.readyState==="complete"){document.body.appendChild(g);}}if(document.readyState==="complete"){document.body.appendChild(g);}else{a.addEventListener(document,"readystatechange",o);}this.frame=g;g.src=this.url;};c.onWindowOpenFailed=function(){x.warning("Failed to open logon window");this.cancelLogon();this.provider.dispatchWindowFailedEvent();};c.createAlertWindow=function(){var s=this;if(this.alertContainer){this.closeAlertWindow();}this.alertContainer=document.createElement("div");this.alertContainer.className="alertContainer";this.alertContainer.innerHTML=h;document.body.appendChild(this.alertContainer);setTimeout(function(){var l=document.getElementById("POPUP_LOGIN_LINK");l.onclick=function(){s.createWindow();};});};c.closeAlertWindow=function(){if(this.alertContainer){this.alertContainer.parentNode.removeChild(this.alertContainer);this.alertContainer=null;}};c.createWindow=function(){var g,s=this;g=window.open(this.url);if(!g||g.closed){x.warning("Failed to open logon window, alerting user");this.createAlertWindow();}this.window=g;a.addEventListener(g,"load",function(){x.info("Logon window opened");if(s.pollIntervalId){clearInterval(s.pollIntervalId);}if(s.closed){return;}s.pollIntervalId=setInterval(function(){s.poll();},5000);if(!s.windowIntervalId){s.windowIntervalId=setInterval(function(){var g=s.window;try{if(!g||g.closed){s.cancelLogon();}else if(typeof g.notifyParent==="function"){s.poll();}}catch(i){x.warning("Logon polling failed: "+i.message);}},300);}setTimeout(function(){s.poll();},300);});a.addEventListener(g,"close",function(){s.cancelLogon();});setTimeout(function(){try{if(s.window){s.window.focus();}}catch(i){x.warn("Failed to switch focus to logon window");}},300);};c.poll=function(){if(this.window&&this.window.closed){this.cancelLogon();}else{this.closeFrame();this.createPollingFrame();}};},{"./FrameLogonManager.js":6,"./Log.js":9,"./events.js":14}],8:[function(r,m,b){"use strict";var I;function a(){this.p=[];this.r=[];this.f=[];}m.exports=a;I=a.prototype;if(!String.prototype.startsWith){String.prototype.startsWith=function(s,p){p=p||0;return(this.substr(p,s.length)===s);};}I.add=function(c){switch(typeof c){case"string":this.p.push(c);break;case"object":if(c instanceof RegExp){this.r.push(c);}else{throw new TypeError("Unsupported ignore rule type");}break;case"function":this.f.push(c);break;default:throw new TypeError("Unsupported ignore rule type");}};I.ignored=function(i){var c;c=this._prefix(i)||this._regexp(i)||this._function(i);return c;};I.clear=function(){this.p=[];this.r=[];this.f=[];};I._prefix=function(i){var f,k,n,c;c=false;f=this.p;n=f.length;for(k=0;k<n;++k){if(i.startsWith(f[k])){c=true;break;}}return c;};I._regexp=function(i){var f,k,n,c;c=false;f=this.r;n=f.length;for(k=0;k<n;++k){if(f[k].test(i)){c=true;break;}}return c;};I._function=function(i){var f,k,n,c;c=false;f=this.f;n=f.length;for(k=0;k<n;++k){try{if(f[k](i)){c=true;break;}}catch(e){}}return c;};},{}],9:[function(r,m,b){"use strict";var a,c={},l=["error","warning","info","debug"];c.error=c.warning=c.info=c.debug=function(){};function L(g){this.logger=g;}m.exports=L;function h(x,g){var i,n;n=g.length;for(i=0;i<n;++i){if(typeof x[g[i]]!=="function"){return false;}}return true;}function f(x){return(x&&(typeof x==="object")&&h(x,l));}Object.defineProperty(L,"logger",{get:function(){return a;},set:function(x){if(!x){a.logger=c;}else if(f(x)){a.logger=x;}}});l.forEach(function(g){L.prototype[g]=function(i){try{return this.logger[g](i);}catch(e){}};});a=new L(c);},{}],10:[function(r,m,b){"use strict";r("./xhr.js");var c=r("./events.js").createEvent;var E=r("./EventHandlers.js");var I=r("./IgnoreList.js");var x=r("./Log.js").logger;var X=r("./XHRLogonFilter.js");var S,l,a,_=XMLHttpRequest;S={AUTHENTICATED:0,UNAUTHENTICATED:1,PENDING:2};a=["xhrlogon","xhrlogoncomplete","xhrlogonfailed","xhrlogonaborted"];function L(g){if(l){throw new Error("XHR Logon Manager already created");}x.info("Creating XHR Logon Manager");this.queue=[];this.realms={};this.handlers=new E(a);if(g){this._filterFactory=g;}this._initializeTrustedOrigins();this._registerFilterFactory();window.addEventListener("message",this.getEventHandler());}m.exports=L;L.startup=function(g){if(!l){l=new L(g);}return l;};L.shutdown=function(){if(l){l.shutdown();l=undefined;}};L.getInstance=function(){return l;};function f(s){return(s>=200&&s<300)||(s===304);}L.prototype.triggerLogonOnSyncRequest=true;L.prototype.addEventListener=function(t,g){this.handlers.add(t,g);};L.prototype.removeEventListener=function(t,g){this.handlers.remove(t,g);};L.prototype.dispatchEvent=function(g){this.handlers.dispatch(g);};L.prototype.dispatchLogonEvent=function(g){var h;h=c("xhrlogon");h.request=g;this.dispatchEvent(h);};L.prototype.dispatchLogonCompletedEvent=function(g){var h;h=c("xhrlogoncomplete");h.xhrLogon=g;this.dispatchEvent(h);};L.prototype.dispatchLogonFailedEvent=function(g){var h;h=c("xhrlogonfailed");h.xhrLogon=g;this.dispatchEvent(h);};L.prototype.dispatchLogonAbortedEvent=function(g){var h;h=c("xhrlogonaborted");h.realm=g;this.dispatchEvent(h);};L.prototype.getRealmStatus=function(n){var s;s=this.realms[n];if(s===undefined){s=S.UNAUTHENTICATED;this.realms[n]=s;}return s;};L.prototype.isQueued=function(g){var i,n,h;if(this.pending&&this.pending.channel&&this.pending.channel.xhr===g){return true;}for(i=0,n=this.queue.length;i<n;++i){h=this.queue[i];if(h.channel&&h.channel.xhr===g){return true;}}return false;};L.prototype.onXHRLogon=function(g){var h,i;if(!g||!g.channel){x.warn("Ignoring invalid XHR Logon request");return;}if(this.isQueued(g.channel.xhr)){x.debug("Ignoring authentication request for already queued request "+g.channel.url);return;}x.info("Authentication requested for "+g.channel.url);if(this.handlers.hasSubscribers("xhrlogon")){h=g.header.realm;if(this.pending){x.debug("Pending authentication process, queueing request");if(this.getRealmStatus(h)===S.AUTHENTICATED){this.realms[h]=S.UNAUTHENTICATED;}this.queue.push(g);}else{x.debug("Dispatching authentication request");this.realms[h]=S.PENDING;this.pending=g;this.dispatchLogonEvent(g);}}else{x.info("No authentication handler registered");i=this.queue;this.queue=[];i.push(g);if(this.pending){i.push(this.pending);this.pending=undefined;}this.abort(i);}};L.prototype.onXHRLogonCompleted=function(g){var h,s,q,p,w,i,n;h=g.realm;q=this.queue;p=[];w=[];s=f(g.status);this.realms[h]=(s?S.AUTHENTICATED:S.UNAUTHENTICATED);if(this.pending){if(h===this.pending.header.realm){p.push(this.pending);}else{q.push(this.pending);}}this.pending=undefined;n=q.length;for(i=0;i<n;++i){if(q[i].header.realm===h){p.push(q[i]);}else{w.push(q[i]);}}this.queue=w;if(p.length>0){if(s){x.info("Authentication succeeded for realm "+h+", repeating requests.");this.retry(p);}else{x.warning("Authentication failed for realm "+h);this.abort(p);}}if(s){this.dispatchLogonCompletedEvent(g);}else{this.dispatchLogonFailedEvent(g);}if(this.queue.length>0){this.onXHRLogon(this.queue.shift());}};L.prototype.abortXHRLogon=function(g){var q,p,w,i,n;if(!g&&this.pending){g=this.pending.header.realm;}if(g){q=this.queue;p=[];w=[];this.realms[g]=S.UNAUTHENTICATED;if(this.pending){if(g===this.pending.header.realm){p.push(this.pending);}else{q.push(this.pending);}}this.pending=undefined;n=q.length;for(i=0;i<n;++i){if(q[i].header.realm===g){p.push(q[i]);}else{w.push(q[i]);}}this.queue=w;if(p.length>0){x.warning("Authentication aborted for realm "+g);this.abort(p);}}else{x.info("No pending authentication, ignoring abort");}this.dispatchLogonAbortedEvent(g);if(this.queue.length>0){this.onXHRLogon(this.queue.shift());}};L.prototype.retry=function(q){var i,n,g,h;n=q.length;for(i=0;i<n;++i){try{g=q[i].channel;if(g.async){h=g.xhr;h.resumeEvents();h.repeat();}}catch(j){x.warning("Error while repeating request: "+j.message);}}};L.prototype.abort=function(q){var i,n,g,h;n=q.length;for(i=0;i<n;++i){try{g=q[i].channel;if(g.async){h=g.xhr;h.resumeEvents(true);}}catch(j){x.warning("Error while aborting request: "+j.message);}}};L.prototype.abortAll=function(){var g;g=this.queue;this.queue=[];if(this.pending){g.push(this.pending);this.pending=undefined;}this.abort(g);};L.prototype.shutdown=function(){x.info("XHR Logon Manager shutdown");window.removeEventListener("message",this.getEventHandler());this.abortAll();this._unregisterFilterFactory();};L.prototype.handleEvent=function(g){var h,i,j;i=/^\s*\{\s*"xhrLogon"/;h=g.data;if(i.test(h)){try{if(this.isTrusted(g.origin)){j=JSON.parse(h);this.onXHRLogonCompleted(j.xhrLogon);}else{x.warning("Received xhrlogon message from untrusted origin "+g.origin);}}catch(k){x.warning("Invalid xhrLogon message: "+h);}}};L.prototype._initializeTrustedOrigins=function(){var g,p,o;o={};g=window.location;p=g.protocol;o[p+"//"+g.host]=true;if(g.port===""){switch(p){case"http":o[p+"//"+g.host+":80"]=true;break;case"https":o[p+"//"+g.host+":443"]=true;break;}}this._trustedOrigins=o;};L.prototype.isTrusted=function(o){return(!!this._trustedOrigins[o]);};L.prototype.addTrustedOrigin=function(o){this._trustedOrigins[o]=true;};L.prototype.getEventHandler=function(){var h,s;h=this._eventHandler;if(!h){s=this;h=function(g){s.handleEvent(g);};this._eventHandler=h;}return h;};L.prototype._getFilterFactory=function(){var g,s;g=this._filterFactory;if(!g){s=this;g=function(h){h.filters.push(new X(s,h));};this._filterFactory=g;}return g;};L.prototype._registerFilterFactory=function(){if(_.channelFactory){_.channelFactory.addFilterFactory(this._getFilterFactory());}};L.prototype._unregisterFilterFactory=function(){if(_.channelFactory){_.channelFactory.removeFilterFactory(this._getFilterFactory());delete this._filterFactory;}};L.prototype.createIgnoreList=function(){this.ignore=new I();};},{"./EventHandlers.js":5,"./IgnoreList.js":8,"./Log.js":9,"./XHRLogonFilter.js":12,"./events.js":14,"./xhr.js":16}],11:[function(r,m,b){"use strict";var U,p=/([^?#]+)(\?[^#]*)?(#.*)?/;function a(u){this._parse(u);}m.exports=a;U=a.prototype;U._parse=function(u){var c=p.exec(u);this.path=c[1];this.hash=c[3]||"";this.parameters=this._parseSearch(c[2]);};U._parseSearch=function(s){var c,f,g;g={};if(s){c=/[?&]([^&=]+)=?([^&]*)/g;f=c.exec(s);while(f){g[f[1]]=f[2];f=c.exec(s);}}return g;};U.getParameter=function(n){return decodeURIComponent(this.parameters[n]);};U.removeParameter=function(n){delete this.parameters[n];};U.setParameter=function(n,v){this.parameters[n]=encodeURIComponent(v);};Object.defineProperties(U,{href:{get:function(){var h;h=this.path+this.search+this.hash;return h;}},search:{get:function(){var s,c,n,v;s="";c=this.parameters;for(n in c){if(c.hasOwnProperty(n)){v=c[n];if(s.length>0){s+="&";}s+=n;if(v){s+="=";s+=v;}}}if(s.length>0){s="?"+s;}return s;}}});},{}],12:[function(r,m,b){"use strict";var X,u,H=2;var a=r("./XHRLogonRequest.js");function c(f,g){this.manager=f;this.channel=g;if(!this.manager.ignore||!this.manager.ignore.ignored(g.url)){g.xhr._addEventListener("readystatechange",this);}}m.exports=c;X=c.prototype;X.sending=function(f){var x;if(this.manager.ignore&&this.manager.ignore.ignored(f.url)){return;}x=f.xhr;if(x.getRequestHeader("X-XHR-Logon")===undefined){x.setRequestHeader("X-XHR-Logon","accept=\"iframe\"");}if(x.getRequestHeader("X-Requested-With")===undefined){x.setRequestHeader("X-Requested-With","XMLHttpRequest");}};X.handleEvent=function(f){var g,x,h,s;g=this.channel;x=g.xhr;if(x.readyState<H){return;}if(x.readyState===H){if(u===undefined){try{s=x.status;u=!!s;}catch(i){u=false;}if(!s){return;}}else if(!u){return;}}if(x.status===403){h=x.getResponseHeader("x-xhr-logon");if(h){if(g.async){x.suspendEvents();}if(g.async||this.manager.triggerLogonOnSyncRequest){this.manager.onXHRLogon(new a(g,f,h));}}}};},{"./XHRLogonRequest.js":13}],13:[function(r,m,b){"use strict";function X(c,a,x){this.channel=c;this.event=a;if(typeof x==="string"){this.header=X.parseHeader(x);}else{this.header=x;}}m.exports=X;X.parseHeader=function(h){var p,a,t,v,x;p=/(?:,|^)\s*(\w+)\s*=\s*"((?:[^"\\]|\\.)*)"/g;x={};a=p.exec(h);while(a!==null){t=a[1];v=a[2].replace(/\\(.)/g,"$1");x[t]=v;a=p.exec(h);}return x;};},{}],14:[function(r,m,b){"use strict";var u;function c(t,h,i){var j;j=document.createEvent("Event");j.initEvent(t,h,i);return j;}function a(t,h,i){var j,k;if(u){j=c(t,h,i);}else{try{if(h||i){k={bubbles:h,cancelable:i};}j=new Event(t,k);}catch(l){u=true;j=c(t,h,i);}}return j;}function f(t,h,l,i){if(t.addEventListener){t.addEventListener(h,l,i);}else if(t.attachEvent){t.attachEvent("on"+h,l);}}function g(t,h,l,i){if(t.removeEventListener){t.removeEventListener(h,l,i);}else if(t.detachEvent){t.detachEvent("on"+h,l);}}m.exports={createEvent:a,addEventListener:f,removeEventListener:g};},{}],15:[function(r,m,b){"use strict";r("./xhr.js");m.exports={AuxWindowFrameProvider:r("./AuxWindowFrameProvider.js"),FrameLogonManager:r("./FrameLogonManager.js"),FrameProxy:r("./FrameProxy.js"),LogonManager:r("./LogonManager.js")};},{"./AuxWindowFrameProvider.js":1,"./FrameLogonManager.js":6,"./FrameProxy.js":7,"./LogonManager.js":10,"./xhr.js":16}],16:[function(r,m,b){"use strict";function x(){var L=r("./Log.js");var C=r("./ChannelFactory.js");var E=r("./EventHandlers.js");var p,a,_,X,u=0,c=L.logger;function N(){}p=["loadstart","progress","abort","error","load","timeout","loadend"];a=p.concat("readystatechange");_=XMLHttpRequest;XMLHttpRequest._SAP_ENHANCED=true;X=_.prototype;XMLHttpRequest.channelFactory=new C();function f(o,g){var k,n,h,i,j,l;n=g.length;for(k=0;k<n;++k){h=g[k];l=o[h];if(l){j="_"+h;i=o[j];if(!i){o[j]=l;}}}}f(X,["abort","open","setRequestHeader","send","addEventListener","removeEventListener"]);X._saveOnEvent=function(t){var g,h,i,s;g="on"+t;i=this[g];h=this._getHandlers();if(h[g]){s=(i!==N);}else{s=!!i;}if(s){h[g]=i;this[g]=N;}};X._getHandlers=function(){var h;h=this._handlers;if(!h){h=new E(a);this._handlers=h;}return h;};X.handleEvent=function(g){if((g.type==="readystatechange")&&(this.readyState>2)){this._checkEventSubscriptions();}this._getHandlers().dispatch(g);};X.suspendEvents=function(){this._getHandlers().suspend=true;};X.resumeEvents=function(g){var h;h=this._getHandlers();h.suspend=false;if(g){h.releaseEvents();}};X.getEventHandler=function(){var g,h;h=this._fnHandler;if(!h){g=this;h=function(i){g.handleEvent(i);};this._fnHandler=h;}return h;};X._checkEventSubscription=function(t,h){h=h||this._getHandlers();this._saveOnEvent(t);if(h.hasSubscribers(t)){if(!h.subscribed(t)){this._addEventListener(t,this.getEventHandler());h.subscribe(t);}}else{if(h.subscribed(t)){this._removeEventListener(t,this.getEventHandler());h.unsubscribe(t);}}};X._checkEventSubscriptions=function(){var h,i,n;h=this._getHandlers();n=a.length;for(i=0;i<n;++i){this._checkEventSubscription(a[i],h);}};X.addEventListener=function(t,g){this._getHandlers().add(t,g);this._checkEventSubscription(t);};X.removeEventListener=function(t,g){this._getHandlers().remove(t,g);this._checkEventSubscription(t);};X.abort=function(){var g;try{g=this._channel;if(g){c.debug("Aborting request "+g.method+" "+g.url);g.aborting();this._abort();g.aborted();}else{c.debug("Aborting request");this._abort();}this._getHandlers().clearEvents();}catch(h){c.warning("Failed to abort request: "+h.message);if(g){g["catch"](h);}else{throw h;}}};X.open=function(g,h,i,j,k){var l,n,o,q;this._id=++u;c.debug("Opening request #"+this._id+" "+g+" "+h);n=arguments.length;if(n<=2){i=true;}o=g;q=h;this._getHandlers().clearEvents();l=_.channelFactory.create(this,g,h,i,j,k);this._channel=l;this._checkEventSubscription("readystatechange");try{this._clearParams();l.opening();g=l.method;h=l.url;if((q!==h)||(o!==g)){c.debug("Rewriting request #"+this._id+" to "+g+" "+h);}if(n<=2){this._open(g,h);}else{this._open(g,h,i,j,k);}l.opened();this._addEventListener("readystatechange",this.getEventHandler());}catch(s){c.warning("Failed to open request #"+this._id+" "+g+" "+h+": "+s.message);l["catch"](s);}};X.setRequestHeader=function(h,v){var g,n;if(typeof v!=="string"){v=""+v;}this._setRequestHeader(h,v);n=h.toLowerCase();g=this.headers;if(g[n]===undefined){g[n]=v;}else{g[n]+=", "+v;}};X.setRequestHeaders=function(h){var g,j,i,n;if(typeof h==="object"){j=Object.getOwnPropertyNames(h);n=j.length;for(i=0;i<n;++i){g=j[i];this.setRequestHeader(g,h[g]);}}};X.send=function(g){var h,i,j;this._checkEventSubscriptions();try{h=this._channel;if(h){i=h.method;j=h.url;c.debug("Sending request #"+this._id+" "+i+" "+j);h.sending();}this._saveParams(g);this._send(g);if(h){h.sent();}}catch(k){if(i){c.warning("Failed to send request #"+this._id+" "+i+" "+j+": "+k.message);}else{c.warning("Failed to send request #"+this._id+": "+k.message);}if(h){h["catch"](k);}else{throw k;}}};X.getRequestHeader=function(h){return this.headers[h.toLowerCase()];};X.deleteRepeatHeader=function(h){delete this.headers[h.toLowerCase()];};X.setRepeatHeader=function(h,v){this.headers[h.toLowerCase()]=v;};X.reopen=function(){var g=this._channel,h,i;if(g){h=g.method;i=g.url;c.debug("Reopening request #"+this._id+" "+h+" "+i);}else{throw new TypeError("Cannot reopen request");}this._checkEventSubscription("readystatechange");try{g.reopening();g.opening();this._open(h,i,g.async,g.username,g.password);g.opened();this._restoreParams();}catch(j){c.warning("Failed to reopen request #"+this._id+" "+h+" "+i+": "+j.message);g["catch"](j);}};X.repeat=function(){var g=this._channel;if(!g){throw new TypeError("Cannot repeat request");}this.reopen();this.send(this._data);};X.toString=function(){var g=this._channel,s="[object XMLHttpRequest]";if(g){s+="#"+this._id+" "+g.method+" "+g.url;}return s;};Object.defineProperties(X,{"channel":{get:function(){return this._channel;}},"headers":{get:function(){var h;h=this._headers;if(!h){h={};this._headers=h;}return h;}},"id":{get:function(){return this._id;}}});X._clearParams=function(){delete this._headers;delete this._withCredentials;delete this._timeout;delete this._data;};X._restoreParams=function(){var t,h;if(this._headers){h=this._headers;this._headers={};this.setRequestHeaders(h);}if(this._withCredentials){this.withCredentials=true;}t=this._timeout;if(t){this.timeout=t;}};X._saveParams=function(g){var t;if((g!==undefined)&&(g!==null)){this._data=g;}if(this.withCredentials){this._withCredentials=true;}t=this.timeout;if(t){this._timeout=t;}};Object.defineProperties(XMLHttpRequest,{"logger":{get:function(){return L.logger;},set:function(l){L.logger=l;}}});}if(!XMLHttpRequest._SAP_ENHANCED){x();}m.exports=XMLHttpRequest;},{"./ChannelFactory.js":3,"./EventHandlers.js":5,"./Log.js":9}]},{},[15])(15)});return m.exports;});
