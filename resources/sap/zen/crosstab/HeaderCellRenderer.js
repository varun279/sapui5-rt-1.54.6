jQuery.sap.declare("sap.zen.crosstab.HeaderCellRenderer");jQuery.sap.require("sap.zen.crosstab.rendering.RenderingConstants");jQuery.sap.require("sap.zen.crosstab.IHeaderCell");jQuery.sap.require("sap.zen.crosstab.TextConstants");jQuery.sap.require("sap.zen.crosstab.utils.Utils");sap.zen.crosstab.HeaderCellRenderer={};
sap.zen.crosstab.HeaderCellRenderer.render=function(r,c){"use strict";var a=r;var A=c.getArea();var R=A.getRenderCellCallback();var C=A.getCrosstab();var i=c.getEffectiveRowSpan();var b=c.getEffectiveColSpan();var o=null;if(R){var d=R(new sap.zen.crosstab.IHeaderCell(c));o=d.additionalStyles;}var s=c.getFormattedText();var S=c.getSort();var D=c.getDrillState();var e=c.getCssClassNames(C.isIE8Mode(),C.getPropertyBag().isRtl(),C.getUtils().isMsIE());if(S){e+=" sapzencrosstab-HeaderCellSortable";}if(D){e+=" sapzencrosstab-HeaderCellHierarchy";}a.write("<td");a.writeControlData(c);a.writeAttribute("class",e);a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);if(b>1){a.writeAttribute("colspan",b);}if(i>1){a.writeAttribute("rowspan",i);}a.write(">");a.write("<div");a.writeAttribute("id",c.getId()+"_cellLayoutDiv");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.writeAttribute("class","sapzencrosstab-cellLayoutDiv");if(c.isEntryEnabled()){a.addStyle("width","0px");a.writeStyles();}a.write(">");if(c.isEntryEnabled()){a.write("<table style='width: 100%; border-spacing: 0px;'><tbody>");a.write("<tr>");a.write("<td style='width: 100%; padding: 0px 5px 0px 0px;'>");}a.write("<div");a.writeAttribute("id",c.getId()+"_contentDiv");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);if(s){a.writeAttribute("title",s);}var f="sapzencrosstab-HeaderCellContentDiv";if(c.isLoading()){f+=" sapzencrosstab-LoadingCellContentDiv";}a.writeAttribute("class",f);if(o){for(var g in o){a.addStyle(g,o[g]);}}a.writeStyles();if(c.isEntryEnabled()){a.addStyle("width","100%");a.writeStyles();}a.write(">");j();w();a.write("</div>");a.write("</div>");if(c.isEntryEnabled()){a.write("</td>");a.write("<td style='padding: 0px'>");a.write("<div");a.writeAttribute("id","vhlp_"+c.getId());var h="sapzencrosstab-HeaderCellDivValueHelp";if(sap.zen.crosstab.utils.Utils.isMainMode()){h+="-MainMode";}h+=" sapzencrosstab-HeaderCellValueHelp";a.writeAttribute("class",h);a.write(">");a.write("</div>");a.write("</td>");a.write("</tr>");a.write("</tbody></table>");}a.write("</td>");function j(){if(S||D){l(S,D);}else{a.write(s);}}function k(){a.write("<div");a.writeAttribute("id",c.getId()+"_textContentDiv");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.addStyle("overflow","hidden");a.addStyle("text-overflow","ellipsis");a.writeStyles();a.write(">");a.write(s);a.write("</div>");}function l(){a.write("<table><tbody>");u();a.write("<tr>");m();n();q();t();a.write("</tr>");v();a.write("</tbody></table>");}function m(){if(D){var L=c.getLevel();var x=c.getArea().isRowHeaderArea();var y="sapzencrosstab-HeaderCellDivHierarchy ";if(c.getHierarchyAction()){if(D==="O"){y+="sapzencrosstab-CollapseNode";if(c.getNodeAlignment()==="bottom"){y+=" sapzencrosstab-BottomNode";}}else if(D==="C"){y+="sapzencrosstab-ExpandNode";if(sap.ui.getCore().getConfiguration().getRTL()){y+="-RTL";}}if(D==="O"||D==="C"){y+=" sapzencrosstab-PointerCursor";}}if(L>0){if(x){var W=L*C.getHierarchyIndentWidth();a.write("<td>");a.write("<div");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.addStyle("width",W+"px");a.writeAttribute("class","sapzencrosstab-HierarchySpacerDivBefore");a.writeAttribute("xtabspacer-cellid",c.getId());a.writeStyles();a.write("></div>");a.write("</td>");}}if((D==="L"&&L>0)||D!=="L"){a.write("<td>");a.write("<div");if(c.getHierarchyAction()){a.writeAttribute("id","hier_"+c.getId());}a.writeAttribute("class",y);var H=c.getHierarchyTooltip();if(H){a.writeAttribute("title",H);}a.write("></div>");a.write("</td>");}}}function n(){a.write("<td>");k();a.write("</td>");}function p(){if(S){var T=0;var x="sapzencrosstab-HeaderCellDivSortable ";a.write("<div");if(S==="NONE"){x+="sapzencrosstab-HeaderCellSortNone";T=0;}else if(S==="ASC"){x+="sapzencrosstab-HeaderCellSortAsc";T=1;}else if(S==="DESC"){x+="sapzencrosstab-HeaderCellSortDesc";T=2;}a.writeAttribute("class",x);a.writeAttribute("id","sort_"+c.getId());var y=C.getPropertyBag().getSortingToolTip(T);if(y){a.writeAttribute("title",y);}a.write("></div>");}}function q(){if(S){a.write("<td>");p();a.write("</td>");}}function t(){if(D&&c.getArea().isRowHeaderArea()){var L=c.getLevel();var M=C.getRowHeaderHierarchyLevels()[c.getCol()];var x=M-L;if(x>0){var W=x*C.getHierarchyIndentWidth();a.write("<td>");a.write("<div");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.addStyle("width",W+"px");a.writeAttribute("class","sapzencrosstab-HierarchySpacerDivAfter");a.writeAttribute("xtabspacer-cellid",c.getId());a.writeStyles();a.write("></div>");a.write("</td>");}}}function u(){if(D){var L=c.getLevel();if(L>0&&c.getArea().isColHeaderArea()){var H=L*C.getHierarchyIndentHeight();a.write("<tr><td>");a.write("<div");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesBefore");a.writeAttribute("xtabspacer-cellid",c.getId());a.addStyle("height",H+"px");a.writeStyles();a.write("></div>");a.write("</td></tr>");}}}function v(){if(D&&c.getArea().isColHeaderArea()){var L=c.getLevel();var M=C.getColHeaderHierarchyLevels()[c.getRow()];var x=M-L;if(x>0){var H=x*C.getHierarchyIndentHeight();a.write("<tr><td>");a.write("<div");a.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);a.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesAfter");a.writeAttribute("xtabspacer-cellid",c.getId());a.addStyle("height",H+"px");a.writeStyles();a.write("></div>");a.write("</td></tr>");}}}function w(){if(C.getPropertyBag().isEnableColResize()===true){if(A.isColHeaderArea()||A.isDimHeaderArea()){if(C.getPropertyBag().isTestMobileMode()||C.getPropertyBag().isMobileMode()){c.setMobileResize(true);}else{a.write("<div");a.writeAttribute("id","resi_"+c.getId());if(S){a.writeAttribute("class","sapzencrosstab-columnResizeHandleWithSort");}else{a.writeAttribute("class","sapzencrosstab-columnResizeHandle");}a.writeAttribute("title",C.getPropertyBag().getText(sap.zen.crosstab.TextConstants.COLWIDTH_ADJUST_TEXT_KEY));a.write(">");a.write("</div>");c.setMobileResize(false);}}}}};
