/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["jquery.sap.global","./library","sap/ui/core/Control","sap/ui/core/ResizeHandler","./Loco","./ViewportHandler","./Smart2DHandler","./Messages","./ContentConnector","./ViewStateManager"],function(q,l,C,R,L,V,S,M,a,b){"use strict";var c=C.extend("sap.ui.vk.ViewportBase",{metadata:{library:"sap.ui.vk","abstract":true,publicMethods:["activateView"],properties:{showDebugInfo:{type:"boolean",defaultValue:false},backgroundColorTop:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(0, 0, 0, 1)"},backgroundColorBottom:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(255, 255, 255, 1)"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},selectionMode:{type:"sap.ui.vk.SelectionMode",defaultValue:sap.ui.vk.SelectionMode.Sticky}},associations:{contentConnector:{type:"sap.ui.vk.ContentConnector",multiple:false},viewStateManager:{type:"sap.ui.vk.ViewStateManager",multiple:false},tools:{type:"sap.ui.vk.tools.Tool",multiple:true}},events:{urlClicked:{parameters:{nodeRef:"any",url:"string"},enableEventBubbling:true},resize:{parameters:{size:"object"}},nodesPicked:{parameters:{picked:{type:"any[]"}},enableEventBubbling:true},nodeZoomed:{parameters:{zoomed:{type:"any"},isZoomIn:{type:"boolean"}},enableEventBubbling:true}}}});var d=c.getMetadata().getParent().getClass().prototype;c.prototype.init=function(){if(d.init){d.init.call(this);}this._camera=null;};c.prototype.exit=function(){if(this._camera){if(this._contentConnector){var e=this._contentConnector.getContentManager();if(e){e.destroyCamera(this._camera);}this._camera=null;}}if(d.exit){d.exit.call(this);}};c.prototype.getImage=function(w,h){return null;};c.prototype.stickySelectionHandler=function(n){if(this._viewStateManager==null){return;}if(n.length===0){var e=[];this._viewStateManager.enumerateSelection(function(h){e.push(h);});if(e.length>0){this._viewStateManager.setSelectionState(e,false,false);}}else{var s=[];var f=[];var i=this._viewStateManager.getSelectionState(n);for(var g=0;g<i.length;g++){if(i[g]){f.push(n[g]);}else{s.push(n[g]);}}this._viewStateManager.setSelectionState(s,true);this._viewStateManager.setSelectionState(f,false);}};c.prototype.exclusiveSelectionHandler=function(n){if(this._viewStateManager==null){return;}var e=true;if(n.length===1){e=!this._viewStateManager.getSelectionState(n[0]);}else if(n.length>1){var i=this._viewStateManager.getSelectionState(n);for(var f=0;f<i.length;f++){if(i[f]){e=false;break;}}}if(this._viewStateManager&&(n.length===0||e)){var g=[];this._viewStateManager.enumerateSelection(function(s){g.push(s);});if(g.length>0){this._viewStateManager.setSelectionState(g,false,false);}}if(this._viewStateManager&&n.length){this._viewStateManager.setSelectionState(n,true);}};c.prototype.setCamera=function(e){if(e!==this._camera){if(this._camera&&this._contentConnector){var f=this._contentConnector.getContentManager();if(f){f.destroyCamera(this._camera);}}}this._camera=e;return this;};c.prototype.getCamera=function(){return this._camera;};c.prototype._onBeforeClearContentConnector=function(){this.setCamera(null);};c.prototype.activateView=function(v){return this;};return c;});
