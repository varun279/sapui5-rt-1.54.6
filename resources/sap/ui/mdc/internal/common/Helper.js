/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2018 SAP SE. All rights reserved
 */
sap.ui.define(["../../ResourceModel"],function(R){"use strict";var H={replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){jQuery.sap.log.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},formatDraftLockText:function(I,a,L){if(!I){return sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc").getText("draft.DRAFT_OBJECT");}else if(a){if(L){return R.getText("draft.LOCKED_OBJECT");}else{return R.getText("draft.UNSAVED_CHANGES");}}else{return"";}},_getEntitySetPath:function(m,p){var l;var e=p.slice(0,p.indexOf("/",1));if(m.getObject(e+"/$kind")==="EntityContainer"){l=e.length+1;e=p.slice(l,p.indexOf("/",l));}return e;},_extendValueListMetadata:function(m,e,P,v){var a;var f=function(b){return b.Property.$PropertyPath===P;};var M=function(b){var t=b.$Type;if(t==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t==="com.sap.vocabularies.Common.v1.ValueListParameterOut"){this.oLocalDataToValueListMap[b.LocalDataProperty.$PropertyPath]=b.ValueListProperty;}};for(var p in v){v[p].$mdc={};v[p].$mdc.qualifier=p||"default";a=v[p].Parameters;var l=m.getObject('/'+e+'/'+P+"@sapui.name");var F=m.getObject("/"+e+"@Org.OData.Capabilities.V1.FilterRestrictions");var o=F&&F.FilterExpressionRestrictions.filter(f);v[p].sTitle=m.getObject("/"+e+"/$Type/"+P+"@com.sap.vocabularies.Common.v1.Label");if(o&&(o.length>0)&&(o[0].AllowedExpressions.indexOf("SingleValue")>-1)){v[p].sSelectionMode="SingleSelectLeft";v[p].sTitle=R.getText("valuehelp.SINGLE_ITEM_SELECT")+v[p].sTitle;}else{v[p].sSelectionMode="MultiSelect";}for(var i=0;i<a.length;i++){if(a[i].LocalDataProperty&&a[i].LocalDataProperty.$PropertyPath===l){v[p].$mdc.keyPath=a[i].ValueListProperty;v[p].$mdc.descriptionPath=v[p].$model.getMetaModel().getObject("/"+v[p].CollectionPath+"/"+a[i].ValueListProperty+"@com.sap.vocabularies.Common.v1.Text/$Path");break;}}v[p].$mdc.oLocalDataToValueListMap={};v[p].Parameters.forEach(M.bind(v[p].$mdc));}return v;}};return H;},true);
