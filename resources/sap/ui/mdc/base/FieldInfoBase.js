/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2018 SAP SE. All rights reserved
 */
sap.ui.define(['sap/ui/core/Element','sap/m/ResponsivePopover'],function(E,R){"use strict";var F=E.extend("sap.ui.mdc.base.FieldInfoBase",{metadata:{library:"sap.ui.mdc",events:{dataUpdate:{}}}});F.prototype.init=function(){this._oPopover=null;};F.prototype.exit=function(){if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};F.prototype.isTriggerable=function(){throw new Error("sap.ui.mdc.base.FieldInfoBase: method isTriggerable must be redefined");};F.prototype.getTriggerHref=function(){var l=this.getDirectLink();return l?l.getHref():undefined;};F.prototype.open=function(){var c=this.getParent();if(!c||!this.isTriggerable()){jQuery.sap.log.error("FieldInfoBase: Control for which the popover should be opened is not assigned. So the popover can not be opened.");return Promise.resolve();}var t=this;return this.createPopover().then(function(p){t.setPopover(p);c.addDependent(p);p.openBy(c);});};F.prototype.getDirectLink=function(){throw new Error("sap.ui.mdc.base.FieldInfoBase: method getDirectLink must be redefined");};F.prototype.getPopoverContent=function(){throw new Error("sap.ui.mdc.base.FieldInfoBase: method getPopoverContent must be redefined");};F.prototype.getPopoverTitle=function(){throw new Error("sap.ui.mdc.base.FieldInfoBase: method getPopoverTitle must be redefined");};F.prototype.getControl=function(){return this.getParent();};F.prototype.getPopover=function(){return this._oPopover;};F.prototype.setPopover=function(p){this._oPopover=p;};F.prototype.createPopover=function(){var t=this;return this.getPopoverContent().then(function(p){return new R(t.getId()+"-popover",{title:t.getPopoverTitle(),contentWidth:"380px",horizontalScrolling:false,showHeader:sap.ui.Device.system.phone,placement:sap.m.PlacementType.Auto,content:[p],afterClose:function(){var P=t.getPopover();if(P){P.destroy();}}});});};return F;},true);
